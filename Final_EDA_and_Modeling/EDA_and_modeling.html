<!DOCTYPE html>
<!-- saved from url=(0112)https://htmlpreview.github.io/?https://github.com/rickfontenot/Predicting_Income/blob/main/EDA_and_modeling.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!--<base href="https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/EDA_and_modeling.html">--><base href=".">


<meta name="generator" content="pandoc">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">


<meta name="author" content="Rick Fontenot">


<title>Predicting Income</title>

<script type="text/htmlpreview" src="./EDA_and_modeling2_files/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="./EDA_and_modeling2_files/bootstrap.min.css" rel="stylesheet">
<script type="text/htmlpreview" src="./EDA_and_modeling2_files/bootstrap.min.js"></script>
<script type="text/htmlpreview" src="./EDA_and_modeling2_files/html5shiv.min.js"></script>
<script type="text/htmlpreview" src="./EDA_and_modeling2_files/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script type="text/htmlpreview" src="./EDA_and_modeling2_files/tabsets.js"></script>
<link href="./EDA_and_modeling2_files/default.css" rel="stylesheet">
<script type="text/htmlpreview" src="./EDA_and_modeling2_files/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script>
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type="text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




<script type="text/javascript" src="./EDA_and_modeling2_files/MathJax.js"></script><style>/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0;font-size:2em}mark{color:#000;background:#ff0}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{height:0;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;font:inherit;color:inherit}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input[type=checkbox],input[type=radio]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{padding:.35em .625em .75em;margin:0 2px;border:1px solid silver}legend{padding:0;border:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{color:#000!important;text-shadow:none!important;background:0 0!important;-webkit-box-shadow:none!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:'Glyphicons Halflings';src:url(../fonts/glyphicons-halflings-regular.eot);src:url(../fonts/glyphicons-halflings-regular.eot?#iefix) format('embedded-opentype'),url(../fonts/glyphicons-halflings-regular.woff) format('woff'),url(../fonts/glyphicons-halflings-regular.ttf) format('truetype'),url(../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\2a"}.glyphicon-plus:before{content:"\2b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\20ac"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270f"}.glyphicon-glass:before{content:"\e001"}.glyphicon-music:before{content:"\e002"}.glyphicon-search:before{content:"\e003"}.glyphicon-heart:before{content:"\e005"}.glyphicon-star:before{content:"\e006"}.glyphicon-star-empty:before{content:"\e007"}.glyphicon-user:before{content:"\e008"}.glyphicon-film:before{content:"\e009"}.glyphicon-th-large:before{content:"\e010"}.glyphicon-th:before{content:"\e011"}.glyphicon-th-list:before{content:"\e012"}.glyphicon-ok:before{content:"\e013"}.glyphicon-remove:before{content:"\e014"}.glyphicon-zoom-in:before{content:"\e015"}.glyphicon-zoom-out:before{content:"\e016"}.glyphicon-off:before{content:"\e017"}.glyphicon-signal:before{content:"\e018"}.glyphicon-cog:before{content:"\e019"}.glyphicon-trash:before{content:"\e020"}.glyphicon-home:before{content:"\e021"}.glyphicon-file:before{content:"\e022"}.glyphicon-time:before{content:"\e023"}.glyphicon-road:before{content:"\e024"}.glyphicon-download-alt:before{content:"\e025"}.glyphicon-download:before{content:"\e026"}.glyphicon-upload:before{content:"\e027"}.glyphicon-inbox:before{content:"\e028"}.glyphicon-play-circle:before{content:"\e029"}.glyphicon-repeat:before{content:"\e030"}.glyphicon-refresh:before{content:"\e031"}.glyphicon-list-alt:before{content:"\e032"}.glyphicon-lock:before{content:"\e033"}.glyphicon-flag:before{content:"\e034"}.glyphicon-headphones:before{content:"\e035"}.glyphicon-volume-off:before{content:"\e036"}.glyphicon-volume-down:before{content:"\e037"}.glyphicon-volume-up:before{content:"\e038"}.glyphicon-qrcode:before{content:"\e039"}.glyphicon-barcode:before{content:"\e040"}.glyphicon-tag:before{content:"\e041"}.glyphicon-tags:before{content:"\e042"}.glyphicon-book:before{content:"\e043"}.glyphicon-bookmark:before{content:"\e044"}.glyphicon-print:before{content:"\e045"}.glyphicon-camera:before{content:"\e046"}.glyphicon-font:before{content:"\e047"}.glyphicon-bold:before{content:"\e048"}.glyphicon-italic:before{content:"\e049"}.glyphicon-text-height:before{content:"\e050"}.glyphicon-text-width:before{content:"\e051"}.glyphicon-align-left:before{content:"\e052"}.glyphicon-align-center:before{content:"\e053"}.glyphicon-align-right:before{content:"\e054"}.glyphicon-align-justify:before{content:"\e055"}.glyphicon-list:before{content:"\e056"}.glyphicon-indent-left:before{content:"\e057"}.glyphicon-indent-right:before{content:"\e058"}.glyphicon-facetime-video:before{content:"\e059"}.glyphicon-picture:before{content:"\e060"}.glyphicon-map-marker:before{content:"\e062"}.glyphicon-adjust:before{content:"\e063"}.glyphicon-tint:before{content:"\e064"}.glyphicon-edit:before{content:"\e065"}.glyphicon-share:before{content:"\e066"}.glyphicon-check:before{content:"\e067"}.glyphicon-move:before{content:"\e068"}.glyphicon-step-backward:before{content:"\e069"}.glyphicon-fast-backward:before{content:"\e070"}.glyphicon-backward:before{content:"\e071"}.glyphicon-play:before{content:"\e072"}.glyphicon-pause:before{content:"\e073"}.glyphicon-stop:before{content:"\e074"}.glyphicon-forward:before{content:"\e075"}.glyphicon-fast-forward:before{content:"\e076"}.glyphicon-step-forward:before{content:"\e077"}.glyphicon-eject:before{content:"\e078"}.glyphicon-chevron-left:before{content:"\e079"}.glyphicon-chevron-right:before{content:"\e080"}.glyphicon-plus-sign:before{content:"\e081"}.glyphicon-minus-sign:before{content:"\e082"}.glyphicon-remove-sign:before{content:"\e083"}.glyphicon-ok-sign:before{content:"\e084"}.glyphicon-question-sign:before{content:"\e085"}.glyphicon-info-sign:before{content:"\e086"}.glyphicon-screenshot:before{content:"\e087"}.glyphicon-remove-circle:before{content:"\e088"}.glyphicon-ok-circle:before{content:"\e089"}.glyphicon-ban-circle:before{content:"\e090"}.glyphicon-arrow-left:before{content:"\e091"}.glyphicon-arrow-right:before{content:"\e092"}.glyphicon-arrow-up:before{content:"\e093"}.glyphicon-arrow-down:before{content:"\e094"}.glyphicon-share-alt:before{content:"\e095"}.glyphicon-resize-full:before{content:"\e096"}.glyphicon-resize-small:before{content:"\e097"}.glyphicon-exclamation-sign:before{content:"\e101"}.glyphicon-gift:before{content:"\e102"}.glyphicon-leaf:before{content:"\e103"}.glyphicon-fire:before{content:"\e104"}.glyphicon-eye-open:before{content:"\e105"}.glyphicon-eye-close:before{content:"\e106"}.glyphicon-warning-sign:before{content:"\e107"}.glyphicon-plane:before{content:"\e108"}.glyphicon-calendar:before{content:"\e109"}.glyphicon-random:before{content:"\e110"}.glyphicon-comment:before{content:"\e111"}.glyphicon-magnet:before{content:"\e112"}.glyphicon-chevron-up:before{content:"\e113"}.glyphicon-chevron-down:before{content:"\e114"}.glyphicon-retweet:before{content:"\e115"}.glyphicon-shopping-cart:before{content:"\e116"}.glyphicon-folder-close:before{content:"\e117"}.glyphicon-folder-open:before{content:"\e118"}.glyphicon-resize-vertical:before{content:"\e119"}.glyphicon-resize-horizontal:before{content:"\e120"}.glyphicon-hdd:before{content:"\e121"}.glyphicon-bullhorn:before{content:"\e122"}.glyphicon-bell:before{content:"\e123"}.glyphicon-certificate:before{content:"\e124"}.glyphicon-thumbs-up:before{content:"\e125"}.glyphicon-thumbs-down:before{content:"\e126"}.glyphicon-hand-right:before{content:"\e127"}.glyphicon-hand-left:before{content:"\e128"}.glyphicon-hand-up:before{content:"\e129"}.glyphicon-hand-down:before{content:"\e130"}.glyphicon-circle-arrow-right:before{content:"\e131"}.glyphicon-circle-arrow-left:before{content:"\e132"}.glyphicon-circle-arrow-up:before{content:"\e133"}.glyphicon-circle-arrow-down:before{content:"\e134"}.glyphicon-globe:before{content:"\e135"}.glyphicon-wrench:before{content:"\e136"}.glyphicon-tasks:before{content:"\e137"}.glyphicon-filter:before{content:"\e138"}.glyphicon-briefcase:before{content:"\e139"}.glyphicon-fullscreen:before{content:"\e140"}.glyphicon-dashboard:before{content:"\e141"}.glyphicon-paperclip:before{content:"\e142"}.glyphicon-heart-empty:before{content:"\e143"}.glyphicon-link:before{content:"\e144"}.glyphicon-phone:before{content:"\e145"}.glyphicon-pushpin:before{content:"\e146"}.glyphicon-usd:before{content:"\e148"}.glyphicon-gbp:before{content:"\e149"}.glyphicon-sort:before{content:"\e150"}.glyphicon-sort-by-alphabet:before{content:"\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\e152"}.glyphicon-sort-by-order:before{content:"\e153"}.glyphicon-sort-by-order-alt:before{content:"\e154"}.glyphicon-sort-by-attributes:before{content:"\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\e156"}.glyphicon-unchecked:before{content:"\e157"}.glyphicon-expand:before{content:"\e158"}.glyphicon-collapse-down:before{content:"\e159"}.glyphicon-collapse-up:before{content:"\e160"}.glyphicon-log-in:before{content:"\e161"}.glyphicon-flash:before{content:"\e162"}.glyphicon-log-out:before{content:"\e163"}.glyphicon-new-window:before{content:"\e164"}.glyphicon-record:before{content:"\e165"}.glyphicon-save:before{content:"\e166"}.glyphicon-open:before{content:"\e167"}.glyphicon-saved:before{content:"\e168"}.glyphicon-import:before{content:"\e169"}.glyphicon-export:before{content:"\e170"}.glyphicon-send:before{content:"\e171"}.glyphicon-floppy-disk:before{content:"\e172"}.glyphicon-floppy-saved:before{content:"\e173"}.glyphicon-floppy-remove:before{content:"\e174"}.glyphicon-floppy-save:before{content:"\e175"}.glyphicon-floppy-open:before{content:"\e176"}.glyphicon-credit-card:before{content:"\e177"}.glyphicon-transfer:before{content:"\e178"}.glyphicon-cutlery:before{content:"\e179"}.glyphicon-header:before{content:"\e180"}.glyphicon-compressed:before{content:"\e181"}.glyphicon-earphone:before{content:"\e182"}.glyphicon-phone-alt:before{content:"\e183"}.glyphicon-tower:before{content:"\e184"}.glyphicon-stats:before{content:"\e185"}.glyphicon-sd-video:before{content:"\e186"}.glyphicon-hd-video:before{content:"\e187"}.glyphicon-subtitles:before{content:"\e188"}.glyphicon-sound-stereo:before{content:"\e189"}.glyphicon-sound-dolby:before{content:"\e190"}.glyphicon-sound-5-1:before{content:"\e191"}.glyphicon-sound-6-1:before{content:"\e192"}.glyphicon-sound-7-1:before{content:"\e193"}.glyphicon-copyright-mark:before{content:"\e194"}.glyphicon-registration-mark:before{content:"\e195"}.glyphicon-cloud-download:before{content:"\e197"}.glyphicon-cloud-upload:before{content:"\e198"}.glyphicon-tree-conifer:before{content:"\e199"}.glyphicon-tree-deciduous:before{content:"\e200"}.glyphicon-cd:before{content:"\e201"}.glyphicon-save-file:before{content:"\e202"}.glyphicon-open-file:before{content:"\e203"}.glyphicon-level-up:before{content:"\e204"}.glyphicon-copy:before{content:"\e205"}.glyphicon-paste:before{content:"\e206"}.glyphicon-alert:before{content:"\e209"}.glyphicon-equalizer:before{content:"\e210"}.glyphicon-king:before{content:"\e211"}.glyphicon-queen:before{content:"\e212"}.glyphicon-pawn:before{content:"\e213"}.glyphicon-bishop:before{content:"\e214"}.glyphicon-knight:before{content:"\e215"}.glyphicon-baby-formula:before{content:"\e216"}.glyphicon-tent:before{content:"\26fa"}.glyphicon-blackboard:before{content:"\e218"}.glyphicon-bed:before{content:"\e219"}.glyphicon-apple:before{content:"\f8ff"}.glyphicon-erase:before{content:"\e221"}.glyphicon-hourglass:before{content:"\231b"}.glyphicon-lamp:before{content:"\e223"}.glyphicon-duplicate:before{content:"\e224"}.glyphicon-piggy-bank:before{content:"\e225"}.glyphicon-scissors:before{content:"\e226"}.glyphicon-bitcoin:before{content:"\e227"}.glyphicon-btc:before{content:"\e227"}.glyphicon-xbt:before{content:"\e227"}.glyphicon-yen:before{content:"\00a5"}.glyphicon-jpy:before{content:"\00a5"}.glyphicon-ruble:before{content:"\20bd"}.glyphicon-rub:before{content:"\20bd"}.glyphicon-scale:before{content:"\e230"}.glyphicon-ice-lolly:before{content:"\e231"}.glyphicon-ice-lolly-tasted:before{content:"\e232"}.glyphicon-education:before{content:"\e233"}.glyphicon-option-horizontal:before{content:"\e234"}.glyphicon-option-vertical:before{content:"\e235"}.glyphicon-menu-hamburger:before{content:"\e236"}.glyphicon-modal-window:before{content:"\e237"}.glyphicon-oil:before{content:"\e238"}.glyphicon-grain:before{content:"\e239"}.glyphicon-sunglasses:before{content:"\e240"}.glyphicon-text-size:before{content:"\e241"}.glyphicon-text-color:before{content:"\e242"}.glyphicon-text-background:before{content:"\e243"}.glyphicon-object-align-top:before{content:"\e244"}.glyphicon-object-align-bottom:before{content:"\e245"}.glyphicon-object-align-horizontal:before{content:"\e246"}.glyphicon-object-align-left:before{content:"\e247"}.glyphicon-object-align-vertical:before{content:"\e248"}.glyphicon-object-align-right:before{content:"\e249"}.glyphicon-triangle-right:before{content:"\e250"}.glyphicon-triangle-left:before{content:"\e251"}.glyphicon-triangle-bottom:before{content:"\e252"}.glyphicon-triangle-top:before{content:"\e253"}.glyphicon-console:before{content:"\e254"}.glyphicon-superscript:before{content:"\e255"}.glyphicon-subscript:before{content:"\e256"}.glyphicon-menu-left:before{content:"\e257"}.glyphicon-menu-right:before{content:"\e258"}.glyphicon-menu-down:before{content:"\e259"}.glyphicon-menu-up:before{content:"\e260"}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{display:inline-block;max-width:100%;height:auto;padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:20px;margin-bottom:10px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:10px;margin-bottom:10px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:36px}.h2,h2{font-size:30px}.h3,h3{font-size:24px}.h4,h4{font-size:18px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}.small,small{font-size:85%}.mark,mark{padding:.2em;background-color:#fcf8e3}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:focus,a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:focus,a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:focus,a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:focus,a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:focus,a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:focus,a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:focus,a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:focus,a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:focus,a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:10px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;margin-left:-5px;list-style:none}.list-inline>li{display:inline-block;padding-right:5px;padding-left:5px}dl{margin-top:0;margin-bottom:20px}dd,dt{line-height:1.42857143}dt{font-weight:700}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:''}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:'\00A0 \2014'}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:monospace}code{padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;border-radius:4px}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;-webkit-box-shadow:none;box-shadow:none}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{margin-right:-15px;margin-left:-15px}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}th{}.table{width:100%;max-width:100%;margin-bottom:20px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered{border:1px solid #ddd}.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*=col-]{position:static;display:table-column;float:none}table td[class*=col-],table th[class*=col-]{position:static;display:table-cell;float:none}.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px\9;line-height:normal}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=file]:focus,input[type=checkbox]:focus,input[type=radio]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{display:block;padding-top:7px;font-size:14px;line-height:1.42857143;color:#555}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}input[type=search]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=time].form-control,input[type=datetime-local].form-control,input[type=month].form-control{line-height:34px}.input-group-sm input[type=date],.input-group-sm input[type=time],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],input[type=date].input-sm,input[type=time].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=time],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],input[type=date].input-lg,input[type=time].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg{line-height:46px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-top:4px\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;vertical-align:middle;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.checkbox-inline.disabled,.radio-inline.disabled,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio-inline{cursor:not-allowed}.checkbox.disabled label,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .radio label{cursor:not-allowed}.form-control-static{min-height:34px;padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm select[multiple].form-control,.form-group-sm textarea.form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-lg{height:46px;line-height:46px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg select[multiple].form-control,.form-group-lg textarea.form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.3333333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{padding-top:7px;margin-top:0;margin-bottom:0}.form-horizontal .checkbox,.form-horizontal .radio{min-height:27px}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right}}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:14.33px;font-size:18px}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none;opacity:.65}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.focus,.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active.focus,.btn-default.active:focus,.btn-default.active:hover,.btn-default:active.focus,.btn-default:active:focus,.btn-default:active:hover,.open>.dropdown-toggle.btn-default.focus,.open>.dropdown-toggle.btn-default:focus,.open>.dropdown-toggle.btn-default:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled,.btn-default.disabled.active,.btn-default.disabled.focus,.btn-default.disabled:active,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled],.btn-default[disabled].active,.btn-default[disabled].focus,.btn-default[disabled]:active,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default.active,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active.focus,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary:active.focus,.btn-primary:active:focus,.btn-primary:active:hover,.open>.dropdown-toggle.btn-primary.focus,.open>.dropdown-toggle.btn-primary:focus,.open>.dropdown-toggle.btn-primary:hover{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled,.btn-primary.disabled.active,.btn-primary.disabled.focus,.btn-primary.disabled:active,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled],.btn-primary[disabled].active,.btn-primary[disabled].focus,.btn-primary[disabled]:active,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary.active,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active.focus,.btn-success.active:focus,.btn-success.active:hover,.btn-success:active.focus,.btn-success:active:focus,.btn-success:active:hover,.open>.dropdown-toggle.btn-success.focus,.open>.dropdown-toggle.btn-success:focus,.open>.dropdown-toggle.btn-success:hover{color:#fff;background-color:#398439;border-color:#255625}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled,.btn-success.disabled.active,.btn-success.disabled.focus,.btn-success.disabled:active,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled],.btn-success[disabled].active,.btn-success[disabled].focus,.btn-success[disabled]:active,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success.active,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active.focus,.btn-info.active:focus,.btn-info.active:hover,.btn-info:active.focus,.btn-info:active:focus,.btn-info:active:hover,.open>.dropdown-toggle.btn-info.focus,.open>.dropdown-toggle.btn-info:focus,.open>.dropdown-toggle.btn-info:hover{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled,.btn-info.disabled.active,.btn-info.disabled.focus,.btn-info.disabled:active,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled],.btn-info[disabled].active,.btn-info[disabled].focus,.btn-info[disabled]:active,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info.active,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.focus,.btn-warning:focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active.focus,.btn-warning.active:focus,.btn-warning.active:hover,.btn-warning:active.focus,.btn-warning:active:focus,.btn-warning:active:hover,.open>.dropdown-toggle.btn-warning.focus,.open>.dropdown-toggle.btn-warning:focus,.open>.dropdown-toggle.btn-warning:hover{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled,.btn-warning.disabled.active,.btn-warning.disabled.focus,.btn-warning.disabled:active,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled],.btn-warning[disabled].active,.btn-warning[disabled].focus,.btn-warning[disabled]:active,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning.active,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active.focus,.btn-danger.active:focus,.btn-danger.active:hover,.btn-danger:active.focus,.btn-danger:active:focus,.btn-danger:active:hover,.open>.dropdown-toggle.btn-danger.focus,.open>.dropdown-toggle.btn-danger:focus,.open>.dropdown-toggle.btn-danger:hover{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled,.btn-danger.disabled.active,.btn-danger.disabled.focus,.btn-danger.disabled:active,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled],.btn-danger[disabled].active,.btn-danger[disabled].focus,.btn-danger[disabled]:active,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger.active,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{font-weight:400;color:#337ab7;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.35s;-o-transition-duration:.35s;transition-duration:.35s;-webkit-transition-property:height,visibility;-o-transition-property:height,visibility;transition-property:height,visibility}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid\9;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown,.dropup{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;cursor:not-allowed;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{right:0;left:auto}.dropdown-menu-left{right:auto;left:0}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{content:"";border-top:0;border-bottom:4px dashed;border-bottom:4px solid\9}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.navbar-right .dropdown-menu{right:0;left:auto}.navbar-right .dropdown-menu-left{right:auto;left:0}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn,.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-right:8px;padding-left:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-right:12px;padding-left:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:4px}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-left-radius:0;border-top-right-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{display:table-cell;float:none;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-right:0;padding-left:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:46px;line-height:46px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.nav{padding-left:0;margin-bottom:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;cursor:default;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0}}.nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}@media (min-width:768px){.navbar{border-radius:4px}}@media (min-width:768px){.navbar-header{float:left}}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;-webkit-overflow-scrolling:touch;border-top:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1)}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar-collapse{width:auto;border-top:0;-webkit-box-shadow:none;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-right:0;padding-left:0}}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}}.navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.navbar-static-top{border-radius:0}}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:768px){.navbar-fixed-bottom,.navbar-fixed-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;height:50px;padding:15px 15px;font-size:18px;line-height:20px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-top:8px;margin-right:15px;margin-bottom:8px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.navbar-toggle{display:none}}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:768px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{padding:10px 15px;margin-top:8px;margin-right:-15px;margin-bottom:8px;margin-left:-15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1)}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;-webkit-box-shadow:none;box-shadow:none}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}@media (min-width:768px){.navbar-text{float:left;margin-right:15px;margin-left:15px}}@media (min-width:768px){.navbar-left{float:left!important}.navbar-right{float:right!important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#e7e7e7}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{color:#fff;background-color:#080808}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:20px;list-style:none;background-color:#f5f5f5;border-radius:4px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{padding:0 5px;color:#ccc;content:"/\00a0"}.breadcrumb>.active{color:#777}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#337ab7;text-decoration:none;background-color:#fff;border:1px solid #ddd}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-top-right-radius:4px;border-bottom-right-radius:4px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{z-index:3;color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:2;color:#fff;cursor:default;background-color:#337ab7;border-color:#337ab7}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px;line-height:1.3333333}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-top-left-radius:6px;border-bottom-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-top-right-radius:6px;border-bottom-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px;line-height:1.5}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-top-left-radius:3px;border-bottom-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-top-right-radius:3px;border-bottom-right-radius:3px}.pager{padding-left:0;margin:20px 0;text-align:center;list-style:none}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;cursor:not-allowed;background-color:#fff}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:middle;background-color:#777;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron .h1,.jumbotron h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.container .jumbotron,.container-fluid .jumbotron{padding-right:60px;padding-left:60px}.jumbotron .h1,.jumbotron h1{font-size:63px}}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-right:auto;margin-left:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#333}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{height:20px;margin-bottom:20px;overflow:hidden;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);-webkit-background-size:40px 40px;background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{overflow:hidden;zoom:1}.media-body{width:10000px}.media-object{display:block}.media-object.img-thumbnail{max-width:none}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{padding-left:0;margin-bottom:20px}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.list-group-item,button.list-group-item{color:#555}a.list-group-item .list-group-item-heading,button.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover,button.list-group-item:focus,button.list-group-item:hover{color:#555;text-decoration:none;background-color:#f5f5f5}button.list-group-item{width:100%;text-align:left}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{color:#777;cursor:not-allowed;background-color:#eee}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success,button.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading,button.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover,button.list-group-item-success:focus,button.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover,button.list-group-item-success.active,button.list-group-item-success.active:focus,button.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info,button.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading,button.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover,button.list-group-item-info:focus,button.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover,button.list-group-item-info.active,button.list-group-item-info.active:focus,button.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning,button.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading,button.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover,button.list-group-item-warning:focus,button.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover,button.list-group-item-warning.active,button.list-group-item-warning.active:focus,button.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger,button.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading,button.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover,button.list-group-item-danger:focus,button.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover,button.list-group-item-danger.active,button.list-group-item-danger.active:focus,button.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-heading>.dropdown .dropdown-toggle{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-left-radius:3px;border-top-right-radius:3px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-left-radius:0;border-top-right-radius:0}.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.list-group+.panel-footer{border-top-width:0}.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-right:15px;padding-left:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}.panel>.table-responsive{margin-bottom:0;border:0}.panel-group{margin-bottom:20px}.panel-group .panel{margin-bottom:0;border-radius:4px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:6px}.well-sm{padding:9px;border-radius:3px}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}button.close{-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0}.modal-open{overflow:hidden}.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;overflow:hidden;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out;-webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);-o-transform:translate(0,-25%);transform:translate(0,-25%)}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{filter:alpha(opacity=0);opacity:0}.modal-backdrop.in{filter:alpha(opacity=50);opacity:.5}.modal-header{min-height:16.43px;padding:15px;border-bottom:1px solid #e5e5e5}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-bottom:0;margin-left:5px}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;font-style:normal;font-weight:400;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;filter:alpha(opacity=0);opacity:0;line-break:auto}.tooltip.in{filter:alpha(opacity=90);opacity:.9}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{right:5px;bottom:0;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);line-break:auto}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{padding:8px 14px;margin:0;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow{border-width:11px}.popover>.arrow:after{content:"";border-width:10px}.popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.popover.top>.arrow:after{bottom:1px;margin-left:-10px;content:" ";border-top-color:#fff;border-bottom-width:0}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#999;border-right-color:rgba(0,0,0,.25);border-left-width:0}.popover.right>.arrow:after{bottom:-10px;left:1px;content:" ";border-right-color:#fff;border-left-width:0}.popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25)}.popover.bottom>.arrow:after{top:1px;margin-left:-10px;content:" ";border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{right:1px;bottom:-10px;content:" ";border-right-width:0;border-left-color:#fff}.carousel{position:relative}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner>.item{position:relative;display:none;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-inner>.item.active.right,.carousel-inner>.item.next{left:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{left:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{left:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;bottom:0;left:0;width:15%;font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);filter:alpha(opacity=50);opacity:.5}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(rgba(0,0,0,.0001)));background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);background-repeat:repeat-x}.carousel-control.right{right:0;left:auto;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.0001)),to(rgba(0,0,0,.5)));background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);background-repeat:repeat-x}.carousel-control:focus,.carousel-control:hover{color:#fff;text-decoration:none;filter:alpha(opacity=90);outline:0;opacity:.9}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block;margin-top:-10px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;font-family:serif;line-height:1}.carousel-control .icon-prev:before{content:'\2039'}.carousel-control .icon-next:before{content:'\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;padding-left:0;margin-left:-30%;text-align:center;list-style:none}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;cursor:pointer;background-color:#000\9;background-color:rgba(0,0,0,0);border:1px solid #fff;border-radius:10px}.carousel-indicators .active{width:12px;height:12px;margin:0;background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-15px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px}.carousel-caption{right:20%;left:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.modal-footer:after,.modal-footer:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{display:table;content:" "}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.modal-footer:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-right:auto;margin-left:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-md,.visible-sm,.visible-xs{display:none!important}.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table!important}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}}@media (max-width:767px){.visible-xs-block{display:block!important}}@media (max-width:767px){.visible-xs-inline{display:inline!important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table!important}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table!important}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table!important}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}}@media (min-width:1200px){.visible-lg-block{display:block!important}}@media (min-width:1200px){.visible-lg-inline{display:inline!important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table!important}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}}@media print{.hidden-print{display:none!important}}
</style><style>.hljs-literal {
  color: #990073;
}

.hljs-number {
  color: #099;
}

.hljs-comment {
  color: #998;
  font-style: italic;
}

.hljs-keyword {
  color: #900;
  font-weight: bold;
}

.hljs-string {
  color: #d14;
}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body><div id="MathJax_Message" style="display: none;"></div>


<div class="container-fluid main-container">




<div id="header">



<h1 class="title toc-ignore">Predicting Income</h1>
<h4 class="author">Rick Fontenot, Tricia Herrera, Michael Mazel, Cameron Stewart</h4>
<h4 class="date">8/8/2021</h4>

</div>


<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(glmnet)</code></pre>
<pre><code class="hljs">## Loading required package: Matrix</code></pre>
<pre><code class="hljs">## Loaded glmnet 4.1-1</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(ROCR)
<span class="hljs-keyword">library</span>(MASS)
<span class="hljs-keyword">library</span>(ggplot2)
<span class="hljs-keyword">library</span>(pheatmap)
<span class="hljs-keyword">library</span>(randomForest)</code></pre>
<pre><code class="hljs">## randomForest 4.6-14</code></pre>
<pre><code class="hljs">## Type rfNews() to see new features/changes/bug fixes.</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'randomForest'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:ggplot2':
## 
##     margin</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(dplyr)</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'dplyr'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:randomForest':
## 
##     combine</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:MASS':
## 
##     select</code></pre>
<pre><code class="hljs">## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code class="hljs">## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(tidyverse)</code></pre>
<pre><code class="hljs">## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code class="hljs">## ✓ tibble  3.1.1     ✓ purrr   0.3.4
## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
## ✓ readr   1.4.0     ✓ forcats 0.5.1</code></pre>
<pre><code class="hljs">## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::combine()       masks randomForest::combine()
## x tidyr::expand()        masks Matrix::expand()
## x dplyr::filter()        masks stats::filter()
## x dplyr::lag()           masks stats::lag()
## x randomForest::margin() masks ggplot2::margin()
## x tidyr::pack()          masks Matrix::pack()
## x dplyr::select()        masks MASS::select()
## x tidyr::unpack()        masks Matrix::unpack()</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(VIM)</code></pre>
<pre><code class="hljs">## Loading required package: colorspace</code></pre>
<pre><code class="hljs">## Loading required package: grid</code></pre>
<pre><code class="hljs">## VIM is ready to use.</code></pre>
<pre><code class="hljs">## Suggestions and bug-reports can be submitted at: https://github.com/statistikat/VIM/issues</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'VIM'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:datasets':
## 
##     sleep</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(caret)</code></pre>
<pre><code class="hljs">## Loading required package: lattice</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'caret'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:purrr':
## 
##     lift</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(corrplot)</code></pre>
<pre><code class="hljs">## corrplot 0.88 loaded</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(ggplot2) 
<span class="hljs-keyword">library</span>(ggthemes)
<span class="hljs-keyword">library</span>(vcd)
<span class="hljs-comment">#install.packages("gtsummary")</span>
<span class="hljs-keyword">library</span>(gtsummary)</code></pre>
<pre><code class="hljs">## #BlackLivesMatter</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'gtsummary'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:MASS':
## 
##     select</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(Hmisc)</code></pre>
<pre><code class="hljs">## Loading required package: survival</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'survival'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:caret':
## 
##     cluster</code></pre>
<pre><code class="hljs">## Loading required package: Formula</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'Hmisc'</code></pre>
<pre><code class="hljs">## The following objects are masked from 'package:dplyr':
## 
##     src, summarize</code></pre>
<pre><code class="hljs">## The following objects are masked from 'package:base':
## 
##     format.pval, units</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(pROC)</code></pre>
<pre><code class="hljs">## Type 'citation("pROC")' for a citation.</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'pROC'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:colorspace':
## 
##     coords</code></pre>
<pre><code class="hljs">## The following objects are masked from 'package:stats':
## 
##     cov, smooth, var</code></pre>
<p>Load Theme for plots</p>
<pre class="r"><code class="hljs">theme_set(theme_fivethirtyeight())
theme_update(axis.title = element_text()) <span class="hljs-comment">#the default for fivethirtyeight is to not show axis labels, this removes that default so we can choose to specify and display axis titles</span>
theme_update(plot.title = element_text(hjust = <span class="hljs-number">0.5</span>)) <span class="hljs-comment"># changing default to center all titles</span></code></pre>
<p>Load Data downloaded from UCI and stored on github repo <a href="https://archive.ics.uci.edu/ml/datasets/Adult" class="uri">https://archive.ics.uci.edu/ml/datasets/Adult</a></p>
<pre class="r"><code class="hljs">adult = read.csv(<span class="hljs-string">"https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/data/adult.data"</span>, header = <span class="hljs-literal">FALSE</span>)</code></pre>
<p>Description of variables from UCI:</p>
<p>Response: &gt;50K, &lt;=50K.</p>
<p>age: continuous. workclass: Private, Self-emp-not-inc, Self-emp-inc, Federal-gov, Local-gov, State-gov, Without-pay, Never-worked. fnlwgt: continuous. education: Bachelors, Some-college, 11th, HS-grad, Prof-school, Assoc-acdm, Assoc-voc, 9th, 7th-8th, 12th, Masters, 1st-4th, 10th, Doctorate, 5th-6th, Preschool. education-num: continuous. marital-status: Married-civ-spouse, Divorced, Never-married, Separated, Widowed, Married-spouse-absent, Married-AF-spouse. occupation: Tech-support, Craft-repair, Other-service, Sales, Exec-managerial, Prof-specialty, Handlers-cleaners, Machine-op-inspct, Adm-clerical, Farming-fishing, Transport-moving, Priv-house-serv, Protective-serv, Armed-Forces. relationship: Wife, Own-child, Husband, Not-in-family, Other-relative, Unmarried. race: White, Asian-Pac-Islander, Amer-Indian-Eskimo, Other, Black. sex: Female, Male. capital-gain: continuous. capital-loss: continuous. hours-per-week: continuous. native-country: United-States, Cambodia, England, Puerto-Rico, Canada, Germany, Outlying-US(Guam-USVI-etc), India, Japan, Greece, South, China, Cuba, Iran, Honduras, Philippines, Italy, Poland, Jamaica, Vietnam, Mexico, Portugal, Ireland, France, Dominican-Republic, Laos, Ecuador, Taiwan, Haiti, Columbia, Hungary, Guatemala, Nicaragua, Scotland, Thailand, Yugoslavia, El-Salvador, Trinadad&amp;Tobago, Peru, Hong, Holand-Netherlands.</p>
<p>Add column names to data set:</p>
<pre class="r"><code class="hljs"><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> names using underscore instead of hyphen so they can be referenced easier later</span>
colnames(adult) &lt;- c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"workclass"</span>,<span class="hljs-string">"fnlwgt"</span>,<span class="hljs-string">"education"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"marital_status"</span>,<span class="hljs-string">"occupation"</span>,<span class="hljs-string">"relationship"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>,<span class="hljs-string">"native_country"</span>,<span class="hljs-string">"income"</span>)</code></pre>
<p>Investigate NA values to determine what needs resolution</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Replace "?" with NA and re-do missing value analysis</span>
missing_values &lt;- adult
missing_values[, <span class="hljs-number">1</span>:<span class="hljs-number">14</span>][missing_values[, <span class="hljs-number">1</span>:<span class="hljs-number">14</span>] == <span class="hljs-string">" ?"</span>] &lt;- <span class="hljs-literal">NA</span>

aggr_plot &lt;- aggr(missing_values, col=c(<span class="hljs-string">'navyblue'</span>,<span class="hljs-string">'red'</span>), numbers=<span class="hljs-literal">TRUE</span>, sortVars=<span class="hljs-literal">TRUE</span>, labels=names(adult), cex.axis=<span class="hljs-number">.7</span>, gap=<span class="hljs-number">3</span>, ylab=c(<span class="hljs-string">"Percent data missing"</span>,<span class="hljs-string">"Combinations Missing"</span>), prop=<span class="hljs-literal">FALSE</span>,cex.numbers=<span class="hljs-number">0.8</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-4-1.png" width="672"></p>
<pre><code class="hljs">## 
##  Variables sorted by number of missings: 
##        Variable Count
##      occupation  1843
##       workclass  1836
##  native_country   583
##             age     0
##          fnlwgt     0
##       education     0
##   education_num     0
##  marital_status     0
##    relationship     0
##            race     0
##             sex     0
##    capital_gain     0
##    capital_loss     0
##  hours_per_week     0
##          income     0</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#occupation missing 5.66% of values</span>
<span class="hljs-comment">#workclass missing 5.64% of values</span>
<span class="hljs-comment">#native-country missing 1.79&amp; of values</span>
<span class="hljs-comment">#Note that half of the missing workclass values occur on observations that are also missing occupation</span></code></pre>
<p>Examine formats of data available</p>
<pre class="r"><code class="hljs">str(adult)</code></pre>
<pre><code class="hljs">## 'data.frame':    32561 obs. of  15 variables:
##  $ age           : int  39 50 38 53 28 37 49 52 31 42 ...
##  $ workclass     : chr  " State-gov" " Self-emp-not-inc" " Private" " Private" ...
##  $ fnlwgt        : int  77516 83311 215646 234721 338409 284582 160187 209642 45781 159449 ...
##  $ education     : chr  " Bachelors" " Bachelors" " HS-grad" " 11th" ...
##  $ education_num : int  13 13 9 7 13 14 5 9 14 13 ...
##  $ marital_status: chr  " Never-married" " Married-civ-spouse" " Divorced" " Married-civ-spouse" ...
##  $ occupation    : chr  " Adm-clerical" " Exec-managerial" " Handlers-cleaners" " Handlers-cleaners" ...
##  $ relationship  : chr  " Not-in-family" " Husband" " Not-in-family" " Husband" ...
##  $ race          : chr  " White" " White" " White" " Black" ...
##  $ sex           : chr  " Male" " Male" " Male" " Male" ...
##  $ capital_gain  : int  2174 0 0 0 0 0 0 0 14084 5178 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  40 13 40 40 40 40 16 45 50 40 ...
##  $ native_country: chr  " United-States" " United-States" " United-States" " United-States" ...
##  $ income        : chr  " &lt;=50K" " &lt;=50K" " &lt;=50K" " &lt;=50K" ...</code></pre>
<pre class="r"><code class="hljs">adult[, <span class="hljs-number">1</span>:<span class="hljs-number">14</span>][adult[, <span class="hljs-number">1</span>:<span class="hljs-number">14</span>] == <span class="hljs-string">" ?"</span>] &lt;- <span class="hljs-string">"no_response"</span>

<span class="hljs-comment">#Convert character vars to factors and make list of vars</span>
adult$workclass &lt;- as.factor(adult$workclass)
adult$education &lt;- as.factor(adult$education)
adult$marital_status &lt;- as.factor(adult$marital_status)
adult$occupation &lt;- as.factor(adult$occupation)
adult$relationship &lt;- as.factor(adult$relationship)
adult$race &lt;- as.factor(adult$race)
adult$sex &lt;- as.factor(adult$sex)
adult$native_country &lt;- as.factor(adult$native_country)
adult$income &lt;- as.factor(adult$income)

categorical.explanatory = c(<span class="hljs-string">"workclass"</span>,<span class="hljs-string">"education"</span>,<span class="hljs-string">"marital_status"</span>,<span class="hljs-string">"occupation"</span>,<span class="hljs-string">"relationship"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"native_country"</span>)

str(adult)</code></pre>
<pre><code class="hljs">## 'data.frame':    32561 obs. of  15 variables:
##  $ age           : int  39 50 38 53 28 37 49 52 31 42 ...
##  $ workclass     : Factor w/ 9 levels " Federal-gov",..: 7 6 4 4 4 4 4 6 4 4 ...
##  $ fnlwgt        : int  77516 83311 215646 234721 338409 284582 160187 209642 45781 159449 ...
##  $ education     : Factor w/ 16 levels " 10th"," 11th",..: 10 10 12 2 10 13 7 12 13 10 ...
##  $ education_num : int  13 13 9 7 13 14 5 9 14 13 ...
##  $ marital_status: Factor w/ 7 levels " Divorced"," Married-AF-spouse",..: 5 3 1 3 3 3 4 3 5 3 ...
##  $ occupation    : Factor w/ 15 levels " Adm-clerical",..: 1 4 6 6 10 4 8 4 10 4 ...
##  $ relationship  : Factor w/ 6 levels " Husband"," Not-in-family",..: 2 1 2 1 6 6 2 1 2 1 ...
##  $ race          : Factor w/ 5 levels " Amer-Indian-Eskimo",..: 5 5 5 3 3 5 3 5 5 5 ...
##  $ sex           : Factor w/ 2 levels " Female"," Male": 2 2 2 2 1 1 1 2 1 2 ...
##  $ capital_gain  : int  2174 0 0 0 0 0 0 0 14084 5178 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  40 13 40 40 40 40 16 45 50 40 ...
##  $ native_country: Factor w/ 42 levels " Cambodia"," Canada",..: 39 39 39 39 5 39 23 39 39 39 ...
##  $ income        : Factor w/ 2 levels " &lt;=50K"," &gt;50K": 1 1 1 1 1 1 1 2 2 2 ...</code></pre>
<p>Summary Statistics for Categorical variables &amp; Distributions for Numerical variables</p>
<pre class="r"><code class="hljs">categorical &lt;- adult %&gt;% select(categorical.explanatory, income)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(categorical.explanatory)` instead of `categorical.explanatory` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">categorical %&gt;% tbl_summary()</code></pre>
<div id="jguxevegbv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jguxevegbv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jguxevegbv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jguxevegbv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jguxevegbv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jguxevegbv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jguxevegbv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jguxevegbv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jguxevegbv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jguxevegbv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jguxevegbv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jguxevegbv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jguxevegbv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jguxevegbv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jguxevegbv .gt_from_md > :first-child {
  margin-top: 0;
}

#jguxevegbv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jguxevegbv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jguxevegbv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jguxevegbv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jguxevegbv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jguxevegbv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jguxevegbv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jguxevegbv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jguxevegbv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jguxevegbv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jguxevegbv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jguxevegbv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jguxevegbv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jguxevegbv .gt_left {
  text-align: left;
}

#jguxevegbv .gt_center {
  text-align: center;
}

#jguxevegbv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jguxevegbv .gt_font_normal {
  font-weight: normal;
}

#jguxevegbv .gt_font_bold {
  font-weight: bold;
}

#jguxevegbv .gt_font_italic {
  font-style: italic;
}

#jguxevegbv .gt_super {
  font-size: 65%;
}

#jguxevegbv .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>N = 32,561</strong><sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">workclass</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Federal-gov</td>
<td class="gt_row gt_center">960 (2.9%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Local-gov</td>
<td class="gt_row gt_center">2,093 (6.4%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Never-worked</td>
<td class="gt_row gt_center">7 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Private</td>
<td class="gt_row gt_center">22,696 (70%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Self-emp-inc</td>
<td class="gt_row gt_center">1,116 (3.4%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Self-emp-not-inc</td>
<td class="gt_row gt_center">2,541 (7.8%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> State-gov</td>
<td class="gt_row gt_center">1,298 (4.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Without-pay</td>
<td class="gt_row gt_center">14 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">no_response</td>
<td class="gt_row gt_center">1,836 (5.6%)</td></tr>
    <tr><td class="gt_row gt_left">education</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 10th</td>
<td class="gt_row gt_center">933 (2.9%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 11th</td>
<td class="gt_row gt_center">1,175 (3.6%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 12th</td>
<td class="gt_row gt_center">433 (1.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 1st-4th</td>
<td class="gt_row gt_center">168 (0.5%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 5th-6th</td>
<td class="gt_row gt_center">333 (1.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 7th-8th</td>
<td class="gt_row gt_center">646 (2.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> 9th</td>
<td class="gt_row gt_center">514 (1.6%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Assoc-acdm</td>
<td class="gt_row gt_center">1,067 (3.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Assoc-voc</td>
<td class="gt_row gt_center">1,382 (4.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Bachelors</td>
<td class="gt_row gt_center">5,355 (16%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Doctorate</td>
<td class="gt_row gt_center">413 (1.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> HS-grad</td>
<td class="gt_row gt_center">10,501 (32%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Masters</td>
<td class="gt_row gt_center">1,723 (5.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Preschool</td>
<td class="gt_row gt_center">51 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Prof-school</td>
<td class="gt_row gt_center">576 (1.8%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Some-college</td>
<td class="gt_row gt_center">7,291 (22%)</td></tr>
    <tr><td class="gt_row gt_left">marital_status</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Divorced</td>
<td class="gt_row gt_center">4,443 (14%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Married-AF-spouse</td>
<td class="gt_row gt_center">23 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Married-civ-spouse</td>
<td class="gt_row gt_center">14,976 (46%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Married-spouse-absent</td>
<td class="gt_row gt_center">418 (1.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Never-married</td>
<td class="gt_row gt_center">10,683 (33%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Separated</td>
<td class="gt_row gt_center">1,025 (3.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Widowed</td>
<td class="gt_row gt_center">993 (3.0%)</td></tr>
    <tr><td class="gt_row gt_left">occupation</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Adm-clerical</td>
<td class="gt_row gt_center">3,770 (12%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Armed-Forces</td>
<td class="gt_row gt_center">9 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Craft-repair</td>
<td class="gt_row gt_center">4,099 (13%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Exec-managerial</td>
<td class="gt_row gt_center">4,066 (12%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Farming-fishing</td>
<td class="gt_row gt_center">994 (3.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Handlers-cleaners</td>
<td class="gt_row gt_center">1,370 (4.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Machine-op-inspct</td>
<td class="gt_row gt_center">2,002 (6.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Other-service</td>
<td class="gt_row gt_center">3,295 (10%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Priv-house-serv</td>
<td class="gt_row gt_center">149 (0.5%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Prof-specialty</td>
<td class="gt_row gt_center">4,140 (13%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Protective-serv</td>
<td class="gt_row gt_center">649 (2.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Sales</td>
<td class="gt_row gt_center">3,650 (11%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Tech-support</td>
<td class="gt_row gt_center">928 (2.9%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Transport-moving</td>
<td class="gt_row gt_center">1,597 (4.9%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">no_response</td>
<td class="gt_row gt_center">1,843 (5.7%)</td></tr>
    <tr><td class="gt_row gt_left">relationship</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Husband</td>
<td class="gt_row gt_center">13,193 (41%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Not-in-family</td>
<td class="gt_row gt_center">8,305 (26%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Other-relative</td>
<td class="gt_row gt_center">981 (3.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Own-child</td>
<td class="gt_row gt_center">5,068 (16%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Unmarried</td>
<td class="gt_row gt_center">3,446 (11%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Wife</td>
<td class="gt_row gt_center">1,568 (4.8%)</td></tr>
    <tr><td class="gt_row gt_left">race</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Amer-Indian-Eskimo</td>
<td class="gt_row gt_center">311 (1.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Asian-Pac-Islander</td>
<td class="gt_row gt_center">1,039 (3.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Black</td>
<td class="gt_row gt_center">3,124 (9.6%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Other</td>
<td class="gt_row gt_center">271 (0.8%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> White</td>
<td class="gt_row gt_center">27,816 (85%)</td></tr>
    <tr><td class="gt_row gt_left">sex</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Female</td>
<td class="gt_row gt_center">10,771 (33%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Male</td>
<td class="gt_row gt_center">21,790 (67%)</td></tr>
    <tr><td class="gt_row gt_left">native_country</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Cambodia</td>
<td class="gt_row gt_center">19 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Canada</td>
<td class="gt_row gt_center">121 (0.4%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> China</td>
<td class="gt_row gt_center">75 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Columbia</td>
<td class="gt_row gt_center">59 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Cuba</td>
<td class="gt_row gt_center">95 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Dominican-Republic</td>
<td class="gt_row gt_center">70 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Ecuador</td>
<td class="gt_row gt_center">28 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> El-Salvador</td>
<td class="gt_row gt_center">106 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> England</td>
<td class="gt_row gt_center">90 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> France</td>
<td class="gt_row gt_center">29 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Germany</td>
<td class="gt_row gt_center">137 (0.4%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Greece</td>
<td class="gt_row gt_center">29 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Guatemala</td>
<td class="gt_row gt_center">64 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Haiti</td>
<td class="gt_row gt_center">44 (0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Holand-Netherlands</td>
<td class="gt_row gt_center">1 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Honduras</td>
<td class="gt_row gt_center">13 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Hong</td>
<td class="gt_row gt_center">20 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Hungary</td>
<td class="gt_row gt_center">13 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> India</td>
<td class="gt_row gt_center">100 (0.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Iran</td>
<td class="gt_row gt_center">43 (0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Ireland</td>
<td class="gt_row gt_center">24 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Italy</td>
<td class="gt_row gt_center">73 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Jamaica</td>
<td class="gt_row gt_center">81 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Japan</td>
<td class="gt_row gt_center">62 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Laos</td>
<td class="gt_row gt_center">18 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Mexico</td>
<td class="gt_row gt_center">643 (2.0%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Nicaragua</td>
<td class="gt_row gt_center">34 (0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Outlying-US(Guam-USVI-etc)</td>
<td class="gt_row gt_center">14 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Peru</td>
<td class="gt_row gt_center">31 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Philippines</td>
<td class="gt_row gt_center">198 (0.6%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Poland</td>
<td class="gt_row gt_center">60 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Portugal</td>
<td class="gt_row gt_center">37 (0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Puerto-Rico</td>
<td class="gt_row gt_center">114 (0.4%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Scotland</td>
<td class="gt_row gt_center">12 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> South</td>
<td class="gt_row gt_center">80 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Taiwan</td>
<td class="gt_row gt_center">51 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Thailand</td>
<td class="gt_row gt_center">18 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Trinadad&amp;Tobago</td>
<td class="gt_row gt_center">19 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> United-States</td>
<td class="gt_row gt_center">29,170 (90%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Vietnam</td>
<td class="gt_row gt_center">67 (0.2%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> Yugoslavia</td>
<td class="gt_row gt_center">16 (&lt;0.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">no_response</td>
<td class="gt_row gt_center">583 (1.8%)</td></tr>
    <tr><td class="gt_row gt_left">income</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> &lt;=50K</td>
<td class="gt_row gt_center">24,720 (76%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;"> &gt;50K</td>
<td class="gt_row gt_center">7,841 (24%)</td></tr>
  </tbody>
  
  <tfoot>
    <tr class="gt_footnotes">
      <td colspan="2">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks">
            <em>1</em>
          </sup>
           
          n (%)
          <br>
        </p>
      </td>
    </tr>
  </tfoot>
</table>
</div>
<pre class="r"><code class="hljs">hist.data.frame(adult %&gt;% select(-categorical.explanatory,-income),nclass=<span class="hljs-number">20</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-6-1.png" width="672"></p>
<p>Check initial simple logistic regression with no cleaning or additional features (Dropped all NA, dropped fnlwgt, no imputing of missing values) *Note occupation and native_country not significant</p>
<p>AIC: 16561 Accuracy : 0.8188 Sensitivity : 0.9369<br>
Specificity : 0.4584 **Poor Specificity</p>
<pre class="r"><code class="hljs">logit.set &lt;- adult %&gt;% select(-fnlwgt)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$native_country &lt;- as.numeric(logit.set$native_country)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age           : int  65 43 41 27 26 52 26 48 18 43 ...
##  $ workclass     : num  4 4 1 7 4 2 4 4 4 4 ...
##  $ education     : num  12 12 10 16 12 12 9 10 3 16 ...
##  $ education_num : int  9 9 13 10 9 9 11 13 8 10 ...
##  $ marital_status: num  7 1 5 3 3 3 1 3 5 3 ...
##  $ occupation    : num  8 4 4 14 7 8 3 10 12 10 ...
##  $ relationship  : num  2 2 2 1 1 6 4 1 4 1 ...
##  $ race          : num  5 5 5 5 5 3 5 5 5 5 ...
##  $ sex           : num  1 1 2 2 2 1 2 2 1 2 ...
##  $ capital_gain  : int  0 0 0 3411 0 0 0 0 0 5178 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  15 30 40 40 40 20 40 45 20 40 ...
##  $ native_country: num  39 39 39 39 39 39 39 2 39 39 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 1 2 2 1 1 1 1 2 1 2 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -4.6157  -0.6179  -0.3357  -0.0859   3.4072  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.594e+00  2.807e-01 -30.614  &lt; 2e-16 ***
## age             3.623e-02  1.648e-03  21.979  &lt; 2e-16 ***
## workclass      -1.169e-01  1.316e-02  -8.882  &lt; 2e-16 ***
## education       2.192e-02  6.293e-03   3.482 0.000497 ***
## education_num   3.310e-01  8.689e-03  38.101  &lt; 2e-16 ***
## marital_status -2.364e-01  1.478e-02 -15.989  &lt; 2e-16 ***
## occupation      1.062e-03  4.641e-03   0.229 0.818950    
## relationship   -1.146e-01  1.725e-02  -6.644 3.06e-11 ***
## race            9.592e-02  2.520e-02   3.806 0.000141 ***
## sex             9.074e-01  6.063e-02  14.966  &lt; 2e-16 ***
## capital_gain    3.209e-04  1.185e-05  27.078  &lt; 2e-16 ***
## capital_loss    7.025e-04  4.082e-05  17.209  &lt; 2e-16 ***
## hours_per_week  3.001e-02  1.679e-03  17.873  &lt; 2e-16 ***
## native_country  3.499e-03  3.382e-03   1.035 0.300852    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25051  on 22792  degrees of freedom
## Residual deviance: 17264  on 22779  degrees of freedom
## AIC: 17292
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6917 1329
##          1  450 1072
##                                           
##                Accuracy : 0.8179          
##                  95% CI : (0.8101, 0.8255)
##     No Information Rate : 0.7542          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4396          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9389          
##             Specificity : 0.4465          
##          Pos Pred Value : 0.8388          
##          Neg Pred Value : 0.7043          
##              Prevalence : 0.7542          
##          Detection Rate : 0.7081          
##    Detection Prevalence : 0.8442          
##       Balanced Accuracy : 0.6927          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<p>Explore Categorical Varaibles vs.&nbsp;Income</p>
<p>workclass: reducing levels into work_sector improves model performance and simplifies interpretability so choosing to replace workclass</p>
<p>AIC: 16511 vs original 16561 –&gt;improved Accuracy : 0.8201 vs original 0.8188 –&gt;improved Sensitivity : 0.9395 vs original 0.9369 –&gt; improved<br>
Specificity : 0.4571 vs original 0.4584 –&gt;dropped just a little</p>
<pre class="r"><code class="hljs">workclass = table(adult$income, adult$workclass)
mosaicplot(workclass, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"workclass"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(workclass, shade = TRUE, las = 2, main = "workclass", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/workclass-1.png" width="672"></p>
<pre class="r"><code class="hljs">workclasschisq &lt;- chisq.test(workclass) </code></pre>
<pre><code class="hljs">## Warning in chisq.test(workclass): Chi-squared approximation may be incorrect</code></pre>
<pre class="r"><code class="hljs">workclasschisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  workclass
## X-squared = 1045.7, df = 8, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 827.72 , p-value=2.2e-16</span>

<span class="hljs-comment">#Evaluate reducing levels to Government, Private, Self-Employed, Other</span>
adult$workclass &lt;- trimws(adult$workclass)
adult$work_sector &lt;- <span class="hljs-string">"Other"</span>
adult$work_sector[adult$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Federal-gov"</span>,<span class="hljs-string">"Local-gov"</span>,<span class="hljs-string">"State-gov"</span>)] &lt;- <span class="hljs-string">"Government"</span>
adult$work_sector[adult$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Private"</span>)] &lt;- <span class="hljs-string">"Private"</span>
adult$work_sector[adult$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Self-emp-inc"</span>,<span class="hljs-string">"Self-emp-not-inc"</span>)] &lt;- <span class="hljs-string">"Self_Employed"</span>
adult$work_sector[adult$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-worked"</span>,<span class="hljs-string">"Without-pay"</span>)] &lt;- <span class="hljs-string">"Not_Working"</span>
adult$work_sector = as.factor(adult$work_sector)

work_sector = table(adult$income, adult$work_sector)
mosaicplot(work_sector, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"work_sector"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(work_sector, shade = TRUE, las = 2, main = "work_sector", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/workclass-2.png" width="672"></p>
<pre class="r"><code class="hljs">work_sectorchisq &lt;- chisq.test(work_sector) 
work_sectorchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  work_sector
## X-squared = 687.39, df = 4, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 565.28 , p-value=2.2e-16</span>
<span class="hljs-comment">#Since X-Square decreased the difference between levels is not quite as strong but does simplify</span>

<span class="hljs-comment">#Re-run regression with work_sector to compare to workclass</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-workclass)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$work_sector &lt;- as.numeric(logit.set$work_sector)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$native_country &lt;- as.numeric(logit.set$native_country)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age           : int  55 38 21 25 20 21 20 27 21 39 ...
##  $ education     : num  16 12 12 10 16 16 12 12 12 10 ...
##  $ education_num : int  10 9 9 13 10 10 9 9 9 13 ...
##  $ marital_status: num  3 5 5 5 3 5 5 3 5 5 ...
##  $ occupation    : num  13 7 9 4 12 12 8 6 14 10 ...
##  $ relationship  : num  1 2 2 4 3 4 4 1 4 2 ...
##  $ race          : num  5 5 5 5 5 5 5 5 3 5 ...
##  $ sex           : num  2 1 1 2 1 2 2 2 2 2 ...
##  $ capital_gain  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  40 40 25 40 30 35 50 40 20 40 ...
##  $ native_country: num  39 39 39 39 39 39 39 39 39 39 ...
##  $ work_sector   : num  4 4 4 4 4 4 4 4 4 4 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 2 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3483  -0.6233  -0.3401  -0.0874   3.1550  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.739e+00  2.804e-01 -31.164  &lt; 2e-16 ***
## age             3.307e-02  1.619e-03  20.421  &lt; 2e-16 ***
## education       1.296e-02  6.183e-03   2.096   0.0361 *  
## education_num   3.398e-01  8.662e-03  39.226  &lt; 2e-16 ***
## marital_status -2.406e-01  1.475e-02 -16.317  &lt; 2e-16 ***
## occupation     -8.887e-03  4.508e-03  -1.971   0.0487 *  
## relationship   -1.144e-01  1.711e-02  -6.684 2.33e-11 ***
## race            1.001e-01  2.536e-02   3.948 7.87e-05 ***
## sex             9.519e-01  6.047e-02  15.743  &lt; 2e-16 ***
## capital_gain    3.177e-04  1.175e-05  27.029  &lt; 2e-16 ***
## capital_loss    6.716e-04  4.024e-05  16.691  &lt; 2e-16 ***
## hours_per_week  2.889e-02  1.657e-03  17.438  &lt; 2e-16 ***
## native_country  1.751e-03  3.357e-03   0.522   0.6020    
## work_sector    -2.555e-02  1.594e-02  -1.603   0.1089    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25169  on 22792  degrees of freedom
## Residual deviance: 17474  on 22779  degrees of freedom
## AIC: 17502
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 7001 1270
##          1  417 1080
##                                           
##                Accuracy : 0.8273          
##                  95% CI : (0.8196, 0.8347)
##     No Information Rate : 0.7594          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4605          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9438          
##             Specificity : 0.4596          
##          Pos Pred Value : 0.8465          
##          Neg Pred Value : 0.7214          
##              Prevalence : 0.7594          
##          Detection Rate : 0.7167          
##    Detection Prevalence : 0.8467          
##       Balanced Accuracy : 0.7017          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>education</p>
<pre class="r"><code class="hljs">education = table(adult$income, adult$education)
mosaicplot(education, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"education"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(education, shade = TRUE, las = 2, main = "education", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/education-1.png" width="672"></p>
<pre class="r"><code class="hljs">educationchisq &lt;- chisq.test(education) 
educationchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  education
## X-squared = 4429.7, df = 15, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 4429.7 , p-value=2.2e-16</span>
<span class="hljs-comment">#Hard to read since factor levels not in proper order</span>

adult$education &lt;- trimws(adult$education)

adult %&gt;% mutate(education = fct_reorder(education, education_num)) %&gt;% ggplot(aes(x=education,y=education_num)) + 
  geom_boxplot()+ labs(title= <span class="hljs-string">"education vs education_num"</span> , x = <span class="hljs-string">"Level"</span>, y= <span class="hljs-string">"Number"</span>) +
  theme(axis.text.x=element_text(angle=<span class="hljs-number">45</span>,hjust=<span class="hljs-number">1</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/education-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Note these two columns are the same info, which is better categorical or numerical? Based on initial logistic regression the numeric has lower p-value and more significance</span></code></pre>
<p>marital_status: reducing levels into marriage_status improves model performance and simplifies interpretability so choosing to replace marital_status</p>
<p>AIC: 14470 vs original 16561 –&gt;improved Accuracy : 0.832 vs original 0.8188 –&gt;improved Sensitivity : 0.9237 vs original 0.9369 –&gt; dropped a little<br>
Specificity : 0.5656 vs original 0.4584 –&gt;improved</p>
<pre class="r"><code class="hljs">marital_status = table(adult$income, adult$marital_status)
mosaicplot(marital_status, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"marital_status"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(marital_status, shade = TRUE, las = 2, main = "marital_status", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/marital_status-1.png" width="672"></p>
<pre class="r"><code class="hljs">marital_statuschisq &lt;- chisq.test(marital_status) 
marital_statuschisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  marital_status
## X-squared = 6517.7, df = 6, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 6518 , p-value=2.2e-16</span>

<span class="hljs-comment">#Evaluate reducing levels to Married, Single, Previously-Married</span>
adult$marital_status &lt;- trimws(adult$marital_status)
adult$marriage_status &lt;- <span class="hljs-string">"Other"</span>
adult$marriage_status[adult$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Married-AF-spouse"</span>,<span class="hljs-string">"Married-civ-spouse"</span>)] &lt;- <span class="hljs-string">"Married"</span>
adult$marriage_status[adult$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Divorced"</span>,<span class="hljs-string">"Married-spouse-absent"</span>,<span class="hljs-string">"Separated"</span>,<span class="hljs-string">"Widowed"</span>)] &lt;- <span class="hljs-string">"Previously-Married"</span>
adult$marriage_status[adult$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-married"</span>)] &lt;- <span class="hljs-string">"Single"</span>
adult$marriage_status = as.factor(adult$marriage_status)

marriage_status = table(adult$income, adult$marriage_status)
mosaicplot(marriage_status, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"marriage_status"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(marriage_status, shade = TRUE, las = 2, main = "marriage_status", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/marital_status-2.png" width="672"></p>
<pre class="r"><code class="hljs">marriage_statuschisq &lt;- chisq.test(marriage_status) 
marriage_statuschisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  marriage_status
## X-squared = 6509.5, df = 2, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 6509 , p-value=2.2e-16</span>
<span class="hljs-comment">#Only slight decrease in X-squared much easier to interpret</span>

<span class="hljs-comment">#Relationship may be correlated</span>
<span class="hljs-comment">#Do marital status + gender = relationship status?</span>
marriage_vs_relationship = table(adult$relationship, adult$marriage_status)
marriage_vs_relationship</code></pre>
<pre><code class="hljs">##                  
##                   Married Previously-Married Single
##    Husband          13193                  0      0
##    Not-in-family       17               3582   4706
##    Other-relative     125                245    611
##    Own-child           96                487   4485
##    Unmarried            0               2565    881
##    Wife              1568                  0      0</code></pre>
<pre class="r"><code class="hljs">chisq.test(marriage_vs_relationship)</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  marriage_vs_relationship
## X-squared = 38455, df = 10, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Re-run regression with marriage_status to compare to workclass</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marital_status)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$native_country &lt;- as.numeric(logit.set$native_country)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age            : int  60 23 18 52 46 35 26 45 45 32 ...
##  $ workclass      : num  7 5 5 2 7 5 5 5 5 5 ...
##  $ education      : num  12 12 2 13 16 12 15 12 16 10 ...
##  $ education_num  : int  9 9 7 14 10 9 15 9 10 13 ...
##  $ occupation     : num  8 3 6 10 4 3 10 1 14 7 ...
##  $ relationship   : num  2 2 4 1 1 2 1 5 2 2 ...
##  $ race           : num  3 5 5 3 5 5 5 5 5 5 ...
##  $ sex            : num  2 2 2 2 2 2 2 1 2 1 ...
##  $ capital_gain   : int  0 0 0 0 3137 0 0 0 0 0 ...
##  $ capital_loss   : int  1876 0 0 0 0 0 1977 0 0 1590 ...
##  $ hours_per_week : int  50 40 12 40 40 50 40 40 50 42 ...
##  $ native_country : num  39 39 39 39 39 39 39 39 39 39 ...
##  $ marriage_status: num  2 3 3 1 1 2 1 2 2 2 ...
##  $ income.binary  : Factor w/ 2 levels "0","1": 1 1 1 2 1 1 2 1 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3443  -0.5575  -0.2210  -0.0498   3.6563  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -6.715e+00  3.124e-01 -21.495  &lt; 2e-16 ***
## age              1.977e-02  1.729e-03  11.432  &lt; 2e-16 ***
## workclass       -7.319e-02  1.377e-02  -5.315 1.07e-07 ***
## education        1.259e-02  6.560e-03   1.919  0.05499 .  
## education_num    3.749e-01  9.354e-03  40.077  &lt; 2e-16 ***
## occupation      -1.040e-02  4.770e-03  -2.179  0.02930 *  
## relationship     9.911e-02  2.012e-02   4.927 8.36e-07 ***
## race             7.308e-02  2.658e-02   2.749  0.00597 ** 
## sex              6.431e-01  8.133e-02   7.907 2.64e-15 ***
## capital_gain     3.139e-04  1.175e-05  26.723  &lt; 2e-16 ***
## capital_loss     6.912e-04  4.319e-05  16.005  &lt; 2e-16 ***
## hours_per_week   3.047e-02  1.777e-03  17.151  &lt; 2e-16 ***
## native_country   5.072e-03  3.560e-03   1.425  0.15428    
## marriage_status -1.539e+00  3.690e-02 -41.691  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25125  on 22792  degrees of freedom
## Residual deviance: 15325  on 22779  degrees of freedom
## AIC: 15353
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6879 1054
##          1  520 1315
##                                           
##                Accuracy : 0.8389          
##                  95% CI : (0.8314, 0.8461)
##     No Information Rate : 0.7575          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.525           
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9297          
##             Specificity : 0.5551          
##          Pos Pred Value : 0.8671          
##          Neg Pred Value : 0.7166          
##              Prevalence : 0.7575          
##          Detection Rate : 0.7042          
##    Detection Prevalence : 0.8121          
##       Balanced Accuracy : 0.7424          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>occupation: reducing levels into collar improves model performance and simplifies interpretability so choosing to replace occupation which was not significant in original model anyways</p>
<p>AIC: 16362 vs original 16561 –&gt;improved Accuracy : 0.8248 vs original 0.8188 –&gt;improved Sensitivity : 0.9385 vs original 0.9369 –&gt; improved<br>
Specificity : 0.4724 vs original 0.4584 –&gt;improved</p>
<pre class="r"><code class="hljs">occupation = table(adult$income, adult$occupation)
mosaicplot(occupation, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"occupation"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(occupation, shade = TRUE, las = 2, main = "occupation", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/occupation-1.png" width="672"></p>
<pre class="r"><code class="hljs">occupationchisq &lt;- chisq.test(occupation) </code></pre>
<pre><code class="hljs">## Warning in chisq.test(occupation): Chi-squared approximation may be incorrect</code></pre>
<pre class="r"><code class="hljs">occupationchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  occupation
## X-squared = 4032, df = 14, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 3745 , p-value = 2,2e-16</span>

occupation_vs_workclass = table(adult$occupation, adult$workclass)
occupation_vs_workclass</code></pre>
<pre><code class="hljs">##                     
##                      Federal-gov Local-gov Never-worked no_response Private
##    Adm-clerical              317       283            0           0    2833
##    Armed-Forces                9         0            0           0       0
##    Craft-repair               64       146            0           0    3195
##    Exec-managerial           180       214            0           0    2691
##    Farming-fishing             8        29            0           0     455
##    Handlers-cleaners          23        47            0           0    1273
##    Machine-op-inspct          14        12            0           0    1913
##    Other-service              35       193            0           0    2740
##    Priv-house-serv             0         0            0           0     149
##    Prof-specialty            175       705            0           0    2313
##    Protective-serv            28       304            0           0     190
##    Sales                      14         7            0           0    2942
##    Tech-support               68        38            0           0     736
##    Transport-moving           25       115            0           0    1266
##   no_response                  0         0            7        1836       0
##                     
##                      Self-emp-inc Self-emp-not-inc State-gov Without-pay
##    Adm-clerical                31               50       253           3
##    Armed-Forces                 0                0         0           0
##    Craft-repair               106              531        56           1
##    Exec-managerial            400              392       189           0
##    Farming-fishing             51              430        15           6
##    Handlers-cleaners            2               15         9           1
##    Machine-op-inspct           13               36        13           1
##    Other-service               27              175       124           1
##    Priv-house-serv              0                0         0           0
##    Prof-specialty             160              373       414           0
##    Protective-serv              5                6       116           0
##    Sales                      291              385        11           0
##    Tech-support                 3               26        57           0
##    Transport-moving            27              122        41           1
##   no_response                   0                0         0           0</code></pre>
<pre class="r"><code class="hljs">chisq.test(occupation_vs_workclass) </code></pre>
<pre><code class="hljs">## Warning in chisq.test(occupation_vs_workclass): Chi-squared approximation may be
## incorrect</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  occupation_vs_workclass
## X-squared = 41677, df = 112, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Evaluate reducing levels to Government, Private, Self-Employed, Other</span>
adult$occupation &lt;- trimws(adult$occupation)
adult$collar &lt;- <span class="hljs-string">"Other"</span>
adult$collar[adult$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Adm-clerical"</span>)] &lt;- <span class="hljs-string">"White-support"</span>
adult$collar[adult$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Exec-managerial"</span>,<span class="hljs-string">"Prof-specialty"</span>,<span class="hljs-string">"Protective-serv"</span>,<span class="hljs-string">"Sales"</span>,<span class="hljs-string">"Tech-support
"</span>)] &lt;- <span class="hljs-string">"White"</span>
adult$collar[adult$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Armed-Forces
"</span>,<span class="hljs-string">"Craft-repair"</span>,<span class="hljs-string">"Farming-fishing"</span>,<span class="hljs-string">"Handlers-cleaners"</span>,<span class="hljs-string">"Machine-op-inspct"</span>,<span class="hljs-string">"Other-service"</span>,<span class="hljs-string">"Priv-house-serv"</span>,<span class="hljs-string">"Transport-moving"</span>)] &lt;- <span class="hljs-string">"Blue"</span>
adult$collar = as.factor(adult$collar)

collar = table(adult$income, adult$collar)
mosaicplot(collar, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"Collar (Occupation Group)"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(collar, shade = TRUE, las = 2, main = "Collar (Occupation Group)", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/occupation-2.png" width="672"></p>
<pre class="r"><code class="hljs">collarchisq &lt;- chisq.test(collar) 
collarchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  collar
## X-squared = 2884.3, df = 3, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 2884 , p-value = 2,2e-16 </span>
<span class="hljs-comment"># **Reduced X-squared but still significant check regression effect</span>

<span class="hljs-comment">#Re-run regression with collar to compare to workclass</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-occupation)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$collar &lt;- as.numeric(logit.set$collar)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$native_country &lt;- as.numeric(logit.set$native_country)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age           : int  21 49 44 50 26 30 42 47 50 34 ...
##  $ workclass     : num  5 5 5 1 5 5 5 1 7 5 ...
##  $ education     : num  12 12 12 16 10 14 8 16 12 2 ...
##  $ education_num : int  9 9 9 10 13 1 12 10 9 7 ...
##  $ marital_status: num  5 3 5 1 5 5 1 3 3 5 ...
##  $ relationship  : num  4 1 3 5 3 2 2 1 1 4 ...
##  $ race          : num  5 5 5 5 5 5 5 3 5 3 ...
##  $ sex           : num  2 2 1 2 2 2 2 2 2 2 ...
##  $ capital_gain  : int  0 7688 0 0 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 1887 0 ...
##  $ hours_per_week: int  40 45 30 40 40 40 40 40 40 45 ...
##  $ native_country: num  39 39 39 39 39 26 39 39 39 39 ...
##  $ collar        : num  3 1 4 3 1 1 4 3 3 1 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 1 2 1 1 1 1 1 1 2 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -4.1274  -0.6119  -0.3344  -0.0888   3.3346  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.931e+00  2.831e-01 -31.550  &lt; 2e-16 ***
## age             3.450e-02  1.629e-03  21.181  &lt; 2e-16 ***
## workclass      -5.804e-02  1.292e-02  -4.492 7.05e-06 ***
## education       1.247e-02  6.152e-03   2.027   0.0427 *  
## education_num   2.914e-01  9.036e-03  32.246  &lt; 2e-16 ***
## marital_status -2.353e-01  1.474e-02 -15.969  &lt; 2e-16 ***
## relationship   -1.194e-01  1.710e-02  -6.981 2.93e-12 ***
## race            1.271e-01  2.599e-02   4.889 1.02e-06 ***
## sex             1.048e+00  6.150e-02  17.044  &lt; 2e-16 ***
## capital_gain    3.329e-04  1.203e-05  27.681  &lt; 2e-16 ***
## capital_loss    6.984e-04  4.106e-05  17.009  &lt; 2e-16 ***
## hours_per_week  2.840e-02  1.683e-03  16.874  &lt; 2e-16 ***
## native_country -7.623e-04  3.327e-03  -0.229   0.8188    
## collar          2.594e-01  1.993e-02  13.017  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25219  on 22792  degrees of freedom
## Residual deviance: 17304  on 22779  degrees of freedom
## AIC: 17332
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 7003 1204
##          1  437 1124
##                                           
##                Accuracy : 0.832           
##                  95% CI : (0.8244, 0.8394)
##     No Information Rate : 0.7617          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4782          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9413          
##             Specificity : 0.4828          
##          Pos Pred Value : 0.8533          
##          Neg Pred Value : 0.7201          
##              Prevalence : 0.7617          
##          Detection Rate : 0.7169          
##    Detection Prevalence : 0.8402          
##       Balanced Accuracy : 0.7120          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>relationship</p>
<pre class="r"><code class="hljs">relationship = table(adult$income, adult$relationship)
mosaicplot(relationship, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"relationship"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(relationship, shade = TRUE, las = 2, main = "relationship", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/relationship-1.png" width="672"></p>
<pre class="r"><code class="hljs">relationshipchisq &lt;- chisq.test(relationship) 
relationshipchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  relationship
## X-squared = 6699.1, df = 5, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 6699 , p-value = 2,2e-16</span>

<span class="hljs-comment">#Appears to be correlated with Marriage_status and sex, drop from model and compare</span></code></pre>
<p>race</p>
<pre class="r"><code class="hljs">race = table(adult$income, adult$race)
mosaicplot(race, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"race"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(race, shade = TRUE, las = 2, main = "race", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/race-1.png" width="672"></p>
<pre class="r"><code class="hljs">racechisq &lt;- chisq.test(race) 
racechisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  race
## X-squared = 330.92, df = 4, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 331 , p-value = 2,2e-16</span>

race_vs_native_country = table(adult$race, adult$native_country)
race_vs_native_country</code></pre>
<pre><code class="hljs">##                      
##                        Cambodia  Canada  China  Columbia  Cuba
##    Amer-Indian-Eskimo         0       0      0         1     0
##    Asian-Pac-Islander        18       1     73         0     0
##    Black                      1       0      0         0     3
##    Other                      0       1      0         7     2
##    White                      0     119      2        51    90
##                      
##                        Dominican-Republic  Ecuador  El-Salvador  England
##    Amer-Indian-Eskimo                   0        0            0        0
##    Asian-Pac-Islander                   1        0            0        1
##    Black                               12        0            1        8
##    Other                               18        9            4        0
##    White                               39       19          101       81
##                      
##                        France  Germany  Greece  Guatemala  Haiti
##    Amer-Indian-Eskimo       0        1       0          0      0
##    Asian-Pac-Islander       0        3       1          0      1
##    Black                    1        8       0          0     43
##    Other                    0        1       0          4      0
##    White                   28      124      28         60      0
##                      
##                        Holand-Netherlands  Honduras  Hong  Hungary  India  Iran
##    Amer-Indian-Eskimo                   0         0     1        0      0     0
##    Asian-Pac-Islander                   0         0    17        0     85     6
##    Black                                0         1     0        0      2     0
##    Other                                0         0     0        0      5     2
##    White                                1        12     2       13      8    35
##                      
##                        Ireland  Italy  Jamaica  Japan  Laos  Mexico  Nicaragua
##    Amer-Indian-Eskimo        0      0        0      0     0       8          0
##    Asian-Pac-Islander        1      0        0     38    18       1          0
##    Black                     0      0       75      3     0       4          2
##    Other                     0      0        1      2     0      40          4
##    White                    23     73        5     19     0     590         28
##                      
##                        Outlying-US(Guam-USVI-etc)  Peru  Philippines  Poland
##    Amer-Indian-Eskimo                           0     0            1       0
##    Asian-Pac-Islander                           0     0          188       1
##    Black                                        6     0            1       0
##    Other                                        0     1            0       0
##    White                                        8    30            8      59
##                      
##                        Portugal  Puerto-Rico  Scotland  South  Taiwan  Thailand
##    Amer-Indian-Eskimo         0            1         0      2       0         0
##    Asian-Pac-Islander         1            1         0     77      48        16
##    Black                      0            9         0      0       0         0
##    Other                      0           21         0      0       1         0
##    White                     36           82        12      1       2         2
##                      
##                        Trinadad&amp;Tobago  United-States  Vietnam  Yugoslavia
##    Amer-Indian-Eskimo                0            296        0           0
##    Asian-Pac-Islander                2            292       65           0
##    Black                            16           2832        0           0
##    Other                             1            129        0           0
##    White                             0          25621        2          16
##                      
##                       no_response
##    Amer-Indian-Eskimo           0
##    Asian-Pac-Islander          83
##    Black                       96
##    Other                       18
##    White                      386</code></pre>
<pre class="r"><code class="hljs">chisq.test(race_vs_native_country) </code></pre>
<pre><code class="hljs">## Warning in chisq.test(race_vs_native_country): Chi-squared approximation may be
## incorrect</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  race_vs_native_country
## X-squared = 21815, df = 164, p-value &lt; 2.2e-16</code></pre>
<p>sex</p>
<pre class="r"><code class="hljs">sex = table(adult$income, adult$sex)
mosaicplot(sex, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"sex"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(sex, shade = TRUE, las = 2, main = "sex", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/sex-1.png" width="672"></p>
<pre class="r"><code class="hljs">sexchisq &lt;- chisq.test(sex) 
sexchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test with Yates' continuity correction
## 
## data:  sex
## X-squared = 1517.8, df = 1, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 1518 , p-value = 2,2e-16</span></code></pre>
<p>native_country</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#see above this is correlated to race which may be better predictor</span>

native_country = table(adult$income, adult$native_country)
mosaicplot(native_country, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"race"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(native_country, shade = TRUE, las = 2, main = "race", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/native_country-1.png" width="672"></p>
<pre class="r"><code class="hljs">native_countrychisq &lt;- chisq.test(native_country) </code></pre>
<pre><code class="hljs">## Warning in chisq.test(native_country): Chi-squared approximation may be
## incorrect</code></pre>
<pre class="r"><code class="hljs">native_countrychisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  native_country
## X-squared = 317.23, df = 41, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = NaN , p-value = NA</span>

<span class="hljs-comment">#Reduce to Native Born and Foreign Born then compare model</span>
adult$native_country &lt;- trimws(adult$native_country)
adult$native_born &lt;- <span class="hljs-string">"No"</span>
adult$native_born[adult$native_country %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"United-States"</span>)] &lt;- <span class="hljs-string">"Yes"</span>
adult$native_born = as.factor(adult$native_born)

native_born = table(adult$income, adult$native_born)
mosaicplot(native_born, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"native_born"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(native_born, shade = TRUE, las = 2, main = "native_born", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/native_country-2.png" width="672"></p>
<pre class="r"><code class="hljs">native_bornchisq &lt;- chisq.test(native_born) 
native_bornchisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test with Yates' continuity correction
## 
## data:  native_born
## X-squared = 38.426, df = 1, p-value = 5.688e-10</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 38.426 , p-value = 5.688e-10 </span>

<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$native_born &lt;- as.numeric(logit.set$native_born)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age           : int  59 32 26 39 21 64 40 54 37 55 ...
##  $ workclass     : num  5 5 5 2 5 5 5 8 8 7 ...
##  $ education     : num  16 8 10 13 16 16 8 13 10 12 ...
##  $ education_num : int  10 12 13 14 10 10 12 14 13 9 ...
##  $ marital_status: num  1 3 5 3 5 3 1 4 3 3 ...
##  $ occupation    : num  3 1 11 11 1 9 1 11 11 3 ...
##  $ relationship  : num  2 1 2 6 4 1 5 2 1 1 ...
##  $ race          : num  5 5 5 5 5 5 5 2 5 5 ...
##  $ sex           : num  2 2 2 1 1 2 1 1 2 2 ...
##  $ capital_gain  : int  2907 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 1977 0 0 0 0 0 0 ...
##  $ hours_per_week: int  40 45 48 20 16 40 40 40 55 60 ...
##  $ native_born   : num  2 2 2 2 2 2 2 1 2 2 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 1 2 1 2 1 1 1 1 2 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3567  -0.6209  -0.3432  -0.0894   3.3326  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.776e+00  2.795e-01 -31.394  &lt; 2e-16 ***
## age             3.437e-02  1.605e-03  21.417  &lt; 2e-16 ***
## workclass      -6.877e-02  1.300e-02  -5.289 1.23e-07 ***
## education       1.434e-02  6.169e-03   2.325   0.0201 *  
## education_num   3.326e-01  8.628e-03  38.547  &lt; 2e-16 ***
## marital_status -2.296e-01  1.459e-02 -15.738  &lt; 2e-16 ***
## occupation     -4.676e-03  4.363e-03  -1.072   0.2838    
## relationship   -1.215e-01  1.712e-02  -7.098 1.27e-12 ***
## race            1.204e-01  2.640e-02   4.562 5.06e-06 ***
## sex             9.103e-01  6.039e-02  15.074  &lt; 2e-16 ***
## capital_gain    3.211e-04  1.175e-05  27.319  &lt; 2e-16 ***
## capital_loss    6.699e-04  4.002e-05  16.738  &lt; 2e-16 ***
## hours_per_week  3.006e-02  1.679e-03  17.896  &lt; 2e-16 ***
## native_born     1.199e-01  7.159e-02   1.675   0.0939 .  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25142  on 22792  degrees of freedom
## Residual deviance: 17458  on 22779  degrees of freedom
## AIC: 17486
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6952 1302
##          1  454 1060
##                                           
##                Accuracy : 0.8202          
##                  95% CI : (0.8125, 0.8278)
##     No Information Rate : 0.7582          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4414          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9387          
##             Specificity : 0.4488          
##          Pos Pred Value : 0.8423          
##          Neg Pred Value : 0.7001          
##              Prevalence : 0.7582          
##          Detection Rate : 0.7117          
##    Detection Prevalence : 0.8450          
##       Balanced Accuracy : 0.6937          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span>

<span class="hljs-comment">#Change to US, Mexico, and other then compare model</span>
adult$native_country &lt;- trimws(adult$native_country)
adult$birthplace &lt;- <span class="hljs-string">"Other"</span>
adult$birthplace[adult$native_country %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"United-States"</span>)] &lt;- <span class="hljs-string">"USA"</span>
adult$birthplace[adult$native_country %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Mexico"</span>)] &lt;- <span class="hljs-string">"Mexico"</span>
adult$birthplace = as.factor(adult$birthplace)

birthplace = table(adult$income, adult$birthplace)
mosaicplot(birthplace, shade = <span class="hljs-literal">TRUE</span>, las=<span class="hljs-number">2</span>, main = <span class="hljs-string">"birthplace"</span>, pop = <span class="hljs-literal">FALSE</span>)</code></pre>
<pre><code class="hljs">## Warning: In mosaicplot.default(birthplace, shade = TRUE, las = 2, main = "birthplace", 
##     pop = FALSE) :
##  extra argument 'pop' will be disregarded</code></pre>
<p><img src="./EDA_and_modeling2_files/native_country-3.png" width="672"></p>
<pre class="r"><code class="hljs">birthplacechisq &lt;- chisq.test(birthplace) 
birthplacechisq</code></pre>
<pre><code class="hljs">## 
##  Pearson's Chi-squared test
## 
## data:  birthplace
## X-squared = 131.53, df = 2, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#X-squared = 131.53 , p-value = 2.2e-16 </span>

<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country,-native_born)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age           : int  66 55 25 41 36 38 48 23 27 39 ...
##  $ workclass     : num  5 8 5 5 5 2 5 5 5 7 ...
##  $ education     : num  12 9 7 6 12 10 8 12 12 10 ...
##  $ education_num : int  9 11 5 4 9 13 12 9 9 13 ...
##  $ marital_status: num  7 7 3 3 3 3 3 5 5 5 ...
##  $ occupation    : num  4 4 6 3 1 4 15 6 3 13 ...
##  $ relationship  : num  2 2 1 1 6 1 1 4 2 4 ...
##  $ race          : num  5 1 5 2 5 5 5 5 3 2 ...
##  $ sex           : num  1 1 2 2 1 2 2 2 2 2 ...
##  $ capital_gain  : int  0 0 0 0 0 0 0 0 3325 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  25 38 40 40 40 40 50 24 40 60 ...
##  $ birthplace    : num  3 3 3 2 3 3 3 3 3 2 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 1 1 1 1 2 2 1 1 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.2719  -0.6230  -0.3388  -0.0825   3.4350  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.781e+00  2.996e-01 -29.312  &lt; 2e-16 ***
## age             3.347e-02  1.614e-03  20.733  &lt; 2e-16 ***
## workclass      -6.062e-02  1.296e-02  -4.679 2.88e-06 ***
## education       1.701e-02  6.244e-03   2.724  0.00644 ** 
## education_num   3.383e-01  8.697e-03  38.899  &lt; 2e-16 ***
## marital_status -2.480e-01  1.473e-02 -16.843  &lt; 2e-16 ***
## occupation     -3.657e-04  4.339e-03  -0.084  0.93282    
## relationship   -1.219e-01  1.720e-02  -7.087 1.37e-12 ***
## race            1.016e-01  2.587e-02   3.927 8.59e-05 ***
## sex             9.414e-01  6.065e-02  15.523  &lt; 2e-16 ***
## capital_gain    3.095e-04  1.160e-05  26.679  &lt; 2e-16 ***
## capital_loss    6.677e-04  4.041e-05  16.524  &lt; 2e-16 ***
## hours_per_week  2.985e-02  1.655e-03  18.036  &lt; 2e-16 ***
## birthplace      7.791e-02  6.231e-02   1.250  0.21118    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25235  on 22792  degrees of freedom
## Residual deviance: 17459  on 22779  degrees of freedom
## AIC: 17487
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6998 1265
##          1  449 1056
##                                          
##                Accuracy : 0.8245         
##                  95% CI : (0.8168, 0.832)
##     No Information Rate : 0.7624         
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16      
##                                          
##                   Kappa : 0.449          
##                                          
##  Mcnemar's Test P-Value : &lt; 2.2e-16      
##                                          
##             Sensitivity : 0.9397         
##             Specificity : 0.4550         
##          Pos Pred Value : 0.8469         
##          Neg Pred Value : 0.7017         
##              Prevalence : 0.7624         
##          Detection Rate : 0.7164         
##    Detection Prevalence : 0.8459         
##       Balanced Accuracy : 0.6973         
##                                          
##        'Positive' Class : 0              
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span>

<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country,-native_born, -birthplace)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  13 variables:
##  $ age           : int  50 52 33 48 35 44 18 33 32 44 ...
##  $ workclass     : num  5 2 5 7 5 5 5 5 6 1 ...
##  $ education     : num  12 12 6 10 10 13 12 16 10 16 ...
##  $ education_num : int  9 9 4 13 13 14 9 10 13 10 ...
##  $ marital_status: num  3 1 5 4 3 3 5 3 5 5 ...
##  $ occupation    : num  5 14 9 4 4 4 9 4 4 1 ...
##  $ relationship  : num  1 5 5 2 1 1 4 1 2 2 ...
##  $ race          : num  5 5 3 3 5 2 5 5 5 5 ...
##  $ sex           : num  2 2 1 2 2 2 1 2 2 2 ...
##  $ capital_gain  : int  0 4934 0 0 7688 0 0 0 0 13550 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  35 36 14 40 50 48 30 45 55 50 ...
##  $ income.binary : Factor w/ 2 levels "0","1": 1 2 1 2 2 1 1 2 1 2 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.2789  -0.6198  -0.3373  -0.0916   3.4162  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.505e+00  2.578e-01 -32.990  &lt; 2e-16 ***
## age             3.280e-02  1.613e-03  20.329  &lt; 2e-16 ***
## workclass      -5.916e-02  1.303e-02  -4.539 5.66e-06 ***
## education       1.479e-02  6.191e-03   2.389   0.0169 *  
## education_num   3.341e-01  8.602e-03  38.842  &lt; 2e-16 ***
## marital_status -2.447e-01  1.474e-02 -16.603  &lt; 2e-16 ***
## occupation      3.775e-03  4.364e-03   0.865   0.3870    
## relationship   -1.255e-01  1.709e-02  -7.345 2.06e-13 ***
## race            1.241e-01  2.540e-02   4.884 1.04e-06 ***
## sex             8.831e-01  6.031e-02  14.643  &lt; 2e-16 ***
## capital_gain    3.124e-04  1.170e-05  26.703  &lt; 2e-16 ***
## capital_loss    6.972e-04  3.967e-05  17.576  &lt; 2e-16 ***
## hours_per_week  2.932e-02  1.667e-03  17.588  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25121  on 22792  degrees of freedom
## Residual deviance: 17392  on 22780  degrees of freedom
## AIC: 17418
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 7007 1333
##          1  390 1038
##                                           
##                Accuracy : 0.8236          
##                  95% CI : (0.8159, 0.8311)
##     No Information Rate : 0.7573          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4452          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9473          
##             Specificity : 0.4378          
##          Pos Pred Value : 0.8402          
##          Neg Pred Value : 0.7269          
##              Prevalence : 0.7573          
##          Detection Rate : 0.7173          
##    Detection Prevalence : 0.8538          
##       Balanced Accuracy : 0.6925          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span>

<span class="hljs-comment">#Note none of these show as significant in the model, drop all</span></code></pre>
<p>Explore numerical variables vs income</p>
<p>capital_gain</p>
<pre class="r"><code class="hljs">adult$income.binary&lt;-<span class="hljs-number">0</span>
adult$income.binary[adult$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>

capital_gain &lt;- adult %&gt;% group_by(capital_gain) %&gt;% summarise(income_above = mean(income.binary))

capital_gain %&gt;% ggplot(mapping=aes(y=income_above, x=capital_gain)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs education_num"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/capital_gain-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Not a usefull plot need to bin capital gains</span>

capital_gain &lt;- adult %&gt;% mutate(capital_gain_bin = cut(capital_gain, seq(min(capital_gain), max(capital_gain) + <span class="hljs-number">10000</span>, <span class="hljs-number">10000</span>), right = <span class="hljs-literal">FALSE</span>))

capital_gain_rates &lt;- capital_gain %&gt;% group_by(capital_gain_bin) %&gt;% summarise(n=n(),income_above = mean(income.binary))

capital_gain_rates %&gt;% ggplot(mapping=aes(y=income_above, x=capital_gain_bin)) + geom_point(aes(size=n))+  labs(title=<span class="hljs-string">"%Income above 50K vs capital_gain_bin"</span>)+geom_text(aes(label=n),hjust=-<span class="hljs-number">0.5</span>, vjust=<span class="hljs-number">0.5</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/capital_gain-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create Bins for yes/no on capital gains</span>
adult$capital_gain_bin &lt;- <span class="hljs-string">"No"</span>
adult$capital_gain_bin[adult$capital_gain &gt; <span class="hljs-number">0</span>] &lt;- <span class="hljs-string">"Yes"</span>
adult$capital_gain_bin = as.factor(adult$capital_gain_bin)


<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country,-native_born, -birthplace,-capital_gain)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$capital_gain_bin &lt;- as.factor(logit.set$capital_gain_bin)
logit.set$capital_gain_bin &lt;- as.numeric(logit.set$capital_gain_bin)
logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)
str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  13 variables:
##  $ age             : int  28 37 26 58 39 59 44 42 47 60 ...
##  $ workclass       : num  5 5 5 7 7 5 5 2 2 6 ...
##  $ education       : num  10 12 12 16 11 12 12 16 12 12 ...
##  $ education_num   : int  13 9 9 10 16 9 9 10 9 9 ...
##  $ marital_status  : num  5 5 3 3 1 3 3 1 3 3 ...
##  $ occupation      : num  13 7 3 5 1 1 15 3 3 1 ...
##  $ relationship    : num  2 2 1 1 3 1 1 2 1 6 ...
##  $ race            : num  5 5 5 5 4 5 5 5 5 5 ...
##  $ sex             : num  2 2 2 2 2 2 2 2 2 1 ...
##  $ capital_loss    : int  0 0 0 2415 0 0 0 0 0 0 ...
##  $ hours_per_week  : int  40 38 40 40 40 15 50 40 40 15 ...
##  $ income.binary   : Factor w/ 2 levels "0","1": 1 1 1 2 1 1 2 1 1 2 ...
##  $ capital_gain_bin: num  1 1 1 1 1 2 1 1 1 2 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.7709  -0.6347  -0.3478  -0.0899   3.4268  
## 
## Coefficients:
##                    Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)      -1.037e+01  2.627e-01 -39.495  &lt; 2e-16 ***
## age               3.374e-02  1.570e-03  21.493  &lt; 2e-16 ***
## workclass        -6.024e-02  1.273e-02  -4.731 2.23e-06 ***
## education         2.211e-02  6.130e-03   3.606 0.000311 ***
## education_num     3.391e-01  8.465e-03  40.057  &lt; 2e-16 ***
## marital_status   -2.259e-01  1.424e-02 -15.858  &lt; 2e-16 ***
## occupation       -3.978e-04  4.264e-03  -0.093 0.925681    
## relationship     -1.221e-01  1.663e-02  -7.342 2.10e-13 ***
## race              1.149e-01  2.475e-02   4.642 3.45e-06 ***
## sex               9.013e-01  5.858e-02  15.387  &lt; 2e-16 ***
## capital_loss      6.839e-04  4.081e-05  16.760  &lt; 2e-16 ***
## hours_per_week    3.080e-02  1.626e-03  18.939  &lt; 2e-16 ***
## capital_gain_bin  1.649e+00  5.941e-02  27.748  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25146  on 22792  degrees of freedom
## Residual deviance: 18115  on 22780  degrees of freedom
## AIC: 18141
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6939 1324
##          1  469 1036
##                                           
##                Accuracy : 0.8164          
##                  95% CI : (0.8086, 0.8241)
##     No Information Rate : 0.7584          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4286          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9367          
##             Specificity : 0.4390          
##          Pos Pred Value : 0.8398          
##          Neg Pred Value : 0.6884          
##              Prevalence : 0.7584          
##          Detection Rate : 0.7104          
##    Detection Prevalence : 0.8459          
##       Balanced Accuracy : 0.6878          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>capital_loss</p>
<pre class="r"><code class="hljs">capital_loss &lt;- adult %&gt;% group_by(capital_loss) %&gt;% summarise(income_above = mean(income.binary))

capital_loss %&gt;% ggplot(mapping=aes(y=income_above, x=capital_loss)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs education_num"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/capital_loss-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Not a usefull plot need to bin capital gains</span>

capital_loss &lt;- adult %&gt;% mutate(capital_loss_bin = cut(capital_loss, seq(min(capital_loss), max(capital_loss) + <span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>), right = <span class="hljs-literal">FALSE</span>))

capital_loss_rates &lt;- capital_loss %&gt;% group_by(capital_loss_bin) %&gt;% summarise(n=n(),income_above = mean(income.binary))

capital_loss_rates %&gt;% ggplot(mapping=aes(y=income_above, x=capital_loss_bin)) + geom_point(aes(size=n))+  labs(title=<span class="hljs-string">"%Income above 50K vs capital_loss_bin"</span>)+geom_text(aes(label=n),hjust=-<span class="hljs-number">0.5</span>, vjust=<span class="hljs-number">0.5</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/capital_loss-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create Bins for yes/no on capital gains</span>
adult$capital_loss_bin &lt;- <span class="hljs-string">"No"</span>
adult$capital_loss_bin[adult$capital_loss &gt; <span class="hljs-number">0</span>] &lt;- <span class="hljs-string">"Yes"</span>
adult$capital_loss_bin = as.factor(adult$capital_loss_bin)


<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$capital_loss_bin &lt;- as.factor(logit.set$capital_loss_bin)
logit.set$capital_loss_bin &lt;- as.numeric(logit.set$capital_loss_bin)
logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  13 variables:
##  $ age             : int  36 35 43 48 53 57 49 24 75 59 ...
##  $ workclass       : num  5 5 5 8 5 6 4 5 5 7 ...
##  $ education       : num  4 12 10 16 12 12 12 10 16 10 ...
##  $ education_num   : int  2 9 13 10 9 9 9 13 10 13 ...
##  $ marital_status  : num  7 3 3 1 1 3 5 5 3 3 ...
##  $ occupation      : num  9 3 13 9 7 13 8 11 15 13 ...
##  $ relationship    : num  3 1 1 4 4 1 2 4 1 1 ...
##  $ race            : num  5 5 5 5 5 5 3 5 5 5 ...
##  $ sex             : num  1 2 2 2 2 2 2 2 2 2 ...
##  $ capital_gain    : int  0 3137 0 0 0 0 0 0 0 15024 ...
##  $ hours_per_week  : int  20 40 65 40 40 30 40 30 16 55 ...
##  $ income.binary   : Factor w/ 2 levels "0","1": 1 1 2 1 1 2 1 1 1 2 ...
##  $ capital_loss_bin: num  1 1 1 1 1 2 1 1 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.4524  -0.6185  -0.3390  -0.0858   3.1167  
## 
## Coefficients:
##                    Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)      -9.933e+00  2.731e-01 -36.369  &lt; 2e-16 ***
## age               3.409e-02  1.613e-03  21.137  &lt; 2e-16 ***
## workclass        -6.179e-02  1.304e-02  -4.738 2.16e-06 ***
## education         1.063e-02  6.175e-03   1.722   0.0851 .  
## education_num     3.444e-01  8.683e-03  39.664  &lt; 2e-16 ***
## marital_status   -2.376e-01  1.454e-02 -16.343  &lt; 2e-16 ***
## occupation       -2.707e-03  4.370e-03  -0.619   0.5356    
## relationship     -1.082e-01  1.705e-02  -6.345 2.23e-10 ***
## race              1.475e-01  2.573e-02   5.732 9.91e-09 ***
## sex               8.987e-01  6.023e-02  14.921  &lt; 2e-16 ***
## capital_gain      3.330e-04  1.204e-05  27.654  &lt; 2e-16 ***
## hours_per_week    2.989e-02  1.663e-03  17.974  &lt; 2e-16 ***
## capital_loss_bin  1.170e+00  7.465e-02  15.667  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25208  on 22792  degrees of freedom
## Residual deviance: 17399  on 22780  degrees of freedom
## AIC: 17425
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6986 1303
##          1  449 1030
##                                           
##                Accuracy : 0.8206          
##                  95% CI : (0.8129, 0.8282)
##     No Information Rate : 0.7612          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4358          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9396          
##             Specificity : 0.4415          
##          Pos Pred Value : 0.8428          
##          Neg Pred Value : 0.6964          
##              Prevalence : 0.7612          
##          Detection Rate : 0.7152          
##    Detection Prevalence : 0.8486          
##       Balanced Accuracy : 0.6906          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>Look at binning to just some capital gain or loss vs zero</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create Bins for yes/no on capital gains</span>
adult$capital_gain_or_loss &lt;- <span class="hljs-string">"No"</span>
adult$capital_gain_or_loss[(adult$capital_loss+adult$capital_gain &gt; <span class="hljs-number">0</span>)] &lt;- <span class="hljs-string">"Yes"</span>
adult$capital_gain_or_loss = as.factor(adult$capital_gain_or_loss)


<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-work_sector,-marriage_status,-collar,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss_bin,-capital_gain,-capital_loss)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$capital_gain_or_loss &lt;- as.factor(logit.set$capital_gain_or_loss)
logit.set$capital_gain_or_loss &lt;- as.numeric(logit.set$capital_gain_or_loss)
logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
logit.set$education &lt;- as.factor(logit.set$education)
logit.set$education &lt;- as.numeric(logit.set$education)
logit.set$marital_status &lt;- as.factor(logit.set$marital_status)
logit.set$marital_status &lt;- as.numeric(logit.set$marital_status)
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)
str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  12 variables:
##  $ age                 : int  67 57 38 20 27 50 31 31 28 21 ...
##  $ workclass           : num  4 4 5 5 4 5 5 7 5 5 ...
##  $ education           : num  12 16 15 2 12 12 16 9 3 16 ...
##  $ education_num       : int  9 10 15 7 9 9 10 11 8 10 ...
##  $ marital_status      : num  1 3 3 3 5 7 6 3 5 5 ...
##  $ occupation          : num  8 8 11 9 8 11 13 4 13 4 ...
##  $ relationship        : num  2 1 6 1 2 5 5 1 5 2 ...
##  $ race                : num  5 2 5 5 5 3 5 5 3 5 ...
##  $ sex                 : num  1 2 1 2 1 1 1 2 1 2 ...
##  $ hours_per_week      : int  7 60 40 40 25 40 40 50 40 40 ...
##  $ income.binary       : Factor w/ 2 levels "0","1": 1 2 1 1 1 1 1 1 1 1 ...
##  $ capital_gain_or_loss: num  1 1 1 1 1 1 1 2 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.7382  -0.6350  -0.3473  -0.0882   3.4133  
## 
## Coefficients:
##                        Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)          -10.227507   0.260400 -39.276  &lt; 2e-16 ***
## age                    0.035115   0.001582  22.201  &lt; 2e-16 ***
## workclass             -0.056000   0.012689  -4.413 1.02e-05 ***
## education              0.019039   0.006103   3.120  0.00181 ** 
## education_num          0.338742   0.008435  40.161  &lt; 2e-16 ***
## marital_status        -0.212211   0.014158 -14.989  &lt; 2e-16 ***
## occupation            -0.001474   0.004253  -0.347  0.72886    
## relationship          -0.124531   0.016745  -7.437 1.03e-13 ***
## race                   0.097514   0.024235   4.024 5.73e-05 ***
## sex                    0.902928   0.058443  15.450  &lt; 2e-16 ***
## hours_per_week         0.032287   0.001637  19.722  &lt; 2e-16 ***
## capital_gain_or_loss   1.454882   0.048849  29.783  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25088  on 22792  degrees of freedom
## Residual deviance: 18150  on 22781  degrees of freedom
## AIC: 18174
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6883 1335
##          1  500 1050
##                                           
##                Accuracy : 0.8121          
##                  95% CI : (0.8043, 0.8198)
##     No Information Rate : 0.7558          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4226          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9323          
##             Specificity : 0.4403          
##          Pos Pred Value : 0.8376          
##          Neg Pred Value : 0.6774          
##              Prevalence : 0.7558          
##          Detection Rate : 0.7046          
##    Detection Prevalence : 0.8413          
##       Balanced Accuracy : 0.6863          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#adult &lt;- adult %&gt;% select(-work_sector)</span></code></pre>
<p>age</p>
<pre class="r"><code class="hljs">adult$income.binary&lt;-<span class="hljs-number">0</span>
adult$income.binary[adult$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
age_rates &lt;- adult %&gt;% group_by(age) %&gt;% summarise(income_above = mean(income.binary))

age_rates %&gt;% ggplot(mapping=aes(y=income_above, x=age)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs Age"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/age-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Note this relationship is not linear, can it be transformed?</span>

linearModel &lt;- lm(income_above ~ age, data=age_rates)
summary(linearModel)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ age, data = age_rates)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.232272 -0.119139  0.006878  0.121938  0.211329 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 0.2090075  0.0439919   4.751 1.02e-05 ***
## age         0.0002644  0.0007710   0.343    0.733    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.139 on 71 degrees of freedom
## Multiple R-squared:  0.001653,   Adjusted R-squared:  -0.01241 
## F-statistic: 0.1176 on 1 and 71 DF,  p-value: 0.7327</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 ~=0 age is not significant</span>

age_rates$age2 = age_rates$age^<span class="hljs-number">2</span>
quadraticModel2 &lt;- lm(income_above ~ age + age2, data=age_rates)
summary(quadraticModel2)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ age + age2, data = age_rates)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.119181 -0.051391 -0.005641  0.036783  0.246704 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -4.921e-01  5.418e-02  -9.083 1.86e-13 ***
## age          3.166e-02  2.243e-03  14.118  &lt; 2e-16 ***
## age2        -2.959e-04  2.081e-05 -14.221  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.07097 on 70 degrees of freedom
## Multiple R-squared:  0.7433, Adjusted R-squared:  0.736 
## F-statistic: 101.3 on 2 and 70 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 = 0.726 and second order term is significant</span>
<span class="hljs-comment">#income = -0.49214 + 0.0316588*age - 0.0002959*age^2</span>

age &lt;- seq(from = <span class="hljs-number">17</span>, to = <span class="hljs-number">90</span>, by = <span class="hljs-number">1</span>)
second_order&lt;- data.frame(age)
second_order$income_above &lt;- -<span class="hljs-number">0.49214</span> + <span class="hljs-number">0.0316588</span>*second_order$age - <span class="hljs-number">0.0002959</span>*second_order$age^<span class="hljs-number">2</span>
ggplot(age_rates, aes(y=income_above, x=age)) + geom_point() +geom_line(data = second_order) +  labs(title=<span class="hljs-string">"%Income above 50K vs Age + Age^2"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/age-2.png" width="672"></p>
<pre class="r"><code class="hljs">age_rates$age3 = age_rates$age^<span class="hljs-number">3</span>
quadraticModel3 &lt;- lm(income_above ~ age + age2 + age3, data=age_rates)
summary(quadraticModel3)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ age + age2 + age3, data = age_rates)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.118078 -0.042849 -0.004719  0.033859  0.260369 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -9.188e-01  1.195e-01  -7.691 7.35e-11 ***
## age          6.215e-02  8.040e-03   7.731 6.21e-11 ***
## age2        -9.301e-04  1.628e-04  -5.712 2.60e-07 ***
## age3         3.979e-06  1.015e-06   3.921 0.000205 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.06464 on 69 degrees of freedom
## Multiple R-squared:  0.7901, Adjusted R-squared:  0.7809 
## F-statistic: 86.56 on 3 and 69 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 = 0.78 and third order term is significant</span>
<span class="hljs-comment">#income = -0.9188 + 0.06215*age - 0.0009301*age^2 + 0.000003979*age^3</span>

third_order&lt;- data.frame(age)
third_order$income_above &lt;- -<span class="hljs-number">0.9188</span> + <span class="hljs-number">0.06215</span>*third_order$age - <span class="hljs-number">0.0009301</span>*third_order$age^<span class="hljs-number">2</span> + <span class="hljs-number">0.000003979</span>*age^<span class="hljs-number">3</span>
ggplot(age_rates, aes(y=income_above, x=age)) + geom_point() +geom_line(data = third_order) +  ggtitle(<span class="hljs-string">"%Income above 50K vs Age"</span>) + ylim(<span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>) + theme(plot.title=element_text(size=<span class="hljs-number">24</span>,face=<span class="hljs-string">"bold"</span>)) + annotate(<span class="hljs-string">'text'</span>, x = <span class="hljs-number">50</span>, y = <span class="hljs-number">0.48</span>, label = <span class="hljs-string">'Income above = -0.92 + 0.062*Age - 0.0009*Age^2 + 0.000004*Age^3'</span>)</code></pre>
<pre><code class="hljs">## Warning: Removed 4 row(s) containing missing values (geom_path).</code></pre>
<p><img src="./EDA_and_modeling2_files/age-3.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#How can we transform this for regression? or should we add Age^2 and Age^3 to model?</span>

age_rates$income_above_odds = age_rates$income_above / (<span class="hljs-number">1</span> - age_rates$income_above)
age_rates$log_income_above_odds = log(age_rates$income_above_odds)
age_rates %&gt;% ggplot(mapping=aes(y=log_income_above_odds, x=age)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs Age"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/age-4.png" width="672"></p>
<p>Re-check logistic regression with Age^2 and Age^3 Both Terms are significant</p>
<p>AIC: 14568 vs original 14884 –&gt;improved Accuracy : 0.8391 vs original 0.8382 –&gt;improved Sensitivity : 0.9315 vs original 0.9321 –&gt; dropped a little<br>
Specificity : 0.5655 vs original 0.5640 –&gt;improved</p>
<pre class="r"><code class="hljs">logit.set &lt;- adult %&gt;% select(-fnlwgt,-education,-marital_status,-relationship,-native_country)
logit.set$age2 = logit.set$age^<span class="hljs-number">2</span>
logit.set$age3 = logit.set$age^<span class="hljs-number">3</span>
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$workclass &lt;- as.factor(logit.set$workclass)
logit.set$workclass &lt;- as.numeric(logit.set$workclass)
<span class="hljs-comment">#logit.set$education &lt;- as.numeric(logit.set$education)</span>
<span class="hljs-comment">#logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)</span>
logit.set$occupation &lt;- as.factor(logit.set$occupation)
logit.set$occupation &lt;- as.numeric(logit.set$occupation)
<span class="hljs-comment">#logit.set$relationship &lt;- as.numeric(logit.set$relationship)</span>
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$native_country &lt;- as.numeric(logit.set$native_country)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  20 variables:
##  $ age                 : int  24 64 90 53 41 49 28 44 42 62 ...
##  $ workclass           : num  5 5 5 5 5 2 5 5 5 5 ...
##  $ education_num       : int  10 10 13 13 9 10 10 12 14 10 ...
##  $ occupation          : num  13 1 4 6 7 12 14 11 11 13 ...
##  $ race                : num  5 5 5 5 3 5 5 3 5 5 ...
##  $ sex                 : num  1 1 1 2 2 2 2 1 2 2 ...
##  $ capital_gain        : int  5060 0 0 0 0 0 0 1151 0 0 ...
##  $ capital_loss        : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week      : int  30 40 40 55 40 40 40 50 40 40 ...
##  $ work_sector         : Factor w/ 5 levels "Government","Not_Working",..: 4 4 4 4 4 1 4 4 4 4 ...
##  $ marriage_status     : Factor w/ 3 levels "Married","Previously-Married",..: 3 3 1 1 1 1 2 3 1 1 ...
##  $ collar              : Factor w/ 4 levels "Blue","Other",..: 3 4 3 1 1 3 2 3 3 3 ...
##  $ native_born         : Factor w/ 2 levels "No","Yes": 2 2 1 2 2 2 2 2 2 2 ...
##  $ birthplace          : Factor w/ 3 levels "Mexico","Other",..: 3 3 2 3 3 3 3 3 3 3 ...
##  $ income.binary       : Factor w/ 2 levels "0","1": 1 1 2 1 1 1 2 1 2 1 ...
##  $ capital_gain_bin    : Factor w/ 2 levels "No","Yes": 2 1 1 1 1 1 1 2 1 1 ...
##  $ capital_loss_bin    : Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 1 1 1 1 ...
##  $ capital_gain_or_loss: Factor w/ 2 levels "No","Yes": 2 1 1 1 1 1 1 2 1 1 ...
##  $ age2                : num  576 4096 8100 2809 1681 ...
##  $ age3                : num  13824 262144 729000 148877 68921 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -7.1965  -0.4945  -0.2016  -0.0303   3.7958  
## 
## Coefficients: (2 not defined because of singularities)
##                                     Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                       -1.505e+01  8.187e-01 -18.384  &lt; 2e-16 ***
## age                                4.701e-01  4.887e-02   9.621  &lt; 2e-16 ***
## workclass                         -6.124e-02  1.847e-02  -3.315 0.000916 ***
## education_num                      2.650e-01  1.043e-02  25.404  &lt; 2e-16 ***
## occupation                        -3.539e-02  5.811e-03  -6.091 1.12e-09 ***
## race                               9.320e-02  2.942e-02   3.168 0.001536 ** 
## sex                                2.377e-01  6.184e-02   3.844 0.000121 ***
## capital_gain                       6.793e-04  3.860e-05  17.598  &lt; 2e-16 ***
## capital_loss                       1.547e-03  2.336e-04   6.622 3.54e-11 ***
## hours_per_week                     2.232e-02  1.893e-03  11.789  &lt; 2e-16 ***
## work_sectorNot_Working            -1.062e+01  1.127e+02  -0.094 0.924929    
## work_sectorOther                  -1.064e+00  1.747e-01  -6.093 1.11e-09 ***
## work_sectorPrivate                 1.763e-01  6.784e-02   2.599 0.009362 ** 
## work_sectorSelf_Employed          -1.424e-02  9.985e-02  -0.143 0.886591    
## marriage_statusPreviously-Married -2.199e+00  7.099e-02 -30.982  &lt; 2e-16 ***
## marriage_statusSingle             -2.401e+00  7.753e-02 -30.966  &lt; 2e-16 ***
## collarOther                        1.174e+00  1.260e-01   9.319  &lt; 2e-16 ***
## collarWhite                        9.736e-01  5.484e-02  17.754  &lt; 2e-16 ***
## collarWhite-support                1.515e-01  9.077e-02   1.669 0.095162 .  
## native_bornYes                     9.653e-01  2.735e-01   3.529 0.000417 ***
## birthplaceOther                    8.143e-01  2.844e-01   2.863 0.004197 ** 
## birthplaceUSA                             NA         NA      NA       NA    
## capital_gain_binYes               -2.239e+00  2.158e-01 -10.378  &lt; 2e-16 ***
## capital_loss_binYes               -1.858e+00  4.535e-01  -4.097 4.18e-05 ***
## capital_gain_or_lossYes                   NA         NA      NA       NA    
## age2                              -7.384e-03  1.032e-03  -7.155 8.40e-13 ***
## age3                               3.478e-05  7.006e-06   4.965 6.89e-07 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25098  on 22792  degrees of freedom
## Residual deviance: 14315  on 22768  degrees of freedom
## AIC: 14365
## 
## Number of Fisher Scoring iterations: 12</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)</code></pre>
<pre><code class="hljs">## Warning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :
## prediction from a rank-deficient fit may be misleading</code></pre>
<pre class="r"><code class="hljs">logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6916  944
##          1  471 1437
##                                          
##                Accuracy : 0.8551         
##                  95% CI : (0.848, 0.8621)
##     No Information Rate : 0.7562         
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16      
##                                          
##                   Kappa : 0.5787         
##                                          
##  Mcnemar's Test P-Value : &lt; 2.2e-16      
##                                          
##             Sensitivity : 0.9362         
##             Specificity : 0.6035         
##          Pos Pred Value : 0.8799         
##          Neg Pred Value : 0.7531         
##              Prevalence : 0.7562         
##          Detection Rate : 0.7080         
##    Detection Prevalence : 0.8047         
##       Balanced Accuracy : 0.7699         
##                                          
##        'Positive' Class : 0              
## </code></pre>
<p>fnlwgt</p>
<pre class="r"><code class="hljs">fnlwgt_rates &lt;- adult %&gt;% group_by(fnlwgt) %&gt;% summarise(income_above = mean(income.binary))

fnlwgt_rates %&gt;% ggplot(mapping=aes(y=income_above, x=fnlwgt)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs fnlwgt"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/fnlwgt-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#No relationship, as mentioned previously drop this variable</span></code></pre>
<p>education_num</p>
<pre class="r"><code class="hljs">adult$income.binary&lt;-<span class="hljs-number">0</span>
adult$income.binary[adult$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>

education_num_rates &lt;- adult %&gt;% group_by(education_num) %&gt;% summarise(income_above = mean(income.binary))

education_num_rates %&gt;% ggplot(mapping=aes(y=income_above, x=education_num)) + geom_point(size=<span class="hljs-number">1.5</span>)+  labs(title=<span class="hljs-string">"%Income above 50K vs education_num"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/education_num-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Note this relationship is not linear, check quadratic transformation</span>

linearModel &lt;- lm(income_above ~ education_num, data=education_num_rates)
summary(linearModel)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ education_num, data = education_num_rates)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.14649 -0.09872 -0.02087  0.08284  0.19918 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -0.166522   0.060428  -2.756   0.0155 *  
## education_num  0.046781   0.006249   7.486 2.94e-06 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1152 on 14 degrees of freedom
## Multiple R-squared:  0.8001, Adjusted R-squared:  0.7858 
## F-statistic: 56.04 on 1 and 14 DF,  p-value: 2.942e-06</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 =0.7858</span>

education_num_rates$education_num2 = education_num_rates$education_num^<span class="hljs-number">2</span>
quadraticModel2 &lt;- lm(income_above ~ education_num + education_num2, data=education_num_rates)
summary(quadraticModel2)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ education_num + education_num2, data = education_num_rates)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.099364 -0.021572 -0.004801  0.028032  0.089210 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     0.1005427  0.0405495   2.480  0.02764 *  
## education_num  -0.0422404  0.0109785  -3.848  0.00202 ** 
## education_num2  0.0052366  0.0006278   8.341 1.41e-06 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.04745 on 13 degrees of freedom
## Multiple R-squared:  0.9685, Adjusted R-squared:  0.9637 
## F-statistic:   200 on 2 and 13 DF,  p-value: 1.723e-10</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 = 0.9637 and second order term is significant</span>
<span class="hljs-comment">#income = 0.1005427 - 0.0422404*education_num - 0.0052366*education_num^2</span>

education_num &lt;- seq(from = <span class="hljs-number">1</span>, to = <span class="hljs-number">16</span>, by = <span class="hljs-number">1</span>)
second_order&lt;- data.frame(education_num_rates)
second_order$income_above &lt;- <span class="hljs-number">0.1005427</span> - <span class="hljs-number">0.0422404</span>*second_order$education_num + <span class="hljs-number">0.0052366</span>*second_order$education_num^<span class="hljs-number">2</span>
ggplot(education_num_rates, aes(y=income_above, x=education_num)) + geom_point() +geom_line(data = second_order) +  ggtitle(<span class="hljs-string">"%Income above 50K vs Education"</span>) + ylim(<span class="hljs-number">0</span>, <span class="hljs-number">0.75</span>) + theme(plot.title=element_text(size=<span class="hljs-number">24</span>,face=<span class="hljs-string">"bold"</span>)) + annotate(<span class="hljs-string">'text'</span>, x = <span class="hljs-number">9</span>, y = <span class="hljs-number">0.65</span>, label = <span class="hljs-string">'Income above = 0.1 - 0.042*Education - 0.005*Education^2'</span>)</code></pre>
<pre><code class="hljs">## Warning: Removed 1 row(s) containing missing values (geom_path).</code></pre>
<p><img src="./EDA_and_modeling2_files/education_num-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Second degree quadratic fits well, add Education^2 to logistic regression</span></code></pre>
<p>hours_per_week</p>
<pre class="r"><code class="hljs">hours_per_week &lt;- adult
hours_per_week$income.binary&lt;-<span class="hljs-number">0</span>
hours_per_week$income.binary[hours_per_week$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>

hours_per_week_rates &lt;- hours_per_week %&gt;% group_by(hours_per_week) %&gt;% summarise(n=n(),income_above = mean(income.binary))

hours_per_week_rates %&gt;% ggplot(mapping=aes(y=income_above, x=hours_per_week)) + geom_point(aes(size=n))+  labs(title=<span class="hljs-string">"%Income above 50K vs hours_per_week"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/hours-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Doesn't appear linear, explore quadratic fits</span>

linearModel &lt;- lm(income_above ~ hours_per_week, data=hours_per_week_rates)
summary(linearModel)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ hours_per_week, data = hours_per_week_rates)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.33418 -0.07409 -0.01386  0.10078  0.75309 
## 
## Coefficients:
##                 Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)    0.0856118  0.0356319   2.403   0.0183 *  
## hours_per_week 0.0026443  0.0006342   4.170 6.89e-05 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1749 on 92 degrees of freedom
## Multiple R-squared:  0.159,  Adjusted R-squared:  0.1498 
## F-statistic: 17.39 on 1 and 92 DF,  p-value: 6.89e-05</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 =0.15</span>

hours_per_week_rates$hours_per_week2 = hours_per_week_rates$hours_per_week^<span class="hljs-number">2</span>
quadraticModel2 &lt;- lm(income_above ~ hours_per_week + hours_per_week2, data=hours_per_week_rates)
summary(quadraticModel2)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ hours_per_week + hours_per_week2, 
##     data = hours_per_week_rates)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.29872 -0.07525 -0.00144  0.08581  0.69952 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     -4.471e-02  5.121e-02  -0.873  0.38492    
## hours_per_week   1.044e-02  2.379e-03   4.386  3.1e-05 ***
## hours_per_week2 -7.831e-05  2.314e-05  -3.384  0.00105 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1657 on 91 degrees of freedom
## Multiple R-squared:  0.253,  Adjusted R-squared:  0.2366 
## F-statistic: 15.41 on 2 and 91 DF,  p-value: 1.724e-06</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 = 0.2366 and second order term is significant</span>
<span class="hljs-comment">#income = -0.04471 + 0.01044*hours_per_week - 0.00007831*hours_per_week^2</span>

hours_per_week &lt;- seq(from = <span class="hljs-number">1</span>, to = <span class="hljs-number">99</span>, by = <span class="hljs-number">1</span>)
second_order&lt;- data.frame(hours_per_week)
second_order$income_above &lt;- -<span class="hljs-number">0.04471</span> + <span class="hljs-number">0.01044</span>*second_order$hours_per_week - <span class="hljs-number">0.00007831</span>*second_order$hours_per_week^<span class="hljs-number">2</span>
ggplot(hours_per_week_rates, aes(y=income_above, x=hours_per_week)) + geom_point() +geom_line(data = second_order) +  ggtitle(<span class="hljs-string">"%Income above 50K vs hours_per_week"</span>) + theme(plot.title=element_text(size=<span class="hljs-number">24</span>,face=<span class="hljs-string">"bold"</span>)) + annotate(<span class="hljs-string">'text'</span>, x = <span class="hljs-number">50</span>, y = <span class="hljs-number">0.825</span>, label = <span class="hljs-string">'Income above = -0.04 + 0.01*Hours - 0.00008*Hours^2'</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/hours-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Fit is not great, try adding term</span>

hours_per_week_rates$hours_per_week3 = hours_per_week_rates$hours_per_week^<span class="hljs-number">3</span>
quadraticModel3 &lt;- lm(income_above ~ hours_per_week + hours_per_week2 + hours_per_week3, data=hours_per_week_rates)
summary(quadraticModel3)</code></pre>
<pre><code class="hljs">## 
## Call:
## lm(formula = income_above ~ hours_per_week + hours_per_week2 + 
##     hours_per_week3, data = hours_per_week_rates)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.35517 -0.06306 -0.00387  0.06889  0.65943 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)      8.125e-02  6.712e-02   1.210  0.22928   
## hours_per_week  -4.452e-03  5.838e-03  -0.763  0.44768   
## hours_per_week2  2.951e-04  1.365e-04   2.163  0.03323 * 
## hours_per_week3 -2.499e-06  9.011e-07  -2.774  0.00674 **
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1599 on 90 degrees of freedom
## Multiple R-squared:  0.3118, Adjusted R-squared:  0.2889 
## F-statistic: 13.59 on 3 and 90 DF,  p-value: 2.17e-07</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Adj. R2 = 0.2889 but first order term is not significant</span>
<span class="hljs-comment">#income = -0.08125 - 0.004452*hours_per_week + 0.0002951*hours_per_week^2 - 0.000002499*hours_per_week^3</span>

third_order&lt;- data.frame(hours_per_week)
third_order$income_above &lt;- -<span class="hljs-number">0.08125</span> - <span class="hljs-number">0.004452</span>*third_order$hours_per_week + <span class="hljs-number">0.0002951</span>*third_order$hours_per_week^<span class="hljs-number">2</span> - <span class="hljs-number">0.000002499</span>*third_order$hours_per_week^<span class="hljs-number">3</span>
ggplot(hours_per_week_rates, aes(y=income_above, x=hours_per_week)) + geom_point() +geom_line(data = third_order) +  labs(title=<span class="hljs-string">"%Income above 50K vs hours_per_week + hours_per_week^3"</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/hours-3.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Third order doesn't look like good fit. Try adding secod order into model, but non-parametric may be better with this variable</span></code></pre>
<p>Re-run and compare new simplified model based on EDA above:</p>
<p>replace workclass with work_sector replace marital_status with marriage_status replace occupation with collar drop native_country, native_born, birthplace, none show as significant drop education, keep education_num *quadratics will be added to more complex model not part 1</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-workclass,-marital_status,-occupation,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss_bin,-capital_gain_or_loss,-education)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$work_sector &lt;- as.factor(logit.set$work_sector)
logit.set$work_sector &lt;- as.numeric(logit.set$work_sector)
logit.set$marriage_status &lt;- as.factor(logit.set$marriage_status)
logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)
logit.set$collar &lt;- as.factor(logit.set$collar)
logit.set$collar &lt;- as.numeric(logit.set$collar)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  12 variables:
##  $ age            : int  58 47 52 38 68 30 33 26 26 55 ...
##  $ education_num  : int  13 10 9 9 14 9 13 9 10 4 ...
##  $ relationship   : num  1 6 6 1 1 4 2 1 1 3 ...
##  $ race           : num  5 5 5 5 5 5 5 5 5 5 ...
##  $ sex            : num  2 1 1 2 2 2 2 2 2 1 ...
##  $ capital_gain   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week : int  60 30 30 44 18 30 40 70 40 60 ...
##  $ work_sector    : num  5 1 2 4 4 3 4 4 4 5 ...
##  $ marriage_status: num  1 1 1 1 1 3 3 1 1 3 ...
##  $ collar         : num  3 4 4 1 3 2 3 1 1 1 ...
##  $ income.binary  : Factor w/ 2 levels "0","1": 2 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.2264  -0.5572  -0.2160  -0.0508   3.6051  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -6.958e+00  2.843e-01 -24.472  &lt; 2e-16 ***
## age              1.900e-02  1.723e-03  11.028  &lt; 2e-16 ***
## education_num    3.112e-01  9.610e-03  32.385  &lt; 2e-16 ***
## relationship     8.657e-02  2.011e-02   4.306 1.66e-05 ***
## race             1.166e-01  2.670e-02   4.366 1.26e-05 ***
## sex              7.405e-01  8.219e-02   9.009  &lt; 2e-16 ***
## capital_gain     3.105e-04  1.160e-05  26.780  &lt; 2e-16 ***
## capital_loss     7.027e-04  4.369e-05  16.083  &lt; 2e-16 ***
## hours_per_week   2.961e-02  1.771e-03  16.715  &lt; 2e-16 ***
## work_sector     -2.661e-02  1.687e-02  -1.577    0.115    
## marriage_status -1.554e+00  3.704e-02 -41.947  &lt; 2e-16 ***
## collar           2.891e-01  2.120e-02  13.632  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25290  on 22792  degrees of freedom
## Residual deviance: 15326  on 22781  degrees of freedom
## AIC: 15350
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6978 1009
##          1  493 1288
##                                           
##                Accuracy : 0.8462          
##                  95% CI : (0.8389, 0.8533)
##     No Information Rate : 0.7648          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5365          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9340          
##             Specificity : 0.5607          
##          Pos Pred Value : 0.8737          
##          Neg Pred Value : 0.7232          
##              Prevalence : 0.7648          
##          Detection Rate : 0.7144          
##    Detection Prevalence : 0.8177          
##       Balanced Accuracy : 0.7474          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs">car::vif(model)</code></pre>
<pre><code class="hljs">##             age   education_num    relationship            race             sex 
##        1.056650        1.163683        2.617421        1.009280        2.602483 
##    capital_gain    capital_loss  hours_per_week     work_sector marriage_status 
##        1.024557        1.007838        1.062964        1.053456        1.215788 
##          collar 
##        1.230038</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Race &amp; sex show VIF &gt; 2.5</span>

<span class="hljs-comment">#Note work_sector shows as not significant now, re-run model without</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-workclass,-marital_status,-occupation,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss_bin,-capital_gain_or_loss,-education,-work_sector)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

<span class="hljs-comment">#logit.set$work_sector &lt;- as.factor(logit.set$work_sector)</span>
<span class="hljs-comment">#logit.set$work_sector &lt;- as.numeric(logit.set$work_sector)</span>
logit.set$marriage_status &lt;- as.factor(logit.set$marriage_status)
logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)
logit.set$collar &lt;- as.factor(logit.set$collar)
logit.set$collar &lt;- as.numeric(logit.set$collar)
logit.set$relationship &lt;- as.numeric(logit.set$relationship)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  11 variables:
##  $ age            : int  31 44 18 34 55 53 47 66 44 47 ...
##  $ education_num  : int  10 9 9 9 10 9 13 16 9 9 ...
##  $ relationship   : num  2 1 4 1 1 5 1 1 2 1 ...
##  $ race           : num  5 3 5 5 5 3 5 5 5 2 ...
##  $ sex            : num  1 2 1 2 2 1 2 2 2 2 ...
##  $ capital_gain   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss   : int  1504 0 0 0 0 0 0 2377 0 0 ...
##  $ hours_per_week : int  40 40 24 50 50 48 70 25 40 25 ...
##  $ marriage_status: num  3 1 3 1 1 2 1 1 2 1 ...
##  $ collar         : num  3 1 2 3 1 1 3 3 1 1 ...
##  $ income.binary  : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 2 1 1 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -4.3355  -0.5538  -0.2194  -0.0578   3.6501  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -7.273e+00  2.802e-01 -25.953  &lt; 2e-16 ***
## age              1.977e-02  1.740e-03  11.365  &lt; 2e-16 ***
## education_num    3.259e-01  9.767e-03  33.368  &lt; 2e-16 ***
## relationship     8.781e-02  2.019e-02   4.350 1.36e-05 ***
## race             9.728e-02  2.668e-02   3.647 0.000265 ***
## sex              7.454e-01  8.225e-02   9.062  &lt; 2e-16 ***
## capital_gain     3.176e-04  1.197e-05  26.545  &lt; 2e-16 ***
## capital_loss     7.013e-04  4.432e-05  15.822  &lt; 2e-16 ***
## hours_per_week   3.166e-02  1.792e-03  17.675  &lt; 2e-16 ***
## marriage_status -1.527e+00  3.714e-02 -41.111  &lt; 2e-16 ***
## collar           2.742e-01  2.128e-02  12.889  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 24925  on 22792  degrees of freedom
## Residual deviance: 15101  on 22782  degrees of freedom
## AIC: 15123
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6796 1049
##          1  517 1406
##                                           
##                Accuracy : 0.8397          
##                  95% CI : (0.8323, 0.8469)
##     No Information Rate : 0.7487          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5409          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9293          
##             Specificity : 0.5727          
##          Pos Pred Value : 0.8663          
##          Neg Pred Value : 0.7311          
##              Prevalence : 0.7487          
##          Detection Rate : 0.6957          
##    Detection Prevalence : 0.8031          
##       Balanced Accuracy : 0.7510          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs">car::vif(model)</code></pre>
<pre><code class="hljs">##             age   education_num    relationship            race             sex 
##        1.059555        1.165796        2.585116        1.007589        2.556441 
##    capital_gain    capital_loss  hours_per_week marriage_status          collar 
##        1.021727        1.007522        1.054189        1.217852        1.223674</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Relationship &amp; sex show VIF &gt; 2.5</span></code></pre>
<p>Use LASSO for variable selection</p>
<pre class="r"><code class="hljs">lasso.set &lt;- adult %&gt;% select(-fnlwgt,-workclass,-marital_status,-occupation,-native_country,-education)
lasso.set &lt;- na.omit(lasso.set)

lasso.set$marriage_status &lt;- as.factor(lasso.set$marriage_status)
lasso.set$marriage_status &lt;- as.numeric(lasso.set$marriage_status)
lasso.set$collar &lt;- as.factor(lasso.set$collar)
lasso.set$collar &lt;- as.numeric(lasso.set$collar)
lasso.set$relationship &lt;- as.numeric(lasso.set$relationship)
lasso.set$race &lt;- as.numeric(lasso.set$race)
lasso.set$sex &lt;- as.numeric(lasso.set$sex)

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(lasso.set$income)),round(<span class="hljs-number">.7</span>*length(lasso.set$income)))
lasso.train = lasso.set[trainIndices,]
lasso.test = lasso.set[-trainIndices,]

train.x &lt;- model.matrix(income~.,lasso.train %&gt;% select(-income.binary))
train.y&lt;-lasso.train$income
cvfit &lt;- cv.glmnet(train.x, train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-10-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 22 x 1 sparse Matrix of class "dgCMatrix"
##                                      1
## (Intercept)              -7.114936e+00
## (Intercept)               .           
## age                       2.212723e-02
## education_num             3.152164e-01
## relationship              9.458314e-02
## race                      8.537181e-02
## sex                       7.375026e-01
## capital_gain              5.087182e-04
## capital_loss              9.502461e-04
## hours_per_week            2.906856e-02
## work_sectorNot_Working   -2.195946e+00
## work_sectorOther         -6.186107e-01
## work_sectorPrivate        3.075154e-02
## work_sectorSelf_Employed -2.325250e-01
## marriage_status          -1.557998e+00
## collar                    2.672037e-01
## native_bornYes            1.720709e-01
## birthplaceOther           .           
## birthplaceUSA             1.600981e-14
## capital_gain_binYes      -7.589352e-01
## capital_loss_binYes       .           
## capital_gain_or_lossYes  -5.769346e-01</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#CV misclassification error rate is little below .1</span>
print(<span class="hljs-string">"CV Error Rate:"</span>)</code></pre>
<pre><code class="hljs">## [1] "CV Error Rate:"</code></pre>
<pre class="r"><code class="hljs">cvfit$cvm[which(cvfit$lambda==cvfit$lambda.min)]</code></pre>
<pre><code class="hljs">## [1] 0.1507042</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Optimal penalty</span>
print(<span class="hljs-string">"Penalty Value:"</span>)</code></pre>
<pre><code class="hljs">## [1] "Penalty Value:"</code></pre>
<pre class="r"><code class="hljs">cvfit$lambda.min</code></pre>
<pre><code class="hljs">## [1] 0.0006943596</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#For final model predictions go ahead and refit lasso using entire</span>
<span class="hljs-comment">#data set</span>
finalmodel&lt;-glmnet(train.x, train.y, family = <span class="hljs-string">"binomial"</span>,lambda=cvfit$lambda.min)
coef(finalmodel)</code></pre>
<pre><code class="hljs">## 22 x 1 sparse Matrix of class "dgCMatrix"
##                                     s0
## (Intercept)              -7.1145200319
## (Intercept)               .           
## age                       0.0221194712
## education_num             0.3152264830
## relationship              0.0946805049
## race                      0.0853472054
## sex                       0.7375854161
## capital_gain              0.0005080907
## capital_loss              0.0009723761
## hours_per_week            0.0290708241
## work_sectorNot_Working   -2.1966123012
## work_sectorOther         -0.6192288415
## work_sectorPrivate        0.0306445113
## work_sectorSelf_Employed -0.2327239794
## marriage_status          -1.5583245535
## collar                    0.2672037285
## native_bornYes            0.1716724755
## birthplaceOther           .           
## birthplaceUSA             0.0004310805
## capital_gain_binYes      -0.7119716846
## capital_loss_binYes       .           
## capital_gain_or_lossYes  -0.6197937237</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Lasso dropped relationship and work_sector, re-run regression and compare</span>
<span class="hljs-comment">#Re-run regression with birthplace to compare to native_country</span>
logit.set &lt;- adult %&gt;% select(-fnlwgt,-workclass,-marital_status,-occupation,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss_bin,-capital_gain_or_loss,-education,-relationship,-work_sector)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)

logit.set$marriage_status &lt;- as.factor(logit.set$marriage_status)
logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)
logit.set$collar &lt;- as.factor(logit.set$collar)
logit.set$collar &lt;- as.numeric(logit.set$collar)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  10 variables:
##  $ age            : int  50 62 23 25 51 31 55 35 25 60 ...
##  $ education_num  : int  14 5 13 5 9 10 9 9 10 13 ...
##  $ race           : num  5 3 5 5 5 5 5 5 3 5 ...
##  $ sex            : num  2 2 2 2 2 1 2 2 1 2 ...
##  $ capital_gain   : int  0 0 0 0 0 0 7688 0 0 7298 ...
##  $ capital_loss   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week : int  50 24 50 15 81 40 40 40 20 60 ...
##  $ marriage_status: num  1 2 3 3 2 3 1 1 2 1 ...
##  $ collar         : num  3 3 1 1 3 3 1 4 4 3 ...
##  $ income.binary  : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 2 1 1 2 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3158  -0.5552  -0.2189  -0.0567   3.6625  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -6.270e+00  2.299e-01 -27.270  &lt; 2e-16 ***
## age              1.693e-02  1.722e-03   9.836  &lt; 2e-16 ***
## education_num    3.115e-01  9.604e-03  32.439  &lt; 2e-16 ***
## race             1.227e-01  2.719e-02   4.513 6.38e-06 ***
## sex              4.158e-01  5.670e-02   7.333 2.25e-13 ***
## capital_gain     3.223e-04  1.184e-05  27.216  &lt; 2e-16 ***
## capital_loss     6.455e-04  4.287e-05  15.056  &lt; 2e-16 ***
## hours_per_week   2.962e-02  1.781e-03  16.633  &lt; 2e-16 ***
## marriage_status -1.551e+00  3.768e-02 -41.167  &lt; 2e-16 ***
## collar           2.811e-01  2.120e-02  13.260  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25031  on 22792  degrees of freedom
## Residual deviance: 15206  on 22783  degrees of freedom
## AIC: 15226
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6923 1090
##          1  435 1320
##                                          
##                Accuracy : 0.8439         
##                  95% CI : (0.8365, 0.851)
##     No Information Rate : 0.7533         
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16      
##                                          
##                   Kappa : 0.5377         
##                                          
##  Mcnemar's Test P-Value : &lt; 2.2e-16      
##                                          
##             Sensitivity : 0.9409         
##             Specificity : 0.5477         
##          Pos Pred Value : 0.8640         
##          Neg Pred Value : 0.7521         
##              Prevalence : 0.7533         
##          Detection Rate : 0.7087         
##    Detection Prevalence : 0.8203         
##       Balanced Accuracy : 0.7443         
##                                          
##        'Positive' Class : 0              
## </code></pre>
<pre class="r"><code class="hljs">car::vif(model)</code></pre>
<pre><code class="hljs">##             age   education_num            race             sex    capital_gain 
##        1.041130        1.153524        1.006987        1.253900        1.024393 
##    capital_loss  hours_per_week marriage_status          collar 
##        1.007111        1.052953        1.212905        1.216635</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Race &amp; sex show VIF &gt; 2.5</span></code></pre>
<p>More complex model: Use simple reduced model from LASSO as starting point then add: Age quadratic terms age^2 and age^3 Education_num quadratic terms education_num^2 hours_per_week quadratic terms hours_per_week^2</p>
<pre class="r"><code class="hljs">logit.set &lt;- adult %&gt;% select(-fnlwgt,-workclass,-marital_status,-occupation,-native_country,-native_born, -birthplace,-capital_gain_bin,-capital_loss_bin,-capital_gain_or_loss,-education,-relationship,-work_sector)
logit.set &lt;- na.omit(logit.set)
logit.set$income.binary&lt;-<span class="hljs-number">0</span>
logit.set$income.binary[logit.set$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
logit.set$income.binary = as.factor(logit.set$income.binary)
logit.set &lt;- logit.set %&gt;% select(-income)
logit.set$age2 = logit.set$age^<span class="hljs-number">2</span>
logit.set$age3 = logit.set$age^<span class="hljs-number">3</span>
logit.set$education_num2 = logit.set$education_num^<span class="hljs-number">2</span>
logit.set$hours_per_week2 = logit.set$hours_per_week^<span class="hljs-number">2</span>

logit.set$marriage_status &lt;- as.factor(logit.set$marriage_status)
logit.set$marriage_status &lt;- as.numeric(logit.set$marriage_status)
logit.set$collar &lt;- as.factor(logit.set$collar)
logit.set$collar &lt;- as.numeric(logit.set$collar)
logit.set$race &lt;- as.numeric(logit.set$race)
logit.set$sex &lt;- as.numeric(logit.set$sex)
<span class="hljs-comment">#logit.set$birthplace &lt;- as.numeric(logit.set$birthplace)</span>

trainIndices = sample(seq(<span class="hljs-number">1</span>:length(logit.set$income.binary)),round(<span class="hljs-number">.7</span>*length(logit.set$income.binary)))
logit.train = logit.set[trainIndices,]
logit.test = logit.set[-trainIndices,]

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=logit.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">str(logit.train)</code></pre>
<pre><code class="hljs">## 'data.frame':    22793 obs. of  14 variables:
##  $ age            : int  31 51 39 53 21 22 46 22 61 64 ...
##  $ education_num  : int  9 9 11 9 4 10 11 13 9 10 ...
##  $ race           : num  5 5 5 3 5 5 5 5 3 5 ...
##  $ sex            : num  2 2 2 2 2 2 1 2 1 2 ...
##  $ capital_gain   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week : int  40 50 60 45 40 40 45 45 35 4 ...
##  $ marriage_status: num  1 1 1 1 3 3 2 1 2 2 ...
##  $ collar         : num  1 1 3 3 1 3 3 1 4 2 ...
##  $ income.binary  : Factor w/ 2 levels "0","1": 2 1 2 2 1 1 1 1 1 1 ...
##  $ age2           : num  961 2601 1521 2809 441 ...
##  $ age3           : num  29791 132651 59319 148877 9261 ...
##  $ education_num2 : num  81 81 121 81 16 100 121 169 81 100 ...
##  $ hours_per_week2: num  1600 2500 3600 2025 1600 ...</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = logit.train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.8072  -0.5301  -0.1932  -0.0241   3.7973  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -1.382e+01  8.051e-01 -17.171  &lt; 2e-16 ***
## age              4.194e-01  4.737e-02   8.854  &lt; 2e-16 ***
## education_num    1.498e-01  5.390e-02   2.779  0.00545 ** 
## race             1.235e-01  2.713e-02   4.553 5.28e-06 ***
## sex              5.135e-01  5.813e-02   8.834  &lt; 2e-16 ***
## capital_gain     3.292e-04  1.206e-05  27.283  &lt; 2e-16 ***
## capital_loss     6.912e-04  4.432e-05  15.594  &lt; 2e-16 ***
## hours_per_week   7.823e-02  7.454e-03  10.495  &lt; 2e-16 ***
## marriage_status -1.455e+00  3.890e-02 -37.416  &lt; 2e-16 ***
## collar           2.892e-01  2.156e-02  13.414  &lt; 2e-16 ***
## age2            -6.745e-03  9.991e-04  -6.751 1.47e-11 ***
## age3             3.275e-05  6.762e-06   4.843 1.28e-06 ***
## education_num2   7.361e-03  2.530e-03   2.909  0.00362 ** 
## hours_per_week2 -5.683e-04  7.293e-05  -7.792 6.61e-15 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 25100  on 22792  degrees of freedom
## Residual deviance: 14735  on 22779  degrees of freedom
## AIC: 14763
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs">logit.test$IncomeProbability &lt;- predict(model, newdata = logit.test, type = <span class="hljs-string">"response"</span>)

logit.test[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
logit.test$Prediction[logit.test$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
logit.test$Prediction=as.factor(logit.test$Prediction)
logit.test$income=as.factor(logit.test$income.binary)

confusionMatrix(logit.test$Prediction, logit.test$income.binary)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 6909 1037
##          1  479 1343
##                                           
##                Accuracy : 0.8448          
##                  95% CI : (0.8375, 0.8519)
##     No Information Rate : 0.7563          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5426          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9352          
##             Specificity : 0.5643          
##          Pos Pred Value : 0.8695          
##          Neg Pred Value : 0.7371          
##              Prevalence : 0.7563          
##          Detection Rate : 0.7073          
##    Detection Prevalence : 0.8135          
##       Balanced Accuracy : 0.7497          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs">car::vif(model)</code></pre>
<pre><code class="hljs">##             age   education_num            race             sex    capital_gain 
##      649.084395       36.690384        1.007466        1.276125        1.032742 
##    capital_loss  hours_per_week marriage_status          collar            age2 
##        1.008402       15.743276        1.239194        1.236500     2504.435989 
##            age3  education_num2 hours_per_week2 
##      655.653843       36.651397       15.363427</code></pre>
<p>Import train/test splits created by Cameron</p>
<pre class="r"><code class="hljs">train_na_rm = read.csv(<span class="hljs-string">"https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/data/Test_Train_Set/NAs_Removed/train_na_rm.csv"</span>, header = <span class="hljs-literal">TRUE</span>)

test_na_rm = read.csv(<span class="hljs-string">"https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/data/Test_Train_Set/NAs_Removed/test_na_rm.csv"</span>, header = <span class="hljs-literal">TRUE</span>)

train_na_as_cat = read.csv(<span class="hljs-string">"https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/data/Test_Train_Set/NAs_as_a_category/train_na_as_cat.csv"</span>, header = <span class="hljs-literal">TRUE</span>)

test_na_as_cat = read.csv(<span class="hljs-string">"https://raw.githubusercontent.com/rickfontenot/Predicting_Income/main/data/Test_Train_Set/NAs_as_a_category/test_na_as_cat.csv"</span>, header = <span class="hljs-literal">TRUE</span>)</code></pre>
<p>Create Feature lists for models</p>
<pre class="r"><code class="hljs">features.simple = c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)

features.complex = c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>,<span class="hljs-string">"age2"</span>,<span class="hljs-string">"age3"</span>,<span class="hljs-string">"education_num2"</span>,<span class="hljs-string">"hours_per_week2"</span>)</code></pre>
<p>Add features from EDA to the train/test sets</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#train_na_rm</span>
train_na_rm$income.binary&lt;-<span class="hljs-number">0</span>
train_na_rm$income.binary[train_na_rm$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
train_na_rm$income.binary = as.factor(train_na_rm$income.binary)

train_na_rm$marriage_status &lt;- <span class="hljs-string">"Other"</span>
train_na_rm$marriage_status[train_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Married-AF-spouse"</span>,<span class="hljs-string">"Married-civ-spouse"</span>)] &lt;- <span class="hljs-string">"Married"</span>
train_na_rm$marriage_status[train_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Divorced"</span>,<span class="hljs-string">"Married-spouse-absent"</span>,<span class="hljs-string">"Separated"</span>,<span class="hljs-string">"Widowed"</span>)] &lt;- <span class="hljs-string">"Previously-Married"</span>
train_na_rm$marriage_status[train_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-married"</span>)] &lt;- <span class="hljs-string">"Single"</span>

train_na_rm$collar &lt;- <span class="hljs-string">"Other"</span>
train_na_rm$collar[train_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Adm-clerical"</span>)] &lt;- <span class="hljs-string">"White-support"</span>
train_na_rm$collar[train_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Exec-managerial"</span>,<span class="hljs-string">"Prof-specialty"</span>,<span class="hljs-string">"Protective-serv"</span>,<span class="hljs-string">"Sales"</span>,<span class="hljs-string">"Tech-support
"</span>)] &lt;- <span class="hljs-string">"White"</span>
train_na_rm$collar[train_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Armed-Forces
"</span>,<span class="hljs-string">"Craft-repair"</span>,<span class="hljs-string">"Farming-fishing"</span>,<span class="hljs-string">"Handlers-cleaners"</span>,<span class="hljs-string">"Machine-op-inspct"</span>,<span class="hljs-string">"Other-service"</span>,<span class="hljs-string">"Priv-house-serv"</span>,<span class="hljs-string">"Transport-moving"</span>)] &lt;- <span class="hljs-string">"Blue"</span>

train_na_rm$age2 = train_na_rm$age^<span class="hljs-number">2</span>
train_na_rm$age3 = train_na_rm$age^<span class="hljs-number">3</span>
train_na_rm$education_num2 = train_na_rm$education_num^<span class="hljs-number">2</span>
train_na_rm$hours_per_week2 = train_na_rm$hours_per_week^<span class="hljs-number">2</span>

train_na_rm$race &lt;- as.factor(train_na_rm$race)
train_na_rm$sex &lt;- as.factor(train_na_rm$sex)
train_na_rm$marriage_status &lt;- as.factor(train_na_rm$marriage_status)
train_na_rm$collar &lt;- as.factor(train_na_rm$collar)

<span class="hljs-comment">#test_na_rm</span>
test_na_rm$income.binary&lt;-<span class="hljs-number">0</span>
test_na_rm$income.binary[test_na_rm$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
test_na_rm$income.binary = as.factor(test_na_rm$income.binary)

test_na_rm$marriage_status &lt;- <span class="hljs-string">"Other"</span>
test_na_rm$marriage_status[test_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Married-AF-spouse"</span>,<span class="hljs-string">"Married-civ-spouse"</span>)] &lt;- <span class="hljs-string">"Married"</span>
test_na_rm$marriage_status[test_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Divorced"</span>,<span class="hljs-string">"Married-spouse-absent"</span>,<span class="hljs-string">"Separated"</span>,<span class="hljs-string">"Widowed"</span>)] &lt;- <span class="hljs-string">"Previously-Married"</span>
test_na_rm$marriage_status[test_na_rm$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-married"</span>)] &lt;- <span class="hljs-string">"Single"</span>

test_na_rm$collar &lt;- <span class="hljs-string">"Other"</span>
test_na_rm$collar[test_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Adm-clerical"</span>)] &lt;- <span class="hljs-string">"White-support"</span>
test_na_rm$collar[test_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Exec-managerial"</span>,<span class="hljs-string">"Prof-specialty"</span>,<span class="hljs-string">"Protective-serv"</span>,<span class="hljs-string">"Sales"</span>,<span class="hljs-string">"Tech-support
"</span>)] &lt;- <span class="hljs-string">"White"</span>
test_na_rm$collar[test_na_rm$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Armed-Forces
"</span>,<span class="hljs-string">"Craft-repair"</span>,<span class="hljs-string">"Farming-fishing"</span>,<span class="hljs-string">"Handlers-cleaners"</span>,<span class="hljs-string">"Machine-op-inspct"</span>,<span class="hljs-string">"Other-service"</span>,<span class="hljs-string">"Priv-house-serv"</span>,<span class="hljs-string">"Transport-moving"</span>)] &lt;- <span class="hljs-string">"Blue"</span>

test_na_rm$age2 = test_na_rm$age^<span class="hljs-number">2</span>
test_na_rm$age3 = test_na_rm$age^<span class="hljs-number">3</span>
test_na_rm$education_num2 = test_na_rm$education_num^<span class="hljs-number">2</span>
test_na_rm$hours_per_week2 = test_na_rm$hours_per_week^<span class="hljs-number">2</span>

test_na_rm$race &lt;- as.factor(test_na_rm$race)
test_na_rm$sex &lt;- as.factor(test_na_rm$sex)
test_na_rm$marriage_status &lt;- as.factor(test_na_rm$marriage_status)
test_na_rm$collar &lt;- as.factor(test_na_rm$collar)

<span class="hljs-comment">#train_na_as_cat</span>
train_na_as_cat$income.binary&lt;-<span class="hljs-number">0</span>
train_na_as_cat$income.binary[train_na_as_cat$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
train_na_as_cat$income.binary = as.factor(train_na_as_cat$income.binary)

<span class="hljs-comment">#Evaluate reducing levels to Government, Private, Self-Employed, Other</span>
train_na_as_cat$workclass &lt;- trimws(train_na_as_cat$workclass)
train_na_as_cat$work_sector &lt;- <span class="hljs-string">"Other"</span>
train_na_as_cat$work_sector[train_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Federal-gov"</span>,<span class="hljs-string">"Local-gov"</span>,<span class="hljs-string">"State-gov"</span>)] &lt;- <span class="hljs-string">"Government"</span>
train_na_as_cat$work_sector[train_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Private"</span>)] &lt;- <span class="hljs-string">"Private"</span>
train_na_as_cat$work_sector[train_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Self-emp-inc"</span>,<span class="hljs-string">"Self-emp-not-inc"</span>)] &lt;- <span class="hljs-string">"Self_Employed"</span>
train_na_as_cat$work_sector[train_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-worked"</span>,<span class="hljs-string">"Without-pay"</span>)] &lt;- <span class="hljs-string">"Not_Working"</span>
train_na_as_cat$work_sector = as.factor(train_na_as_cat$work_sector)

train_na_as_cat$marriage_status &lt;- <span class="hljs-string">"Other"</span>
train_na_as_cat$marriage_status[train_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Married-AF-spouse"</span>,<span class="hljs-string">"Married-civ-spouse"</span>)] &lt;- <span class="hljs-string">"Married"</span>
train_na_as_cat$marriage_status[train_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Divorced"</span>,<span class="hljs-string">"Married-spouse-absent"</span>,<span class="hljs-string">"Separated"</span>,<span class="hljs-string">"Widowed"</span>)] &lt;- <span class="hljs-string">"Previously-Married"</span>
train_na_as_cat$marriage_status[train_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-married"</span>)] &lt;- <span class="hljs-string">"Single"</span>

train_na_as_cat$collar &lt;- <span class="hljs-string">"Other"</span>
train_na_as_cat$collar[train_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Adm-clerical"</span>)] &lt;- <span class="hljs-string">"White-support"</span>
train_na_as_cat$collar[train_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Exec-managerial"</span>,<span class="hljs-string">"Prof-specialty"</span>,<span class="hljs-string">"Protective-serv"</span>,<span class="hljs-string">"Sales"</span>,<span class="hljs-string">"Tech-support
"</span>)] &lt;- <span class="hljs-string">"White"</span>
train_na_as_cat$collar[train_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Armed-Forces
"</span>,<span class="hljs-string">"Craft-repair"</span>,<span class="hljs-string">"Farming-fishing"</span>,<span class="hljs-string">"Handlers-cleaners"</span>,<span class="hljs-string">"Machine-op-inspct"</span>,<span class="hljs-string">"Other-service"</span>,<span class="hljs-string">"Priv-house-serv"</span>,<span class="hljs-string">"Transport-moving"</span>)] &lt;- <span class="hljs-string">"Blue"</span>

train_na_as_cat$age2 = train_na_as_cat$age^<span class="hljs-number">2</span>
train_na_as_cat$age3 = train_na_as_cat$age^<span class="hljs-number">3</span>
train_na_as_cat$education_num2 = train_na_as_cat$education_num^<span class="hljs-number">2</span>
train_na_as_cat$hours_per_week2 = train_na_as_cat$hours_per_week^<span class="hljs-number">2</span>

train_na_as_cat$race &lt;- as.factor(train_na_as_cat$race)
train_na_as_cat$sex &lt;- as.factor(train_na_as_cat$sex)
train_na_as_cat$marriage_status &lt;- as.factor(train_na_as_cat$marriage_status)
train_na_as_cat$collar &lt;- as.factor(train_na_as_cat$collar)

<span class="hljs-comment">#test_na_as_cat</span>
test_na_as_cat$income.binary&lt;-<span class="hljs-number">0</span>
test_na_as_cat$income.binary[test_na_as_cat$income==<span class="hljs-string">" &gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
test_na_as_cat$income.binary = as.factor(test_na_as_cat$income.binary)

<span class="hljs-comment">#Evaluate reducing levels to Government, Private, Self-Employed, Other</span>
test_na_as_cat$workclass &lt;- trimws(test_na_as_cat$workclass)
test_na_as_cat$work_sector &lt;- <span class="hljs-string">"Other"</span>
test_na_as_cat$work_sector[test_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Federal-gov"</span>,<span class="hljs-string">"Local-gov"</span>,<span class="hljs-string">"State-gov"</span>)] &lt;- <span class="hljs-string">"Government"</span>
test_na_as_cat$work_sector[test_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Private"</span>)] &lt;- <span class="hljs-string">"Private"</span>
test_na_as_cat$work_sector[test_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Self-emp-inc"</span>,<span class="hljs-string">"Self-emp-not-inc"</span>)] &lt;- <span class="hljs-string">"Self_Employed"</span>
test_na_as_cat$work_sector[test_na_as_cat$workclass %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-worked"</span>,<span class="hljs-string">"Without-pay"</span>)] &lt;- <span class="hljs-string">"Not_Working"</span>
test_na_as_cat$work_sector = as.factor(test_na_as_cat$work_sector)

test_na_as_cat$marriage_status &lt;- <span class="hljs-string">"Other"</span>
test_na_as_cat$marriage_status[test_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Married-AF-spouse"</span>,<span class="hljs-string">"Married-civ-spouse"</span>)] &lt;- <span class="hljs-string">"Married"</span>
test_na_as_cat$marriage_status[test_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Divorced"</span>,<span class="hljs-string">"Married-spouse-absent"</span>,<span class="hljs-string">"Separated"</span>,<span class="hljs-string">"Widowed"</span>)] &lt;- <span class="hljs-string">"Previously-Married"</span>
test_na_as_cat$marriage_status[test_na_as_cat$marital_status %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Never-married"</span>)] &lt;- <span class="hljs-string">"Single"</span>

test_na_as_cat$collar &lt;- <span class="hljs-string">"Other"</span>
test_na_as_cat$collar[test_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Adm-clerical"</span>)] &lt;- <span class="hljs-string">"White-support"</span>
test_na_as_cat$collar[test_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Exec-managerial"</span>,<span class="hljs-string">"Prof-specialty"</span>,<span class="hljs-string">"Protective-serv"</span>,<span class="hljs-string">"Sales"</span>,<span class="hljs-string">"Tech-support
"</span>)] &lt;- <span class="hljs-string">"White"</span>
test_na_as_cat$collar[test_na_as_cat$occupation %<span class="hljs-keyword">in</span>% c(<span class="hljs-string">"Armed-Forces
"</span>,<span class="hljs-string">"Craft-repair"</span>,<span class="hljs-string">"Farming-fishing"</span>,<span class="hljs-string">"Handlers-cleaners"</span>,<span class="hljs-string">"Machine-op-inspct"</span>,<span class="hljs-string">"Other-service"</span>,<span class="hljs-string">"Priv-house-serv"</span>,<span class="hljs-string">"Transport-moving"</span>)] &lt;- <span class="hljs-string">"Blue"</span>

test_na_as_cat$age2 = test_na_as_cat$age^<span class="hljs-number">2</span>
test_na_as_cat$age3 = test_na_as_cat$age^<span class="hljs-number">3</span>
test_na_as_cat$education_num2 = test_na_as_cat$education_num^<span class="hljs-number">2</span>
test_na_as_cat$hours_per_week2 = test_na_as_cat$hours_per_week^<span class="hljs-number">2</span>

test_na_as_cat$race &lt;- as.factor(test_na_as_cat$race)
test_na_as_cat$sex &lt;- as.factor(test_na_as_cat$sex)
test_na_as_cat$marriage_status &lt;- as.factor(test_na_as_cat$marriage_status)
test_na_as_cat$collar &lt;- as.factor(test_na_as_cat$collar)</code></pre>
<p>Base Logistic regression model with all original variables for comparison</p>
<pre class="r"><code class="hljs">original.variables &lt;- c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"workclass"</span>,<span class="hljs-string">"fnlwgt"</span>,<span class="hljs-string">"education"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"marital_status"</span>,<span class="hljs-string">"occupation"</span>,<span class="hljs-string">"relationship"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>,<span class="hljs-string">"native_country"</span>)

dat.train.x &lt;- train_na_as_cat %&gt;% select(original.variables)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(original.variables)` instead of `original.variables` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">dat.train.x %&gt;% summarise_all(funs(sum(is.na(.))))</code></pre>
<pre><code class="hljs">## Warning: `funs()` was deprecated in dplyr 0.8.0.
## Please use a list of either functions or lambdas: 
## 
##   # Simple named list: 
##   list(mean = mean, median = median)
## 
##   # Auto named with `tibble::lst()`: 
##   tibble::lst(mean, median)
## 
##   # Using lambdas
##   list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))</code></pre>
<pre><code class="hljs">##   age workclass fnlwgt education education_num marital_status occupation
## 1   0         0      0         0             0              0          0
##   relationship race sex capital_gain capital_loss hours_per_week native_country
## 1            0    0   0            0            0              0              0</code></pre>
<pre class="r"><code class="hljs">dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.train.y &lt;- train_na_as_cat$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

dat.train.x %&gt;% summarise_all(funs(sum(is.na(.))))</code></pre>
<pre><code class="hljs">##   age workclass fnlwgt education education_num marital_status occupation
## 1   0         0      0         0             0              0          0
##   relationship race sex capital_gain capital_loss hours_per_week native_country
## 1            0    0   0            0            0              0              0</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- data.matrix(dat.train.x)
cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-15-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 15 x 1 sparse Matrix of class "dgCMatrix"
##                            1
## (Intercept)    -8.158966e+00
## age             3.203800e-02
## workclass      -5.196272e-02
## fnlwgt          3.498009e-07
## education       1.252358e-02
## education_num   3.210900e-01
## marital_status -2.313005e-01
## occupation      .           
## relationship   -1.160674e-01
## race            8.545135e-02
## sex             8.345323e-01
## capital_gain    2.738226e-04
## capital_loss    6.546118e-04
## hours_per_week  2.935723e-02
## native_country  4.340067e-04</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##               1
## [1,] 0.01154077
## [2,] 0.22092069
## [3,] 0.08371202
## [4,] 0.24010471
## [5,] 0.05585730
## [6,] 0.22396898</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &gt;50K  &lt;=50K &lt;=50K &lt;=50K &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-15-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_as_cat %&gt;% select(original.variables)
dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.val1.x &lt;- data.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_as_cat$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-15-3.png" width="672"></p>
<pre class="r"><code class="hljs">significance_check &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"income"</span>)
significance_check$income.binary&lt;-<span class="hljs-number">0</span>
significance_check$income.binary[significance_check$income==<span class="hljs-string">"&gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
significance_check &lt;- significance_check %&gt;% select(-income)

significance_check &lt;- mutate_if(significance_check, is.factor, ~ as.numeric(as.factor(.x)))
significance_check &lt;- mutate_if(significance_check, is.character, ~ as.numeric(as.factor(.x)))

model &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=significance_check)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = significance_check)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3075  -0.6183  -0.3409  -0.0904   3.2944  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.685e+00  2.664e-01 -32.603  &lt; 2e-16 ***
## age             3.339e-02  1.509e-03  22.127  &lt; 2e-16 ***
## workclass      -6.389e-02  1.216e-02  -5.254 1.49e-07 ***
## fnlwgt          5.338e-07  1.715e-07   3.112  0.00186 ** 
## education       1.858e-02  5.814e-03   3.196  0.00139 ** 
## education_num   3.318e-01  8.086e-03  41.032  &lt; 2e-16 ***
## marital_status -2.438e-01  1.373e-02 -17.755  &lt; 2e-16 ***
## occupation     -3.330e-04  4.079e-03  -0.082  0.93495    
## relationship   -1.187e-01  1.604e-02  -7.396 1.40e-13 ***
## race            1.050e-01  2.385e-02   4.402 1.07e-05 ***
## sex             8.829e-01  5.628e-02  15.688  &lt; 2e-16 ***
## capital_gain    3.143e-04  1.079e-05  29.130  &lt; 2e-16 ***
## capital_loss    6.932e-04  3.772e-05  18.378  &lt; 2e-16 ***
## hours_per_week  3.086e-02  1.567e-03  19.693  &lt; 2e-16 ***
## native_country  2.636e-03  3.008e-03   0.876  0.38099    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 28706  on 26048  degrees of freedom
## Residual deviance: 19914  on 26034  degrees of freedom
## AIC: 19944
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#occupation and native_country are not significant</span>

significance_check2 &lt;- significance_check %&gt;% select(-fnlwgt)
model2 &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=significance_check2)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">summary(model2)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = significance_check2)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.2947  -0.6195  -0.3409  -0.0904   3.2838  
## 
## Coefficients:
##                  Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -8.539e+00  2.617e-01 -32.625  &lt; 2e-16 ***
## age             3.308e-02  1.505e-03  21.982  &lt; 2e-16 ***
## workclass      -6.480e-02  1.215e-02  -5.332 9.73e-08 ***
## education       1.847e-02  5.814e-03   3.177  0.00149 ** 
## education_num   3.313e-01  8.083e-03  40.991  &lt; 2e-16 ***
## marital_status -2.435e-01  1.373e-02 -17.738  &lt; 2e-16 ***
## occupation     -2.786e-04  4.079e-03  -0.068  0.94555    
## relationship   -1.187e-01  1.604e-02  -7.402 1.34e-13 ***
## race            1.036e-01  2.380e-02   4.354 1.34e-05 ***
## sex             8.872e-01  5.626e-02  15.771  &lt; 2e-16 ***
## capital_gain    3.143e-04  1.078e-05  29.148  &lt; 2e-16 ***
## capital_loss    6.916e-04  3.769e-05  18.349  &lt; 2e-16 ***
## hours_per_week  3.065e-02  1.565e-03  19.593  &lt; 2e-16 ***
## native_country  2.218e-03  3.005e-03   0.738  0.46049    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 28706  on 26048  degrees of freedom
## Residual deviance: 19924  on 26035  degrees of freedom
## AIC: 19952
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<p>Re-run Base model without CV</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Training set</span>
base.train &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"income"</span>)
base.train &lt;- mutate_if(base.train, is.character, ~ (as.factor(.x)))
base.train &lt;- mutate_if(base.train, is.factor, ~ as.numeric(as.factor(.x)))
base.train$income &lt;- base.train$income-<span class="hljs-number">1</span>


<span class="hljs-comment">#Run Model</span>
base.model1 &lt;- glm(income ~ .,family=<span class="hljs-string">"binomial"</span>,data=base.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Test set</span>
base.test &lt;- test_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"income"</span>)
base.test &lt;- mutate_if(base.test, is.character, ~ (as.factor(.x)))
base.test &lt;- mutate_if(base.test, is.factor, ~ as.numeric(as.factor(.x)))
base.test$income &lt;- base.test$income-<span class="hljs-number">1</span>

<span class="hljs-comment">#Make Predictions and check performance</span>
predprobs&lt;-predict(base.model1,base.test,type=<span class="hljs-string">"response"</span>)
base.roc&lt;-roc(response=base.test$income,predictor=predprobs,levels=c(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>))</code></pre>
<pre><code class="hljs">## Setting direction: controls &lt; cases</code></pre>
<pre class="r"><code class="hljs">plot(base.roc,print.thres=<span class="hljs-string">"best"</span>, main=<span class="hljs-string">"Base Logistic Regression"</span>) <span class="hljs-comment">#This graph is nice because the x axis is plotted in terms of specificity rather than FPR</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC-test = "</span>, round(auc(base.roc),<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-16-1.png" width="672"></p>
<pre class="r"><code class="hljs">auc(base.roc)</code></pre>
<pre><code class="hljs">## Area under the curve: 0.8538</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#AUC=0.905</span>

threshold=<span class="hljs-number">0.214</span>
log.predclass&lt;-ifelse(predprobs&gt;threshold,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(as.factor(log.predclass),as.factor(base.test$income))</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 3663  297
##          1 1258 1294
##                                           
##                Accuracy : 0.7612          
##                  95% CI : (0.7507, 0.7715)
##     No Information Rate : 0.7557          
##     P-Value [Acc &gt; NIR] : 0.1529          
##                                           
##                   Kappa : 0.4631          
##                                           
##  Mcnemar's Test P-Value : &lt;2e-16          
##                                           
##             Sensitivity : 0.7444          
##             Specificity : 0.8133          
##          Pos Pred Value : 0.9250          
##          Neg Pred Value : 0.5071          
##              Prevalence : 0.7557          
##          Detection Rate : 0.5625          
##    Detection Prevalence : 0.6081          
##       Balanced Accuracy : 0.7788          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<p>From above: Drop fnlwgt not a relevant predictor of income Drop native_country (not significant)</p>
<p>From EDA replace workclass with work_sector replace marital_status with marriage_status replace occupation with collar Drop Education, redundant with education_num</p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"work_sector"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.train.x = dat.train.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>)

dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.train.y &lt;- train_na_as_cat$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

dat.train.x %&gt;% summarise_all(funs(sum(is.na(.))))</code></pre>
<pre><code class="hljs">##   age education_num relationship race sex capital_gain capital_loss
## 1   0             0            0    0   0            0            0
##   hours_per_week work_sector marriage_status collar
## 1              0           0               0      0</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- data.matrix(dat.train.x)
cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-17-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 12 x 1 sparse Matrix of class "dgCMatrix"
##                             1
## (Intercept)     -6.2435882109
## age              0.0177253374
## education_num    0.3109518700
## relationship     0.0451181999
## race             0.0685165083
## sex              0.5210273355
## capital_gain     0.0002893658
## capital_loss     0.0006524981
## hours_per_week   0.0295686532
## work_sector     -0.0088786987
## marriage_status -1.5181263794
## collar           0.2618111686</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##                1
## [1,] 0.006822733
## [2,] 0.280683285
## [3,] 0.023241052
## [4,] 0.077343848
## [5,] 0.013644221
## [6,] 0.070800985</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &gt;50K  &lt;=50K &lt;=50K &lt;=50K &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-17-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"work_sector"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.val1.x = dat.val1.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>)

dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.val1.x &lt;- data.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_as_cat$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-17-3.png" width="672"></p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"work_sector"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.train.x = dat.train.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>)

significance_check3 &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"work_sector"</span>,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>,<span class="hljs-string">"income"</span>)
significance_check3 = significance_check3 %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>)

significance_check3$income.binary&lt;-<span class="hljs-number">0</span>
significance_check3$income.binary[significance_check3$income==<span class="hljs-string">"&gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
significance_check3 &lt;- significance_check3 %&gt;% select(-income)

significance_check3 &lt;- mutate_if(significance_check3, is.factor, ~ as.numeric(as.factor(.x)))
significance_check3 &lt;- mutate_if(significance_check3, is.character, ~ as.numeric(as.factor(.x)))

model3 &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=significance_check3)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">summary(model3)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = significance_check3)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.3271  -0.5543  -0.2146  -0.0534   3.3818  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)     -6.889e+00  2.677e-01 -25.731  &lt; 2e-16 ***
## age              1.930e-02  1.622e-03  11.902  &lt; 2e-16 ***
## education_num    3.185e-01  9.064e-03  35.141  &lt; 2e-16 ***
## relationship     9.135e-02  1.891e-02   4.831 1.36e-06 ***
## race             8.943e-02  2.495e-02   3.585 0.000338 ***
## sex              6.845e-01  7.723e-02   8.863  &lt; 2e-16 ***
## capital_gain     3.226e-04  1.106e-05  29.155  &lt; 2e-16 ***
## capital_loss     6.873e-04  4.088e-05  16.812  &lt; 2e-16 ***
## hours_per_week   3.126e-02  1.682e-03  18.584  &lt; 2e-16 ***
## work_sector     -1.929e-02  1.596e-02  -1.209 0.226742    
## marriage_status -1.573e+00  3.503e-02 -44.903  &lt; 2e-16 ***
## collar           2.753e-01  1.998e-02  13.781  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 28706  on 26048  degrees of freedom
## Residual deviance: 17337  on 26037  degrees of freedom
## AIC: 17361
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Work_sector is not significant</span></code></pre>
<p>From above: Drop work_sector</p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.train.x = dat.train.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>,-<span class="hljs-string">"relationship"</span>)

<span class="hljs-comment">#dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))</span>
dat.train.x &lt;- mutate_if(dat.train.x, is.character, ~ as.factor(.x))
dat.train.y &lt;- train_na_as_cat$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

dat.train.x %&gt;% summarise_all(funs(sum(is.na(.))))</code></pre>
<pre><code class="hljs">##   age education_num race sex capital_gain capital_loss hours_per_week
## 1   0             0    0   0            0            0              0
##   marriage_status collar
## 1               0      0</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- data.matrix(dat.train.x)
cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-18-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 10 x 1 sparse Matrix of class "dgCMatrix"
##                             1
## (Intercept)     -5.8314165258
## age              0.0169651178
## education_num    0.3087849112
## race             0.0600248005
## sex              0.3822834590
## capital_gain     0.0002807290
## capital_loss     0.0006424647
## hours_per_week   0.0288745770
## marriage_status -1.4977405637
## collar           0.2598319174</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##                1
## [1,] 0.005806516
## [2,] 0.275808150
## [3,] 0.020784317
## [4,] 0.073838041
## [5,] 0.012066640
## [6,] 0.066567257</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &gt;50K  &lt;=50K &lt;=50K &lt;=50K &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-18-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.val1.x = dat.val1.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>,-<span class="hljs-string">"relationship"</span>)

dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.val1.x &lt;- data.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_as_cat$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-18-3.png" width="672"></p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>)
dat.train.x = dat.train.x %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>)

significance_check4 &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>,<span class="hljs-string">"income"</span>)
significance_check4 = significance_check4 %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>,-<span class="hljs-string">"relationship"</span>)

significance_check4$income.binary&lt;-<span class="hljs-number">0</span>
significance_check4$income.binary[significance_check4$income==<span class="hljs-string">"&gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
significance_check4 &lt;- significance_check4 %&gt;% select(-income)

<span class="hljs-comment">#significance_check4 &lt;- mutate_if(significance_check4, is.factor, ~ as.numeric(as.factor(.x)))</span>
significance_check4 &lt;- mutate_if(significance_check4, is.character, ~ as.factor(.x))

model3 &lt;- glm(income.binary ~.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=significance_check4)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">summary(model3)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ ., family = binomial(link = "logit"), 
##     data = significance_check4)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -5.2827  -0.5271  -0.2207  -0.0665   3.2753  
## 
## Coefficients:
##                                     Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                       -6.889e+00  2.822e-01 -24.413  &lt; 2e-16 ***
## age                                2.195e-02  1.670e-03  13.147  &lt; 2e-16 ***
## education_num                      2.905e-01  9.407e-03  30.883  &lt; 2e-16 ***
## raceAsian-Pac-Islander             3.692e-01  2.653e-01   1.392 0.163902    
## raceBlack                          4.732e-01  2.541e-01   1.862 0.062573 .  
## raceOther                          2.204e-02  3.728e-01   0.059 0.952853    
## raceWhite                          5.464e-01  2.434e-01   2.245 0.024753 *  
## sexMale                            1.722e-01  5.563e-02   3.095 0.001965 ** 
## capital_gain                       3.188e-04  1.110e-05  28.724  &lt; 2e-16 ***
## capital_loss                       6.841e-04  4.124e-05  16.590  &lt; 2e-16 ***
## hours_per_week                     3.006e-02  1.698e-03  17.701  &lt; 2e-16 ***
## marriage_statusPreviously-Married -2.139e+00  6.443e-02 -33.205  &lt; 2e-16 ***
## marriage_statusSingle             -2.758e+00  7.016e-02 -39.316  &lt; 2e-16 ***
## collarOther                        2.716e-01  8.080e-02   3.362 0.000775 ***
## collarWhite                        8.125e-01  4.796e-02  16.941  &lt; 2e-16 ***
## collarWhite-support                4.125e-01  7.652e-02   5.390 7.03e-08 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 28706  on 26048  degrees of freedom
## Residual deviance: 17121  on 26033  degrees of freedom
## AIC: 17153
## 
## Number of Fisher Scoring iterations: 7</code></pre>
<p>Re-Run Simple Logistic regression on full train set instead of using CV</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Training set</span>
simple1.train &lt;- train_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>,<span class="hljs-string">"income"</span>)
simple1.train = simple1.train %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>,-<span class="hljs-string">"relationship"</span>)
simple1.train$income &lt;- as.factor(simple1.train$income)

<span class="hljs-comment">#Run Model</span>
simple.model1 &lt;- glm(income ~ .,family=<span class="hljs-string">"binomial"</span>,data=simple1.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Test set</span>
simple1.test &lt;- test_na_as_cat %&gt;% select(original.variables,<span class="hljs-string">"marriage_status"</span>,<span class="hljs-string">"collar"</span>,<span class="hljs-string">"income"</span>)
simple1.test = simple1.test %&gt;% select(-<span class="hljs-string">"workclass"</span>,-<span class="hljs-string">"marital_status"</span>,-<span class="hljs-string">"occupation"</span>,-<span class="hljs-string">"education"</span>,-<span class="hljs-string">"fnlwgt"</span>,-<span class="hljs-string">"native_country"</span>,-<span class="hljs-string">"relationship"</span>)
simple1.test$income &lt;- as.factor(simple1.test$income)

<span class="hljs-comment">#Make Predictions and check performance</span>
predprobs&lt;-predict(simple.model1,simple1.test,type=<span class="hljs-string">"response"</span>)
simple.roc&lt;-roc(response=simple1.test$income,predictor=predprobs,levels=c(<span class="hljs-string">"&lt;=50K"</span>,<span class="hljs-string">"&gt;50K"</span>))</code></pre>
<pre><code class="hljs">## Setting direction: controls &lt; cases</code></pre>
<pre class="r"><code class="hljs">plot(simple.roc,print.thres=<span class="hljs-string">"best"</span>, main=<span class="hljs-string">"Simple Logistic Regression"</span>) <span class="hljs-comment">#This graph is nice because the x axis is plotted in terms of specificity rather than FPR</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC-test = "</span>, round(auc(simple.roc),<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-19-1.png" width="672"></p>
<pre class="r"><code class="hljs">auc(simple.roc)</code></pre>
<pre><code class="hljs">## Area under the curve: 0.8958</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#AUC=0.896</span>


threshold=<span class="hljs-number">0.218</span>
log.predclass&lt;-ifelse(predprobs&gt;threshold,<span class="hljs-string">"&gt;50K"</span>,<span class="hljs-string">"&lt;=50K"</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(log.predclass,simple1.test$income)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction &lt;=50K &gt;50K
##      &lt;=50K  3840  264
##      &gt;50K   1081 1327
##                                           
##                Accuracy : 0.7935          
##                  95% CI : (0.7834, 0.8032)
##     No Information Rate : 0.7557          
##     P-Value [Acc &gt; NIR] : 2.764e-13       
##                                           
##                   Kappa : 0.5234          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.7803          
##             Specificity : 0.8341          
##          Pos Pred Value : 0.9357          
##          Neg Pred Value : 0.5511          
##              Prevalence : 0.7557          
##          Detection Rate : 0.5897          
##    Detection Prevalence : 0.6302          
##       Balanced Accuracy : 0.8072          
##                                           
##        'Positive' Class : &lt;=50K           
## </code></pre>
<p>Run Complex Logistic regression with NA removed, add AUC metric</p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_rm %&gt;% select(features.complex)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(features.complex)` instead of `features.complex` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.train.y &lt;- train_na_rm$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

<span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- as.matrix(dat.train.x)
cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-20-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 14 x 1 sparse Matrix of class "dgCMatrix"
##                             1
## (Intercept)     -8.124467e+00
## age              8.964044e-02
## education_num    1.889180e-01
## race             7.959121e-02
## sex              4.430381e-01
## capital_gain     2.930046e-04
## capital_loss     6.280692e-04
## hours_per_week   5.612929e-02
## marriage_status -1.428864e+00
## collar           2.701323e-01
## age2             .           
## age3            -1.060933e-05
## education_num2   5.783400e-03
## hours_per_week2 -3.407889e-04</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##                1
## [1,] 0.356837284
## [2,] 0.099340283
## [3,] 0.004860508
## [4,] 0.020547775
## [5,] 0.446304858
## [6,] 0.009895423</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &lt;=50K &lt;=50K &lt;=50K &gt;50K  &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-20-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_rm %&gt;% select(features.complex)
dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.val1.x &lt;- as.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_rm$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-20-3.png" width="672"></p>
<p>Run Simple Logistic regression with NA as category, add AUC metric</p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_as_cat %&gt;% select(features.simple)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(features.simple)` instead of `features.simple` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.train.y &lt;- train_na_as_cat$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

<span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- as.matrix(dat.train.x)
cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-21-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 10 x 1 sparse Matrix of class "dgCMatrix"
##                             1
## (Intercept)     -5.8639843134
## age              0.0170820755
## education_num    0.3095283675
## race             0.0618316084
## sex              0.3849096600
## capital_gain     0.0002840471
## capital_loss     0.0006460277
## hours_per_week   0.0290148380
## marriage_status -1.5021724957
## collar           0.2615506082</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##                1
## [1,] 0.005766617
## [2,] 0.275600835
## [3,] 0.020684854
## [4,] 0.073689793
## [5,] 0.012003137
## [6,] 0.066389508</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &gt;50K  &lt;=50K &lt;=50K &lt;=50K &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-21-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_as_cat %&gt;% select(features.simple)
dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))
dat.val1.x &lt;- as.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_as_cat$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-21-3.png" width="672"></p>
<p>Run Complex Logistic regression with NA as category, add AUC metric</p>
<pre class="r"><code class="hljs">dat.train.x &lt;- train_na_rm %&gt;% select(features.complex)
dat.train.x &lt;- dat.train.x %&gt;% select(-age2)

<span class="hljs-comment">#dat.train.x$sex_marriage &lt;- paste(dat.train.x$sex, "_", dat.train.x$marriage_status)</span>
<span class="hljs-comment">#dat.train.x$sex_marriage &lt;- as.factor(dat.train.x$sex_marriage)</span>
<span class="hljs-comment">#dat.train.x$relationship &lt;- as.factor(dat.train.x$relationship)</span>
dat.train.x &lt;- mutate_if(dat.train.x, is.factor, ~ as.numeric(as.factor(.x)))

dat.train.y &lt;- train_na_rm$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

<span class="hljs-comment">#glmnet requires a matrix </span>
dat.train.x &lt;- as.matrix(dat.train.x)

set.seed(<span class="hljs-number">284</span>)
flds &lt;- createFolds(dat.train.y, k = <span class="hljs-number">5</span>, list = <span class="hljs-literal">TRUE</span>, returnTrain = <span class="hljs-literal">FALSE</span>)
foldids = rep(<span class="hljs-number">1</span>,length(dat.train.y))
foldids[flds$Fold2] = <span class="hljs-number">2</span>
foldids[flds$Fold3] = <span class="hljs-number">3</span>
foldids[flds$Fold4] = <span class="hljs-number">4</span>
foldids[flds$Fold5] = <span class="hljs-number">5</span>

cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = <span class="hljs-string">"binomial"</span>, type.measure = <span class="hljs-string">"class"</span>, nlambda = <span class="hljs-number">1000</span>)
<span class="hljs-comment">#cvfit &lt;- cv.glmnet(dat.train.x, dat.train.y, family = "binomial", type.measure = "class", nlambda = 1000,foldid = foldids)</span>
plot(cvfit)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-22-1.png" width="672"></p>
<pre class="r"><code class="hljs">coef(cvfit, s = <span class="hljs-string">"lambda.min"</span>)</code></pre>
<pre><code class="hljs">## 13 x 1 sparse Matrix of class "dgCMatrix"
##                             1
## (Intercept)     -8.253238e+00
## age              9.155500e-02
## education_num    1.898890e-01
## race             8.101149e-02
## sex              4.445380e-01
## capital_gain     2.954228e-04
## capital_loss     6.306582e-04
## hours_per_week   5.846497e-02
## marriage_status -1.431178e+00
## collar           2.712842e-01
## age3            -1.088501e-05
## education_num2   5.761275e-03
## hours_per_week2 -3.641796e-04</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get training set predictions...We know they are biased but lets create ROC's.</span>
<span class="hljs-comment">#These are predicted probabilities from logistic model  exp(b)/(1+exp(b))</span>
fit.pred &lt;- predict(cvfit, newx = dat.train.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#Compare the prediction to the real outcome</span>
head(fit.pred)</code></pre>
<pre><code class="hljs">##                1
## [1,] 0.361106566
## [2,] 0.097771655
## [3,] 0.004554286
## [4,] 0.020135860
## [5,] 0.449555445
## [6,] 0.009541062</code></pre>
<pre class="r"><code class="hljs">head(dat.train.y)</code></pre>
<pre><code class="hljs">## [1] &lt;=50K &lt;=50K &lt;=50K &lt;=50K &gt;50K  &lt;=50K
## Levels: &lt;=50K &gt;50K</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Create ROC curves</span>
pred &lt;- prediction(fit.pred[,<span class="hljs-number">1</span>], dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values

<span class="hljs-comment">#Plot ROC</span>
plot(roc.perf,print.thres=<span class="hljs-string">"best"</span>)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>) <span class="hljs-comment">#Ref line indicating poor performance</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-22-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Get Test Set</span>
dat.val1.x &lt;- test_na_rm %&gt;% select(features.complex)
dat.val1.x &lt;- dat.val1.x %&gt;% select(-age2)

<span class="hljs-comment">#dat.val1.x$sex_marriage &lt;- paste(dat.val1.x$sex, "_", dat.val1.x$marriage_status)</span>
<span class="hljs-comment">#dat.val1.x$sex_marriage &lt;- as.factor(dat.val1.x$sex_marriage)</span>
<span class="hljs-comment">#dat.val1.x$relationship &lt;- as.factor(dat.val1.x$relationship)</span>
dat.val1.x &lt;- mutate_if(dat.val1.x, is.factor, ~ as.numeric(as.factor(.x)))

dat.val1.x &lt;- as.matrix(dat.val1.x)

dat.val1.y &lt;- test_na_rm$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


<span class="hljs-comment">#Run model from training set on valid set I</span>
fit.pred1 &lt;- predict(cvfit, newx = dat.val1.x, type = <span class="hljs-string">"response"</span>)

<span class="hljs-comment">#ROC curves</span>
pred1 &lt;- prediction(fit.pred1[,<span class="hljs-number">1</span>], dat.val1.y)
roc.perf1 = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.val1 &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.val1 &lt;- auc.val1@y.values
plot(roc.perf1,print.thres=<span class="hljs-string">"best"</span>)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-22-3.png" width="672"></p>
<pre class="r"><code class="hljs">test.roc &lt;- roc(predictor = fit.pred1, response = dat.val1.y, levels = (levels(dat.val1.y)))</code></pre>
<pre><code class="hljs">## Warning in roc.default(predictor = fit.pred1, response = dat.val1.y, levels =
## (levels(dat.val1.y))): Deprecated use a matrix as predictor. Unexpected results
## may be produced, please pass a numeric vector.</code></pre>
<pre><code class="hljs">## Setting direction: controls &lt; cases</code></pre>
<pre class="r"><code class="hljs">plot(test.roc,print.thres=<span class="hljs-string">"best"</span>,ylim=c(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>))
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC-test = "</span>, round(auc.val1[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-22-4.png" width="672"></p>
<pre class="r"><code class="hljs">threshold=<span class="hljs-number">0.5</span>
log.predclass&lt;-ifelse(fit.pred1&gt;threshold,<span class="hljs-string">"&gt;50K"</span>,<span class="hljs-string">"&lt;=50K"</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(log.predclass,dat.val1.y)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction &lt;=50K &gt;50K
##      &lt;=50K  4250  672
##      &gt;50K    275  835
##                                           
##                Accuracy : 0.843           
##                  95% CI : (0.8336, 0.8521)
##     No Information Rate : 0.7502          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5408          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9392          
##             Specificity : 0.5541          
##          Pos Pred Value : 0.8635          
##          Neg Pred Value : 0.7523          
##              Prevalence : 0.7502          
##          Detection Rate : 0.7046          
##    Detection Prevalence : 0.8160          
##       Balanced Accuracy : 0.7467          
##                                           
##        'Positive' Class : &lt;=50K           
## </code></pre>
<p>Re-run Complex model without CV</p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Training set</span>
complex.train &lt;- train_na_as_cat %&gt;% select(features.complex,<span class="hljs-string">"income"</span>)
complex.train$income &lt;- as.factor(complex.train$income)

<span class="hljs-comment">#Run Model</span>
complex.model1 &lt;- glm(income ~ .,family=<span class="hljs-string">"binomial"</span>,data=complex.train)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Setup Test set</span>
complex.test &lt;- test_na_as_cat %&gt;% select(features.complex,<span class="hljs-string">"income"</span>)
complex.test$income &lt;- as.factor(complex.test$income)

<span class="hljs-comment">#Make Predictions and check performance</span>
predprobs&lt;-predict(complex.model1,complex.test,type=<span class="hljs-string">"response"</span>)
complex.roc&lt;-roc(response=complex.test$income,predictor=predprobs,levels=c(<span class="hljs-string">"&lt;=50K"</span>,<span class="hljs-string">"&gt;50K"</span>))</code></pre>
<pre><code class="hljs">## Setting direction: controls &lt; cases</code></pre>
<pre class="r"><code class="hljs">plot(complex.roc,print.thres=<span class="hljs-string">"best"</span>, main=<span class="hljs-string">"Complex Logistic Regression"</span>) <span class="hljs-comment">#This graph is nice because the x axis is plotted in terms of specificity rather than FPR</span>
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC-test = "</span>, round(auc(complex.roc),<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-23-1.png" width="672"></p>
<pre class="r"><code class="hljs">auc(complex.roc)</code></pre>
<pre><code class="hljs">## Area under the curve: 0.9016</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#AUC=0.9016</span>

threshold=<span class="hljs-number">0.211</span>
log.predclass&lt;-ifelse(predprobs&gt;threshold,<span class="hljs-string">"&gt;50K"</span>,<span class="hljs-string">"&lt;=50K"</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(log.predclass,complex.test$income)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction &lt;=50K &gt;50K
##      &lt;=50K  3792  215
##      &gt;50K   1129 1376
##                                           
##                Accuracy : 0.7936          
##                  95% CI : (0.7836, 0.8034)
##     No Information Rate : 0.7557          
##     P-Value [Acc &gt; NIR] : 2.217e-13       
##                                           
##                   Kappa : 0.532           
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.7706          
##             Specificity : 0.8649          
##          Pos Pred Value : 0.9463          
##          Neg Pred Value : 0.5493          
##              Prevalence : 0.7557          
##          Detection Rate : 0.5823          
##    Detection Prevalence : 0.6153          
##       Balanced Accuracy : 0.8177          
##                                           
##        'Positive' Class : &lt;=50K           
## </code></pre>
<p>Re-run Complex feature logistic regression including all possible interaction terms to look for significant ones</p>
<pre class="r"><code class="hljs">interaction_check_set &lt;- train_na_rm %&gt;% select(income,features.complex)
interaction_check_set$income.binary&lt;-<span class="hljs-number">0</span>
<span class="hljs-comment">#interaction_check_set$income.binary[interaction_check_set$income==" &gt;50K"] &lt;- 1</span>
interaction_check_set$income.binary[interaction_check_set$income==<span class="hljs-string">"&gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
interaction_check_set$income.binary &lt;- as.factor(interaction_check_set$income.binary)
interaction_check_set &lt;- interaction_check_set %&gt;% select(-income)

model &lt;- glm(income.binary ~.*.,family=binomial(link=<span class="hljs-string">'logit'</span>),data=interaction_check_set)</code></pre>
<pre><code class="hljs">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
<pre class="r"><code class="hljs">summary(model)</code></pre>
<pre><code class="hljs">## 
## Call:
## glm(formula = income.binary ~ . * ., family = binomial(link = "logit"), 
##     data = interaction_check_set)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -4.2315  -0.5073  -0.1462  -0.0002   3.7494  
## 
## Coefficients: (2 not defined because of singularities)
##                                                            Estimate Std. Error
## (Intercept)                                              -3.542e+01  2.137e+01
## age                                                       1.730e+00  1.439e+00
## education_num                                             2.116e+00  2.687e+00
## raceAsian-Pac-Islander                                    2.729e+00  1.425e+01
## raceBlack                                                -1.370e+01  1.423e+01
## raceOther                                                -2.681e+01  2.540e+01
## raceWhite                                                -6.305e+00  1.371e+01
## sexMale                                                  -2.086e+00  2.567e+00
## capital_gain                                             -2.362e-04  3.470e-04
## capital_loss                                              1.772e-03  2.017e-03
## hours_per_week                                            5.774e-01  3.886e-01
## marriage_statusPreviously-Married                         2.030e+00  3.276e+00
## marriage_statusSingle                                    -3.635e+00  3.026e+00
## collarOther                                              -1.694e+01  3.723e+02
## collarWhite                                              -6.304e+00  2.592e+00
## collarWhite-support                                      -6.730e+00  4.109e+00
## age2                                                     -6.265e-02  4.069e-02
## age3                                                      1.208e-03  6.505e-04
## education_num2                                           -8.631e-02  1.279e-01
## hours_per_week2                                          -4.390e-03  3.866e-03
## age:education_num                                        -2.556e-02  1.550e-01
## age:raceAsian-Pac-Islander                                1.256e-01  9.173e-01
## age:raceBlack                                             8.856e-01  9.098e-01
## age:raceOther                                             1.496e+00  1.573e+00
## age:raceWhite                                             5.032e-01  8.841e-01
## age:sexMale                                              -3.365e-02  1.428e-01
## age:capital_gain                                          3.037e-05  2.253e-05
## age:capital_loss                                          4.345e-05  1.005e-04
## age:hours_per_week                                       -1.714e-02  1.677e-02
## age:marriage_statusPreviously-Married                    -3.154e-01  1.872e-01
## age:marriage_statusSingle                                 5.893e-02  1.631e-01
## age:collarOther                                           3.409e-01  4.211e-01
## age:collarWhite                                           6.000e-01  1.572e-01
## age:collarWhite-support                                   4.761e-01  2.321e-01
## age:age2                                                         NA         NA
## age:age3                                                 -1.146e-05  6.241e-06
## age:education_num2                                        1.156e-03  7.289e-03
## age:hours_per_week2                                       8.591e-05  1.632e-04
## education_num:raceAsian-Pac-Islander                     -1.103e-01  7.501e-01
## education_num:raceBlack                                  -4.505e-01  7.490e-01
## education_num:raceOther                                   3.410e-02  9.175e-01
## education_num:raceWhite                                   2.105e-02  7.152e-01
## education_num:sexMale                                    -5.236e-03  2.083e-01
## education_num:capital_gain                                3.766e-05  1.519e-05
## education_num:capital_loss                                3.858e-05  1.254e-04
## education_num:hours_per_week                             -2.638e-02  2.438e-02
## education_num:marriage_statusPreviously-Married          -1.904e-01  2.059e-01
## education_num:marriage_statusSingle                      -8.460e-01  2.287e-01
## education_num:collarOther                                -3.224e-01  5.838e-01
## education_num:collarWhite                                -3.410e-01  1.647e-01
## education_num:collarWhite-support                         1.351e-01  3.630e-01
## education_num:age2                                        3.191e-04  3.104e-03
## education_num:age3                                       -1.898e-06  2.002e-05
## education_num:education_num2                              7.734e-04  8.714e-04
## education_num:hours_per_week2                             2.369e-04  2.206e-04
## raceAsian-Pac-Islander:sexMale                           -1.103e-01  7.242e-01
## raceBlack:sexMale                                         5.156e-01  7.007e-01
## raceOther:sexMale                                         2.016e+00  2.387e+00
## raceWhite:sexMale                                         3.043e-01  6.639e-01
## raceAsian-Pac-Islander:capital_gain                       9.217e-06  1.242e-04
## raceBlack:capital_gain                                    1.597e-04  1.192e-04
## raceOther:capital_gain                                    4.482e-04  4.126e-04
## raceWhite:capital_gain                                    1.624e-05  1.068e-04
## raceAsian-Pac-Islander:capital_loss                      -1.339e-03  1.130e-03
## raceBlack:capital_loss                                   -1.147e-03  1.128e-03
## raceOther:capital_loss                                   -2.163e-03  1.486e-03
## raceWhite:capital_loss                                   -1.444e-03  1.107e-03
## raceAsian-Pac-Islander:hours_per_week                    -9.532e-02  2.518e-01
## raceBlack:hours_per_week                                  3.691e-02  2.542e-01
## raceOther:hours_per_week                                  9.823e-02  4.899e-01
## raceWhite:hours_per_week                                 -6.502e-02  2.490e-01
## raceAsian-Pac-Islander:marriage_statusPreviously-Married -4.040e-01  7.923e-01
## raceBlack:marriage_statusPreviously-Married              -1.613e+00  7.468e-01
## raceOther:marriage_statusPreviously-Married              -1.148e+01  1.122e+02
## raceWhite:marriage_statusPreviously-Married              -1.016e+00  6.973e-01
## raceAsian-Pac-Islander:marriage_statusSingle             -3.112e-01  9.875e-01
## raceBlack:marriage_statusSingle                          -1.292e+00  9.702e-01
## raceOther:marriage_statusSingle                          -3.809e-01  1.660e+00
## raceWhite:marriage_statusSingle                          -5.194e-01  9.146e-01
## raceAsian-Pac-Islander:collarOther                        1.447e+01  3.722e+02
## raceBlack:collarOther                                     1.462e+01  3.722e+02
## raceOther:collarOther                                     6.395e+00  5.687e+02
## raceWhite:collarOther                                     1.479e+01  3.722e+02
## raceAsian-Pac-Islander:collarWhite                       -1.611e-01  6.990e-01
## raceBlack:collarWhite                                     2.501e-01  6.827e-01
## raceOther:collarWhite                                    -7.061e-02  1.374e+00
## raceWhite:collarWhite                                     4.974e-02  6.389e-01
## raceAsian-Pac-Islander:collarWhite-support               -8.643e-01  9.931e-01
## raceBlack:collarWhite-support                             1.294e-02  9.561e-01
## raceOther:collarWhite-support                             1.008e+00  2.387e+00
## raceWhite:collarWhite-support                            -3.229e-01  9.103e-01
## raceAsian-Pac-Islander:age2                              -2.474e-03  2.262e-02
## raceBlack:age2                                           -1.723e-02  2.244e-02
## raceOther:age2                                           -2.937e-02  3.570e-02
## raceWhite:age2                                           -9.383e-03  2.201e-02
## raceAsian-Pac-Islander:age3                               1.793e-05  1.801e-04
## raceBlack:age3                                            1.079e-04  1.789e-04
## raceOther:age3                                            1.888e-04  2.627e-04
## raceWhite:age3                                            5.711e-05  1.767e-04
## raceAsian-Pac-Islander:education_num2                    -3.354e-03  3.497e-02
## raceBlack:education_num2                                  2.150e-02  3.509e-02
## raceOther:education_num2                                 -1.121e-02  4.643e-02
## raceWhite:education_num2                                 -4.808e-03  3.332e-02
## raceAsian-Pac-Islander:hours_per_week2                    9.559e-04  2.657e-03
## raceBlack:hours_per_week2                                 1.412e-04  2.670e-03
## raceOther:hours_per_week2                                -1.201e-03  5.416e-03
## raceWhite:hours_per_week2                                 8.020e-04  2.631e-03
## sexMale:capital_gain                                     -1.161e-05  3.214e-05
## sexMale:capital_loss                                      9.250e-05  1.359e-04
## sexMale:hours_per_week                                    7.233e-02  2.228e-02
## sexMale:marriage_statusPreviously-Married                 1.222e+00  1.639e-01
## sexMale:marriage_statusSingle                             1.096e+00  1.904e-01
## sexMale:collarOther                                       6.230e-02  3.578e-01
## sexMale:collarWhite                                      -3.534e-01  1.878e-01
## sexMale:collarWhite-support                              -4.455e-01  2.221e-01
## sexMale:age2                                              1.024e-03  3.043e-03
## sexMale:age3                                             -6.110e-06  2.080e-05
## sexMale:education_num2                                   -1.364e-03  9.398e-03
## sexMale:hours_per_week2                                  -5.584e-04  2.303e-04
## capital_gain:capital_loss                                        NA         NA
## capital_gain:hours_per_week                              -9.564e-07  3.042e-06
## capital_gain:marriage_statusPreviously-Married            4.675e-05  3.181e-05
## capital_gain:marriage_statusSingle                        1.291e-04  3.772e-05
## capital_gain:collarOther                                 -5.822e-05  7.383e-05
## capital_gain:collarWhite                                 -5.036e-05  2.830e-05
## capital_gain:collarWhite-support                         -1.198e-05  4.604e-05
## capital_gain:age2                                        -6.481e-07  4.642e-07
## capital_gain:age3                                         4.104e-09  3.057e-09
## capital_gain:education_num2                              -1.927e-06  7.816e-07
## capital_gain:hours_per_week2                             -4.345e-09  3.050e-08
## capital_loss:hours_per_week                              -3.130e-05  1.542e-05
## capital_loss:marriage_statusPreviously-Married           -1.859e-04  1.371e-04
## capital_loss:marriage_statusSingle                       -3.071e-06  1.465e-04
## capital_loss:collarOther                                  2.284e-04  2.752e-04
## capital_loss:collarWhite                                  7.764e-05  1.117e-04
## capital_loss:collarWhite-support                         -2.414e-04  1.899e-04
## capital_loss:age2                                        -8.554e-07  2.064e-06
## capital_loss:age3                                         4.960e-09  1.352e-08
## capital_loss:education_num2                              -9.533e-07  5.754e-06
## capital_loss:hours_per_week2                              3.097e-07  1.510e-07
## hours_per_week:marriage_statusPreviously-Married          5.416e-02  2.785e-02
## hours_per_week:marriage_statusSingle                      1.208e-01  4.338e-02
## hours_per_week:collarOther                               -2.686e-02  4.549e-02
## hours_per_week:collarWhite                                1.280e-03  2.050e-02
## hours_per_week:collarWhite-support                        1.626e-03  4.011e-02
## hours_per_week:age2                                       3.620e-04  3.267e-04
## hours_per_week:age3                                      -2.661e-06  2.034e-06
## hours_per_week:education_num2                             1.117e-03  1.089e-03
## hours_per_week:hours_per_week2                            5.909e-06  3.212e-06
## marriage_statusPreviously-Married:collarOther             5.409e-03  3.816e-01
## marriage_statusSingle:collarOther                        -3.751e-01  4.643e-01
## marriage_statusPreviously-Married:collarWhite             8.901e-02  1.790e-01
## marriage_statusSingle:collarWhite                         1.820e-01  2.397e-01
## marriage_statusPreviously-Married:collarWhite-support    -7.760e-01  2.894e-01
## marriage_statusSingle:collarWhite-support                -2.920e-01  3.371e-01
## marriage_statusPreviously-Married:age2                    5.864e-03  3.845e-03
## marriage_statusSingle:age2                               -4.688e-04  3.508e-03
## marriage_statusPreviously-Married:age3                   -2.976e-05  2.546e-05
## marriage_statusSingle:age3                                9.454e-07  2.387e-05
## marriage_statusPreviously-Married:education_num2          8.509e-03  9.368e-03
## marriage_statusSingle:education_num2                      3.899e-02  1.020e-02
## marriage_statusPreviously-Married:hours_per_week2        -2.325e-04  2.637e-04
## marriage_statusSingle:hours_per_week2                    -9.000e-04  4.067e-04
## collarOther:age2                                         -7.301e-03  9.709e-03
## collarWhite:age2                                         -1.306e-02  3.468e-03
## collarWhite-support:age2                                 -1.027e-02  5.120e-03
## collarOther:age3                                          5.271e-05  7.210e-05
## collarWhite:age3                                          9.165e-05  2.473e-05
## collarWhite-support:age3                                  7.128e-05  3.648e-05
## collarOther:education_num2                                1.585e-02  2.669e-02
## collarWhite:education_num2                                1.900e-02  8.014e-03
## collarWhite-support:education_num2                       -6.307e-03  1.694e-02
## collarOther:hours_per_week2                               3.363e-04  4.454e-04
## collarWhite:hours_per_week2                              -1.038e-05  1.922e-04
## collarWhite-support:hours_per_week2                       1.223e-04  4.545e-04
## age2:age3                                                 4.134e-08  2.392e-08
## age2:education_num2                                      -1.673e-05  1.464e-04
## age2:hours_per_week2                                     -2.254e-06  3.216e-06
## age3:education_num2                                       9.638e-08  9.469e-07
## age3:hours_per_week2                                      1.936e-08  2.033e-08
## education_num2:hours_per_week2                           -1.124e-05  9.885e-06
##                                                          z value Pr(&gt;|z|)    
## (Intercept)                                               -1.658 0.097407 .  
## age                                                        1.203 0.229073    
## education_num                                              0.787 0.431029    
## raceAsian-Pac-Islander                                     0.192 0.848091    
## raceBlack                                                 -0.963 0.335679    
## raceOther                                                 -1.056 0.291092    
## raceWhite                                                 -0.460 0.645559    
## sexMale                                                   -0.813 0.416428    
## capital_gain                                              -0.681 0.496007    
## capital_loss                                               0.878 0.379705    
## hours_per_week                                             1.486 0.137377    
## marriage_statusPreviously-Married                          0.620 0.535414    
## marriage_statusSingle                                     -1.201 0.229559    
## collarOther                                               -0.045 0.963713    
## collarWhite                                               -2.432 0.015018 *  
## collarWhite-support                                       -1.638 0.101441    
## age2                                                      -1.540 0.123613    
## age3                                                       1.856 0.063393 .  
## education_num2                                            -0.675 0.499635    
## hours_per_week2                                           -1.135 0.256166    
## age:education_num                                         -0.165 0.868972    
## age:raceAsian-Pac-Islander                                 0.137 0.891076    
## age:raceBlack                                              0.973 0.330365    
## age:raceOther                                              0.951 0.341735    
## age:raceWhite                                              0.569 0.569255    
## age:sexMale                                               -0.236 0.813697    
## age:capital_gain                                           1.348 0.177527    
## age:capital_loss                                           0.433 0.665372    
## age:hours_per_week                                        -1.022 0.306898    
## age:marriage_statusPreviously-Married                     -1.684 0.092103 .  
## age:marriage_statusSingle                                  0.361 0.717847    
## age:collarOther                                            0.810 0.418151    
## age:collarWhite                                            3.817 0.000135 ***
## age:collarWhite-support                                    2.051 0.040271 *  
## age:age2                                                      NA       NA    
## age:age3                                                  -1.835 0.066438 .  
## age:education_num2                                         0.159 0.873930    
## age:hours_per_week2                                        0.526 0.598549    
## education_num:raceAsian-Pac-Islander                      -0.147 0.883051    
## education_num:raceBlack                                   -0.601 0.547529    
## education_num:raceOther                                    0.037 0.970348    
## education_num:raceWhite                                    0.029 0.976520    
## education_num:sexMale                                     -0.025 0.979942    
## education_num:capital_gain                                 2.479 0.013179 *  
## education_num:capital_loss                                 0.308 0.758345    
## education_num:hours_per_week                              -1.082 0.279150    
## education_num:marriage_statusPreviously-Married           -0.925 0.355206    
## education_num:marriage_statusSingle                       -3.700 0.000216 ***
## education_num:collarOther                                 -0.552 0.580793    
## education_num:collarWhite                                 -2.071 0.038398 *  
## education_num:collarWhite-support                          0.372 0.709755    
## education_num:age2                                         0.103 0.918132    
## education_num:age3                                        -0.095 0.924447    
## education_num:education_num2                               0.888 0.374786    
## education_num:hours_per_week2                              1.074 0.282805    
## raceAsian-Pac-Islander:sexMale                            -0.152 0.878974    
## raceBlack:sexMale                                          0.736 0.461850    
## raceOther:sexMale                                          0.845 0.398320    
## raceWhite:sexMale                                          0.458 0.646767    
## raceAsian-Pac-Islander:capital_gain                        0.074 0.940858    
## raceBlack:capital_gain                                     1.339 0.180448    
## raceOther:capital_gain                                     1.086 0.277328    
## raceWhite:capital_gain                                     0.152 0.879159    
## raceAsian-Pac-Islander:capital_loss                       -1.185 0.236047    
## raceBlack:capital_loss                                    -1.017 0.309140    
## raceOther:capital_loss                                    -1.456 0.145509    
## raceWhite:capital_loss                                    -1.304 0.192204    
## raceAsian-Pac-Islander:hours_per_week                     -0.379 0.705026    
## raceBlack:hours_per_week                                   0.145 0.884519    
## raceOther:hours_per_week                                   0.200 0.841096    
## raceWhite:hours_per_week                                  -0.261 0.793950    
## raceAsian-Pac-Islander:marriage_statusPreviously-Married  -0.510 0.610149    
## raceBlack:marriage_statusPreviously-Married               -2.159 0.030817 *  
## raceOther:marriage_statusPreviously-Married               -0.102 0.918525    
## raceWhite:marriage_statusPreviously-Married               -1.457 0.144997    
## raceAsian-Pac-Islander:marriage_statusSingle              -0.315 0.752674    
## raceBlack:marriage_statusSingle                           -1.331 0.183126    
## raceOther:marriage_statusSingle                           -0.229 0.818540    
## raceWhite:marriage_statusSingle                           -0.568 0.570096    
## raceAsian-Pac-Islander:collarOther                         0.039 0.968985    
## raceBlack:collarOther                                      0.039 0.968671    
## raceOther:collarOther                                      0.011 0.991028    
## raceWhite:collarOther                                      0.040 0.968304    
## raceAsian-Pac-Islander:collarWhite                        -0.231 0.817686    
## raceBlack:collarWhite                                      0.366 0.714128    
## raceOther:collarWhite                                     -0.051 0.959010    
## raceWhite:collarWhite                                      0.078 0.937948    
## raceAsian-Pac-Islander:collarWhite-support                -0.870 0.384126    
## raceBlack:collarWhite-support                              0.014 0.989204    
## raceOther:collarWhite-support                              0.422 0.672968    
## raceWhite:collarWhite-support                             -0.355 0.722819    
## raceAsian-Pac-Islander:age2                               -0.109 0.912902    
## raceBlack:age2                                            -0.767 0.442811    
## raceOther:age2                                            -0.823 0.410733    
## raceWhite:age2                                            -0.426 0.669950    
## raceAsian-Pac-Islander:age3                                0.100 0.920712    
## raceBlack:age3                                             0.603 0.546358    
## raceOther:age3                                             0.719 0.472334    
## raceWhite:age3                                             0.323 0.746500    
## raceAsian-Pac-Islander:education_num2                     -0.096 0.923577    
## raceBlack:education_num2                                   0.613 0.540032    
## raceOther:education_num2                                  -0.242 0.809155    
## raceWhite:education_num2                                  -0.144 0.885289    
## raceAsian-Pac-Islander:hours_per_week2                     0.360 0.719062    
## raceBlack:hours_per_week2                                  0.053 0.957812    
## raceOther:hours_per_week2                                 -0.222 0.824457    
## raceWhite:hours_per_week2                                  0.305 0.760490    
## sexMale:capital_gain                                      -0.361 0.718075    
## sexMale:capital_loss                                       0.681 0.496047    
## sexMale:hours_per_week                                     3.247 0.001166 ** 
## sexMale:marriage_statusPreviously-Married                  7.454 9.05e-14 ***
## sexMale:marriage_statusSingle                              5.758 8.52e-09 ***
## sexMale:collarOther                                        0.174 0.861750    
## sexMale:collarWhite                                       -1.882 0.059809 .  
## sexMale:collarWhite-support                               -2.006 0.044877 *  
## sexMale:age2                                               0.337 0.736413    
## sexMale:age3                                              -0.294 0.768950    
## sexMale:education_num2                                    -0.145 0.884566    
## sexMale:hours_per_week2                                   -2.425 0.015301 *  
## capital_gain:capital_loss                                     NA       NA    
## capital_gain:hours_per_week                               -0.314 0.753234    
## capital_gain:marriage_statusPreviously-Married             1.470 0.141636    
## capital_gain:marriage_statusSingle                         3.423 0.000620 ***
## capital_gain:collarOther                                  -0.789 0.430371    
## capital_gain:collarWhite                                  -1.779 0.075217 .  
## capital_gain:collarWhite-support                          -0.260 0.794788    
## capital_gain:age2                                         -1.396 0.162649    
## capital_gain:age3                                          1.342 0.179465    
## capital_gain:education_num2                               -2.466 0.013673 *  
## capital_gain:hours_per_week2                              -0.142 0.886722    
## capital_loss:hours_per_week                               -2.030 0.042339 *  
## capital_loss:marriage_statusPreviously-Married            -1.356 0.174972    
## capital_loss:marriage_statusSingle                        -0.021 0.983271    
## capital_loss:collarOther                                   0.830 0.406641    
## capital_loss:collarWhite                                   0.695 0.486817    
## capital_loss:collarWhite-support                          -1.271 0.203716    
## capital_loss:age2                                         -0.414 0.678562    
## capital_loss:age3                                          0.367 0.713670    
## capital_loss:education_num2                               -0.166 0.868398    
## capital_loss:hours_per_week2                               2.052 0.040207 *  
## hours_per_week:marriage_statusPreviously-Married           1.945 0.051772 .  
## hours_per_week:marriage_statusSingle                       2.784 0.005366 ** 
## hours_per_week:collarOther                                -0.590 0.554935    
## hours_per_week:collarWhite                                 0.062 0.950217    
## hours_per_week:collarWhite-support                         0.041 0.967672    
## hours_per_week:age2                                        1.108 0.267883    
## hours_per_week:age3                                       -1.308 0.190891    
## hours_per_week:education_num2                              1.026 0.304900    
## hours_per_week:hours_per_week2                             1.840 0.065801 .  
## marriage_statusPreviously-Married:collarOther              0.014 0.988692    
## marriage_statusSingle:collarOther                         -0.808 0.419147    
## marriage_statusPreviously-Married:collarWhite              0.497 0.618992    
## marriage_statusSingle:collarWhite                          0.759 0.447682    
## marriage_statusPreviously-Married:collarWhite-support     -2.681 0.007334 ** 
## marriage_statusSingle:collarWhite-support                 -0.866 0.386333    
## marriage_statusPreviously-Married:age2                     1.525 0.127210    
## marriage_statusSingle:age2                                -0.134 0.893695    
## marriage_statusPreviously-Married:age3                    -1.168 0.242617    
## marriage_statusSingle:age3                                 0.040 0.968408    
## marriage_statusPreviously-Married:education_num2           0.908 0.363719    
## marriage_statusSingle:education_num2                       3.823 0.000132 ***
## marriage_statusPreviously-Married:hours_per_week2         -0.882 0.377934    
## marriage_statusSingle:hours_per_week2                     -2.213 0.026890 *  
## collarOther:age2                                          -0.752 0.452086    
## collarWhite:age2                                          -3.766 0.000166 ***
## collarWhite-support:age2                                  -2.005 0.044969 *  
## collarOther:age3                                           0.731 0.464767    
## collarWhite:age3                                           3.707 0.000210 ***
## collarWhite-support:age3                                   1.954 0.050738 .  
## collarOther:education_num2                                 0.594 0.552599    
## collarWhite:education_num2                                 2.370 0.017773 *  
## collarWhite-support:education_num2                        -0.372 0.709739    
## collarOther:hours_per_week2                                0.755 0.450197    
## collarWhite:hours_per_week2                               -0.054 0.956922    
## collarWhite-support:hours_per_week2                        0.269 0.787780    
## age2:age3                                                  1.728 0.083905 .  
## age2:education_num2                                       -0.114 0.909045    
## age2:hours_per_week2                                      -0.701 0.483473    
## age3:education_num2                                        0.102 0.918931    
## age3:hours_per_week2                                       0.952 0.341014    
## education_num2:hours_per_week2                            -1.138 0.255309    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 27069  on 24129  degrees of freedom
## Residual deviance: 15156  on 23951  degrees of freedom
## AIC: 15514
## 
## Number of Fisher Scoring iterations: 13</code></pre>
<pre class="r"><code class="hljs">interaction_test_set &lt;- test_na_rm %&gt;% select(income,features.complex)
interaction_test_set$income.binary&lt;-<span class="hljs-number">0</span>
<span class="hljs-comment">#interaction_test_set$income.binary[interaction_test_set$income==" &gt;50K"] &lt;- 1</span>
interaction_test_set$income.binary[interaction_test_set$income==<span class="hljs-string">"&gt;50K"</span>] &lt;- <span class="hljs-number">1</span>
interaction_test_set$income.binary &lt;- as.factor(interaction_test_set$income.binary)
interaction_test_set &lt;- interaction_test_set %&gt;% select(-income)

interaction_test_set$IncomeProbability &lt;- predict(model, newdata = interaction_test_set, type = <span class="hljs-string">"response"</span>)</code></pre>
<pre><code class="hljs">## Warning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :
## prediction from a rank-deficient fit may be misleading</code></pre>
<pre class="r"><code class="hljs">interaction_test_set[<span class="hljs-string">"Prediction"</span>] = <span class="hljs-number">0</span>
interaction_test_set$Prediction[interaction_test_set$IncomeProbability&gt;<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span>
interaction_test_set$Prediction=as.factor(interaction_test_set$Prediction)
interaction_test_set$income=as.factor(interaction_test_set$income)

confusionMatrix(interaction_test_set$Prediction, as.factor(interaction_test_set$income.binary))</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 4212  574
##          1  313  933
##                                           
##                Accuracy : 0.853           
##                  95% CI : (0.8438, 0.8618)
##     No Information Rate : 0.7502          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5836          
##                                           
##  Mcnemar's Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.9308          
##             Specificity : 0.6191          
##          Pos Pred Value : 0.8801          
##          Neg Pred Value : 0.7488          
##              Prevalence : 0.7502          
##          Detection Rate : 0.6983          
##    Detection Prevalence : 0.7934          
##       Balanced Accuracy : 0.7750          
##                                           
##        'Positive' Class : 0               
## </code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#There are multiple interaction terms that show significance but the model dropped original variables in lieu of interactions, need to explore these interactions individually to see what relationship is</span></code></pre>
<p>Plot potentially significant Interactions for futher EDA, candidates are: age x collar education_num x marriage_status sex x marriage_status (Should relationship be added back to model since this is similar?) capital_gain x marriage_status hours_per_week x marriage_status</p>
<pre class="r"><code class="hljs">train_na_rm %&gt;% ggplot(aes(x=collar,y=age,color=income)) + 
  geom_boxplot()+ labs(title= <span class="hljs-string">"Age x Collar Interaction"</span> , x = <span class="hljs-string">"Collar Group"</span>, y= <span class="hljs-string">"Age"</span>) +
  theme(axis.text.x=element_text(angle=<span class="hljs-number">45</span>,hjust=<span class="hljs-number">1</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-25-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Note Age is higher for &gt;50K at all levels, may not be true interaction</span>

train_na_rm %&gt;% ggplot(aes(x=marriage_status,y=education_num,color=income)) + 
  geom_boxplot()+ labs(title= <span class="hljs-string">"Education x Marriage Interaction"</span> , x = <span class="hljs-string">"Marriage Group"</span>, y= <span class="hljs-string">"Education"</span>) +
  theme(axis.text.x=element_text(angle=<span class="hljs-number">0</span>,hjust=<span class="hljs-number">1</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-25-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Note Education is higher for &gt;50K at all levels, may not be true interaction</span>

train_na_rm %&gt;% ggplot(aes(x=marriage_status,y=hours_per_week,color=income)) + 
  geom_boxplot()+ labs(title= <span class="hljs-string">"Hours/Week x Marriage Interaction"</span> , x = <span class="hljs-string">"Marriage Group"</span>, y= <span class="hljs-string">"Hours per Week"</span>) +
  theme(axis.text.x=element_text(angle=<span class="hljs-number">0</span>,hjust=<span class="hljs-number">1</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-25-3.png" width="672"></p>
<pre class="r"><code class="hljs">train_na_rm %&gt;% ggplot(aes(x=marriage_status,y=capital_gain,color=income)) + 
  geom_boxplot()+ labs(title= <span class="hljs-string">"Capital Gain x Marriage Interaction"</span> , x = <span class="hljs-string">"Marriage Group"</span>, y= <span class="hljs-string">"Capital Gain"</span>) +
  theme(axis.text.x=element_text(angle=<span class="hljs-number">0</span>,hjust=<span class="hljs-number">1</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-25-4.png" width="672"></p>
<p>LDA/QDA</p>
<p>Need to check for multivariate normality for assumptions Need to check covariance matrix for assumptions</p>
<p>Since response is imbalanced, re-run with priors to see if improvements</p>
<pre class="r"><code class="hljs">continuous.predictors = c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>)
quadratic.predictors = c(<span class="hljs-string">"age2"</span>,<span class="hljs-string">"age3"</span>,<span class="hljs-string">"education_num2"</span>,<span class="hljs-string">"hours_per_week2"</span>)

<span class="hljs-comment">#Test for multivariate normality</span>
multivariate_sample &lt;- train_na_as_cat %&gt;% select(continuous.predictors)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(continuous.predictors)` instead of `continuous.predictors` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">multivariate_sample &lt;- multivariate_sample[sample(<span class="hljs-number">1</span>:nrow(multivariate_sample), <span class="hljs-number">1000</span>), ]

<span class="hljs-comment">#install.packages("mvShapiroTest")</span>
<span class="hljs-keyword">library</span>(mvShapiroTest)
mvShapiro.Test(as.matrix(multivariate_sample))</code></pre>
<pre><code class="hljs">## 
##  Generalized Shapiro-Wilk test for Multivariate Normality by
##  Villasenor-Alva and Gonzalez-Estrada
## 
## data:  as.matrix(multivariate_sample)
## MVW = 0.63189, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Test for homogeneity of covariance matrices</span>
<span class="hljs-comment">#install.packages("heplots")</span>
<span class="hljs-keyword">library</span>(heplots)</code></pre>
<pre><code class="hljs">## Loading required package: car</code></pre>
<pre><code class="hljs">## Loading required package: carData</code></pre>
<pre><code class="hljs">## 
## Attaching package: 'car'</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:purrr':
## 
##     some</code></pre>
<pre><code class="hljs">## The following object is masked from 'package:dplyr':
## 
##     recode</code></pre>
<pre class="r"><code class="hljs">boxm_test &lt;- train_na_as_cat %&gt;% select(continuous.predictors,income)
<span class="hljs-comment">#boxm_test$income &lt;- as.numeric(as.factor(boxm_test$income))</span>
boxM &lt;- boxM(boxm_test[, c(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>)], boxm_test$income)
boxM</code></pre>
<pre><code class="hljs">## 
##  Box's M-test for Homogeneity of Covariance Matrices
## 
## data:  boxm_test[, c(1:5)]
## Chi-Sq (approx.) = 76481, df = 15, p-value &lt; 2.2e-16</code></pre>
<pre class="r"><code class="hljs">plot(boxM)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#BoxM null rejected, covariance not same across each level, use QDA instead of LDA</span>

standardize = preProcess(train_na_as_cat, method = c(<span class="hljs-string">"center"</span>, <span class="hljs-string">"scale"</span>))
standardized.train_na_as_cat = predict(standardize, train_na_as_cat)
standardized.test_na_as_cat = predict(standardize, test_na_as_cat)

multivariate_sample2 &lt;- train_na_as_cat %&gt;% select(age)
multivariate_sample2 &lt;- multivariate_sample2[sample(<span class="hljs-number">1</span>:nrow(multivariate_sample2), <span class="hljs-number">1000</span>), ]
mvShapiro.Test(as.matrix(as.matrix(multivariate_sample2)))</code></pre>
<pre><code class="hljs">## 
##  Generalized Shapiro-Wilk test for Multivariate Normality by
##  Villasenor-Alva and Gonzalez-Estrada
## 
## data:  as.matrix(as.matrix(multivariate_sample2))
## MVW = 0.96504, p-value = 9.275e-15</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Training Set</span>
dat.train.x &lt;- standardized.train_na_as_cat %&gt;% select(continuous.predictors,<span class="hljs-string">"income"</span>)
dat.train.x$income &lt;- as.factor(dat.train.x$income)
dat.train.y &lt;- standardized.train_na_as_cat$income
dat.train.y &lt;- as.factor(as.character(dat.train.y))

<span class="hljs-comment">#Check distributions after standardizing</span>
hist.data.frame(dat.train.x, nclass=<span class="hljs-number">20</span>)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-2.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Boxplot capital gain/loss to check for outliers</span>
boxplot(dat.train.x$capital_gain)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-3.png" width="672"></p>
<pre class="r"><code class="hljs">boxplot(dat.train.x$capital_loss)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-4.png" width="672"></p>
<pre class="r"><code class="hljs">fit.lda &lt;- qda(income ~ ., data = dat.train.x, prior = c(<span class="hljs-number">0.76</span>,<span class="hljs-number">0.24</span>))
pred.lda &lt;- predict(fit.lda, newdata = dat.train.x)

preds &lt;- pred.lda$posterior
preds &lt;- as.data.frame(preds)

pred &lt;- prediction(preds[,<span class="hljs-number">2</span>],dat.train.y)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-5.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Valid set I</span>
dat.val1.x &lt;- standardized.test_na_as_cat %&gt;% select(continuous.predictors)

dat.val1.y &lt;- standardized.test_na_as_cat$income
dat.val1.y &lt;- as.factor(as.character(dat.val1.y))


pred.lda1 &lt;- predict(fit.lda, newdata = dat.val1.x)

preds1 &lt;- pred.lda1$posterior
preds1 &lt;- as.data.frame(preds1)

pred1 &lt;- prediction(preds1[,<span class="hljs-number">2</span>],dat.val1.y)
roc.perf = performance(pred1, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred1, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-6.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Re-run with priors info</span>
summary(dat.train.y)</code></pre>
<pre><code class="hljs">## &lt;=50K  &gt;50K 
## 19799  6250</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment"># &lt;=50K = 19799 / 26049 = 0.76</span>
<span class="hljs-comment"># &gt;50K = 6250 / 26049 = 0.24</span>

<span class="hljs-comment">#Start here to do LDA ROC plot with best</span>
qda.roc &lt;- roc(predictor = preds1[,<span class="hljs-number">1</span>], response = dat.val1.y, levels = (levels(dat.val1.y)))</code></pre>
<pre><code class="hljs">## Setting direction: controls &gt; cases</code></pre>
<pre class="r"><code class="hljs">plot(qda.roc,print.thres=<span class="hljs-string">"best"</span>,ylim=c(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>),main=<span class="hljs-string">"QDA"</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC-test = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-26-7.png" width="672"></p>
<pre class="r"><code class="hljs">threshold=<span class="hljs-number">0.988</span>
log.predclass&lt;-ifelse(preds1[,<span class="hljs-number">1</span>]&gt;threshold,<span class="hljs-string">"&lt;=50K"</span>,<span class="hljs-string">"&gt;50K"</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(log.predclass,dat.val1.y)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction &lt;=50K &gt;50K
##      &lt;=50K  3452  340
##      &gt;50K   1469 1251
##                                           
##                Accuracy : 0.7222          
##                  95% CI : (0.7112, 0.7331)
##     No Information Rate : 0.7557          
##     P-Value [Acc &gt; NIR] : 1               
##                                           
##                   Kappa : 0.3933          
##                                           
##  Mcnemar's Test P-Value : &lt;2e-16          
##                                           
##             Sensitivity : 0.7015          
##             Specificity : 0.7863          
##          Pos Pred Value : 0.9103          
##          Neg Pred Value : 0.4599          
##              Prevalence : 0.7557          
##          Detection Rate : 0.5301          
##    Detection Prevalence : 0.5823          
##       Balanced Accuracy : 0.7439          
##                                           
##        'Positive' Class : &lt;=50K           
## </code></pre>
<p>Random Forest</p>
<pre class="r"><code class="hljs">rf.predictors = c(<span class="hljs-string">"age"</span>,<span class="hljs-string">"workclass"</span>,<span class="hljs-string">"education_num"</span>,<span class="hljs-string">"marital_status"</span>,<span class="hljs-string">"occupation"</span>,<span class="hljs-string">"relationship"</span>,<span class="hljs-string">"race"</span>,<span class="hljs-string">"sex"</span>,<span class="hljs-string">"capital_gain"</span>,<span class="hljs-string">"capital_loss"</span>,<span class="hljs-string">"hours_per_week"</span>,<span class="hljs-string">"native_country"</span>)

<span class="hljs-comment">#One more time with a Random Forest</span>
<span class="hljs-comment">#I'm removing the fluff variables just to make coding easier.</span>
dat.train.rf &lt;- train_na_as_cat %&gt;% select(income, rf.predictors, native_country)</code></pre>
<pre><code class="hljs">## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(rf.predictors)` instead of `rf.predictors` to silence this message.
## ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<pre class="r"><code class="hljs">dat.train.rf &lt;- mutate_if(dat.train.rf, is.character, ~ as.factor(as.factor(.x)))
str(dat.train.rf)</code></pre>
<pre><code class="hljs">## 'data.frame':    26049 obs. of  13 variables:
##  $ income        : Factor w/ 2 levels "&lt;=50K","&gt;50K": 1 2 1 1 1 1 1 1 1 1 ...
##  $ age           : int  17 34 24 67 25 24 65 44 45 23 ...
##  $ workclass     : Factor w/ 9 levels "Federal-gov",..: 5 5 5 4 5 5 5 5 5 5 ...
##  $ education_num : int  7 9 10 9 8 13 5 10 9 9 ...
##  $ marital_status: Factor w/ 7 levels "Divorced","Married-AF-spouse",..: 5 3 5 1 5 5 7 3 5 3 ...
##  $ occupation    : Factor w/ 15 levels "Adm-clerical",..: 13 3 3 8 3 11 10 7 9 1 ...
##  $ relationship  : Factor w/ 6 levels "Husband","Not-in-family",..: 4 1 5 4 4 2 5 1 5 6 ...
##  $ race          : Factor w/ 5 levels "Amer-Indian-Eskimo",..: 5 5 1 5 5 5 3 5 3 5 ...
##  $ sex           : Factor w/ 2 levels "Female","Male": 1 2 2 2 2 2 1 2 1 1 ...
##  $ capital_gain  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  20 55 40 20 40 39 24 40 40 40 ...
##  $ native_country: Factor w/ 42 levels "Cambodia","Canada",..: 40 40 26 40 40 40 40 40 40 26 ...</code></pre>
<pre class="r"><code class="hljs">train.rf&lt;-randomForest(income~.,data=dat.train.rf,mtry=<span class="hljs-number">4</span>,ntree=<span class="hljs-number">500</span>,importance=<span class="hljs-literal">T</span>)
fit.pred&lt;-predict(train.rf,newdata=dat.train.rf,type=<span class="hljs-string">"prob"</span>)

pred &lt;- prediction(fit.pred[,<span class="hljs-number">2</span>], dat.train.rf$income)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-27-1.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Tune the mtry parameter, mtry=2 has lowest OOB</span>
mtry &lt;- tuneRF(dat.train.rf %&gt;% select(-income),dat.train.rf$income, ntreeTry=<span class="hljs-number">500</span>,
               stepFactor=<span class="hljs-number">1.5</span>,improve=<span class="hljs-number">0.01</span>, trace=<span class="hljs-literal">TRUE</span>, plot=<span class="hljs-literal">TRUE</span>)</code></pre>
<pre><code class="hljs">## mtry = 3  OOB error = 13.57% 
## Searching left ...
## mtry = 2     OOB error = 13.46% 
## 0.007640068 0.01 
## Searching right ...
## mtry = 4     OOB error = 14.05% 
## -0.03593662 0.01</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-27-2.png" width="672"></p>
<pre class="r"><code class="hljs">best.m &lt;- mtry[mtry[, <span class="hljs-number">2</span>] == min(mtry[, <span class="hljs-number">2</span>]), <span class="hljs-number">1</span>]
print(mtry)</code></pre>
<pre><code class="hljs">##       mtry  OOBError
## 2.OOB    2 0.1346309
## 3.OOB    3 0.1356674
## 4.OOB    4 0.1405428</code></pre>
<pre class="r"><code class="hljs">print(best.m)</code></pre>
<pre><code class="hljs">## [1] 2</code></pre>
<pre class="r"><code class="hljs"><span class="hljs-comment">##### FINAL MODEL ######</span>
train.rf&lt;-randomForest(income~.,data=dat.train.rf,mtry=<span class="hljs-number">2</span>,ntree=<span class="hljs-number">500</span>,importance=<span class="hljs-literal">T</span>)
fit.pred&lt;-predict(train.rf,newdata=dat.train.rf,type=<span class="hljs-string">"prob"</span>)

varImpPlot(train.rf)</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-27-3.png" width="672"></p>
<pre class="r"><code class="hljs">pred &lt;- prediction(fit.pred[,<span class="hljs-number">2</span>], dat.train.rf$income)
roc.perf = performance(pred, measure = <span class="hljs-string">"tpr"</span>, x.measure = <span class="hljs-string">"fpr"</span>)
auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values
plot(roc.perf)
abline(a=<span class="hljs-number">0</span>, b= <span class="hljs-number">1</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-27-4.png" width="672"></p>
<pre class="r"><code class="hljs"><span class="hljs-comment">#Predict Validation Set I</span>
dat.val1.rf &lt;- test_na_as_cat %&gt;% select(income, rf.predictors, native_country)
dat.val1.rf &lt;- mutate_if(dat.val1.rf, is.character, ~ as.factor(as.factor(.x)))

<span class="hljs-comment">#Make test set factor levels match training used in model so predictions work</span>
levels(dat.val1.rf$native_country) &lt;- levels(dat.train.rf$native_country)

str(dat.train.rf)</code></pre>
<pre><code class="hljs">## 'data.frame':    26049 obs. of  13 variables:
##  $ income        : Factor w/ 2 levels "&lt;=50K","&gt;50K": 1 2 1 1 1 1 1 1 1 1 ...
##  $ age           : int  17 34 24 67 25 24 65 44 45 23 ...
##  $ workclass     : Factor w/ 9 levels "Federal-gov",..: 5 5 5 4 5 5 5 5 5 5 ...
##  $ education_num : int  7 9 10 9 8 13 5 10 9 9 ...
##  $ marital_status: Factor w/ 7 levels "Divorced","Married-AF-spouse",..: 5 3 5 1 5 5 7 3 5 3 ...
##  $ occupation    : Factor w/ 15 levels "Adm-clerical",..: 13 3 3 8 3 11 10 7 9 1 ...
##  $ relationship  : Factor w/ 6 levels "Husband","Not-in-family",..: 4 1 5 4 4 2 5 1 5 6 ...
##  $ race          : Factor w/ 5 levels "Amer-Indian-Eskimo",..: 5 5 1 5 5 5 3 5 3 5 ...
##  $ sex           : Factor w/ 2 levels "Female","Male": 1 2 2 2 2 2 1 2 1 1 ...
##  $ capital_gain  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  20 55 40 20 40 39 24 40 40 40 ...
##  $ native_country: Factor w/ 42 levels "Cambodia","Canada",..: 40 40 26 40 40 40 40 40 40 26 ...</code></pre>
<pre class="r"><code class="hljs">str(dat.val1.rf)</code></pre>
<pre><code class="hljs">## 'data.frame':    6512 obs. of  13 variables:
##  $ income        : Factor w/ 2 levels "&lt;=50K","&gt;50K": 1 1 2 2 2 2 1 1 2 1 ...
##  $ age           : int  53 28 52 31 37 30 25 38 40 19 ...
##  $ workclass     : Factor w/ 9 levels "Federal-gov",..: 5 5 7 5 5 8 7 5 5 5 ...
##  $ education_num : int  7 13 9 14 10 13 9 7 16 9 ...
##  $ marital_status: Factor w/ 7 levels "Divorced","Married-AF-spouse",..: 3 3 3 5 3 3 5 3 3 5 ...
##  $ occupation    : Factor w/ 15 levels "Adm-clerical",..: 6 11 4 11 4 11 5 13 11 3 ...
##  $ relationship  : Factor w/ 6 levels "Husband","Not-in-family",..: 1 6 1 2 1 1 4 1 1 4 ...
##  $ race          : Factor w/ 5 levels "Amer-Indian-Eskimo",..: 3 3 5 5 3 2 5 5 5 5 ...
##  $ sex           : Factor w/ 2 levels "Female","Male": 2 1 2 1 2 2 2 2 2 2 ...
##  $ capital_gain  : int  0 0 0 14084 0 0 0 0 0 0 ...
##  $ capital_loss  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ hours_per_week: int  40 40 45 50 80 40 35 50 60 40 ...
##  $ native_country: Factor w/ 42 levels "Cambodia","Canada",..: 38 5 38 38 38 18 38 38 38 38 ...</code></pre>
<pre class="r"><code class="hljs">pred.val1&lt;-predict(train.rf,newdata=dat.val1.rf,type=<span class="hljs-string">"prob"</span>)

pred &lt;- prediction(pred.val1[,<span class="hljs-number">2</span>], dat.val1.rf$income)
RF.roc = roc(response=dat.val1.rf$income,predictor=pred.val1[,<span class="hljs-number">2</span>],levels=c(<span class="hljs-string">"&lt;=50K"</span>,<span class="hljs-string">"&gt;50K"</span>))</code></pre>
<pre><code class="hljs">## Setting direction: controls &lt; cases</code></pre>
<pre class="r"><code class="hljs">auc.train &lt;- performance(pred, measure = <span class="hljs-string">"auc"</span>)
auc.train &lt;- auc.train@y.values
plot(RF.roc,print.thres=<span class="hljs-string">"best"</span>, main=<span class="hljs-string">"Random Forest"</span>)
text(x = <span class="hljs-number">.40</span>, y = <span class="hljs-number">.6</span>,paste(<span class="hljs-string">"AUC = "</span>, round(auc.train[[<span class="hljs-number">1</span>]],<span class="hljs-number">3</span>), sep = <span class="hljs-string">""</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-27-5.png" width="672"></p>
<pre class="r"><code class="hljs">threshold=<span class="hljs-number">0.367</span>
log.predclass&lt;-ifelse(pred.val1[,<span class="hljs-number">2</span>]&gt;threshold,<span class="hljs-string">"&gt;50K"</span>,<span class="hljs-string">"&lt;=50K"</span>)
log.predclass&lt;-factor(log.predclass)
confusionMatrix(log.predclass,dat.val1.rf$income)</code></pre>
<pre><code class="hljs">## Confusion Matrix and Statistics
## 
##           Reference
## Prediction &lt;=50K &gt;50K
##      &lt;=50K  3875  201
##      &gt;50K   1046 1390
##                                          
##                Accuracy : 0.8085         
##                  95% CI : (0.7987, 0.818)
##     No Information Rate : 0.7557         
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16      
##                                          
##                   Kappa : 0.5604         
##                                          
##  Mcnemar's Test P-Value : &lt; 2.2e-16      
##                                          
##             Sensitivity : 0.7874         
##             Specificity : 0.8737         
##          Pos Pred Value : 0.9507         
##          Neg Pred Value : 0.5706         
##              Prevalence : 0.7557         
##          Detection Rate : 0.5951         
##    Detection Prevalence : 0.6259         
##       Balanced Accuracy : 0.8306         
##                                          
##        'Positive' Class : &lt;=50K          
## </code></pre>
<p>Overlay ROC plots</p>
<pre class="r"><code class="hljs">roclist &lt;- list(<span class="hljs-string">"Base"</span> = base.roc,<span class="hljs-string">"Simple"</span> = simple.roc,<span class="hljs-string">"Complex"</span> = complex.roc, <span class="hljs-string">"QDA"</span> = qda.roc, <span class="hljs-string">"Random Forest"</span> = RF.roc)

ggroc(roclist, legacy.axes = <span class="hljs-literal">FALSE</span>) + scale_colour_manual(values = c(<span class="hljs-string">"black"</span>,<span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>, <span class="hljs-string">"red"</span>, <span class="hljs-string">"orange"</span>)) + ggtitle(<span class="hljs-string">"ROC Comparison by Model"</span>) + labs(x = <span class="hljs-string">"Specificity"</span>, y = <span class="hljs-string">"Sensitivity"</span>) + theme(legend.title=element_blank())+ coord_fixed() + theme(plot.title = element_text(hjust = <span class="hljs-number">0.5</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-28-1.png" width="672"></p>
<pre class="r"><code class="hljs">ggroc(roclist, legacy.axes = <span class="hljs-literal">TRUE</span>) + scale_colour_manual(values = c(<span class="hljs-string">"black"</span>,<span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>, <span class="hljs-string">"red"</span>, <span class="hljs-string">"orange"</span>)) + geom_abline(linetype = <span class="hljs-string">"dashed"</span>, size=<span class="hljs-number">0.2</span>) + ggtitle(<span class="hljs-string">"ROC Comparison by Model"</span>) + labs(x = <span class="hljs-string">"1 - Specificity"</span>, y = <span class="hljs-string">"Sensitivity"</span>) + theme(legend.title=element_blank())+ coord_fixed() + theme(plot.title = element_text(hjust = <span class="hljs-number">0.5</span>))</code></pre>
<p><img src="./EDA_and_modeling2_files/unnamed-chunk-28-2.png" width="672"></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>



<script>/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});
</script><script>/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.5",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.5",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.5",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.5",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.5",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.5",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.5",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.5",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),
d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.5",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);</script><script>/**
* @preserve HTML5 Shiv 3.7.2 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
*/
// Only run this code in IE 8
if (!!window.navigator.userAgent.match("MSIE 8")) {
!function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=t.elements;return"string"==typeof a?a.split(" "):a}function e(a,b){var c=t.elements;"string"!=typeof c&&(c=c.join(" ")),"string"!=typeof a&&(a=a.join(" ")),t.elements=c+" "+a,j(b)}function f(a){var b=s[a[q]];return b||(b={},r++,a[q]=r,s[r]=b),b}function g(a,c,d){if(c||(c=b),l)return c.createElement(a);d||(d=f(c));var e;return e=d.cache[a]?d.cache[a].cloneNode():p.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!e.canHaveChildren||o.test(a)||e.tagUrn?e:d.frag.appendChild(e)}function h(a,c){if(a||(a=b),l)return a.createDocumentFragment();c=c||f(a);for(var e=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)e.createElement(h[g]);return e}function i(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return t.shivMethods?g(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-:]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(t,b.frag)}function j(a){a||(a=b);var d=f(a);return!t.shivCSS||k||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||i(a,d),a}var k,l,m="3.7.2",n=a.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,q="_html5shiv",r=0,s={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",k="hidden"in a,l=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){k=!0,l=!0}}();var t={elements:n.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:m,shivCSS:n.shivCSS!==!1,supportsUnknownElements:l,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:j,createElement:g,createDocumentFragment:h,addElements:e};a.html5=t,j(b)}(this,document);
};
</script><script>/*! Respond.js v1.4.2: min/max-width media query polyfill * Copyright 2013 Scott Jehl
 * Licensed under https://github.com/scottjehl/Respond/blob/master/LICENSE-MIT
 *  */

// Only run this code in IE 8
if (!!window.navigator.userAgent.match("MSIE 8")) {
!function(a){"use strict";a.matchMedia=a.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(a.document)}(this),function(a){"use strict";function b(){u(!0)}var c={};a.respond=c,c.update=function(){};var d=[],e=function(){var b=!1;try{b=new a.XMLHttpRequest}catch(c){b=new a.ActiveXObject("Microsoft.XMLHTTP")}return function(){return b}}(),f=function(a,b){var c=e();c&&(c.open("GET",a,!0),c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&304!==c.status||b(c.responseText)},4!==c.readyState&&c.send(null))};if(c.ajax=f,c.queue=d,c.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},c.mediaQueriesSupported=a.matchMedia&&null!==a.matchMedia("only all")&&a.matchMedia("only all").matches,!c.mediaQueriesSupported){var g,h,i,j=a.document,k=j.documentElement,l=[],m=[],n=[],o={},p=30,q=j.getElementsByTagName("head")[0]||k,r=j.getElementsByTagName("base")[0],s=q.getElementsByTagName("link"),t=function(){var a,b=j.createElement("div"),c=j.body,d=k.style.fontSize,e=c&&c.style.fontSize,f=!1;return b.style.cssText="position:absolute;font-size:1em;width:1em",c||(c=f=j.createElement("body"),c.style.background="none"),k.style.fontSize="100%",c.style.fontSize="100%",c.appendChild(b),f&&k.insertBefore(c,k.firstChild),a=b.offsetWidth,f?k.removeChild(c):c.removeChild(b),k.style.fontSize=d,e&&(c.style.fontSize=e),a=i=parseFloat(a)},u=function(b){var c="clientWidth",d=k[c],e="CSS1Compat"===j.compatMode&&d||j.body[c]||d,f={},o=s[s.length-1],r=(new Date).getTime();if(b&&g&&p>r-g)return a.clearTimeout(h),h=a.setTimeout(u,p),void 0;g=r;for(var v in l)if(l.hasOwnProperty(v)){var w=l[v],x=w.minw,y=w.maxw,z=null===x,A=null===y,B="em";x&&(x=parseFloat(x)*(x.indexOf(B)>-1?i||t():1)),y&&(y=parseFloat(y)*(y.indexOf(B)>-1?i||t():1)),w.hasquery&&(z&&A||!(z||e>=x)||!(A||y>=e))||(f[w.media]||(f[w.media]=[]),f[w.media].push(m[w.rules]))}for(var C in n)n.hasOwnProperty(C)&&n[C]&&n[C].parentNode===q&&q.removeChild(n[C]);n.length=0;for(var D in f)if(f.hasOwnProperty(D)){var E=j.createElement("style"),F=f[D].join("\n");E.type="text/css",E.media=D,q.insertBefore(E,o.nextSibling),E.styleSheet?E.styleSheet.cssText=F:E.appendChild(j.createTextNode(F)),n.push(E)}},v=function(a,b,d){var e=a.replace(c.regex.keyframes,"").match(c.regex.media),f=e&&e.length||0;b=b.substring(0,b.lastIndexOf("/"));var g=function(a){return a.replace(c.regex.urls,"$1"+b+"$2$3")},h=!f&&d;b.length&&(b+="/"),h&&(f=1);for(var i=0;f>i;i++){var j,k,n,o;h?(j=d,m.push(g(a))):(j=e[i].match(c.regex.findStyles)&&RegExp.$1,m.push(RegExp.$2&&g(RegExp.$2))),n=j.split(","),o=n.length;for(var p=0;o>p;p++)k=n[p],l.push({media:k.split("(")[0].match(c.regex.only)&&RegExp.$2||"all",rules:m.length-1,hasquery:k.indexOf("(")>-1,minw:k.match(c.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:k.match(c.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}u()},w=function(){if(d.length){var b=d.shift();f(b.href,function(c){v(c,b.href,b.media),o[b.href]=!0,a.setTimeout(function(){w()},0)})}},x=function(){for(var b=0;b<s.length;b++){var c=s[b],e=c.href,f=c.media,g=c.rel&&"stylesheet"===c.rel.toLowerCase();e&&g&&!o[e]&&(c.styleSheet&&c.styleSheet.rawCssText?(v(c.styleSheet.rawCssText,e,f),o[e]=!0):(!/^([a-zA-Z:]*\/\/)/.test(e)&&!r||e.replace(RegExp.$1,"").split("/")[0]===a.location.host)&&("//"===e.substring(0,2)&&(e=a.location.protocol+e),d.push({href:e,media:f})))}w()};x(),c.update=x,c.getEmValue=t,a.addEventListener?a.addEventListener("resize",b,!1):a.attachEvent&&a.attachEvent("onresize",b)}}(this);
};
</script><script>

/**
 * jQuery Plugin: Sticky Tabs
 *
 * @author Aidan Lister <aidan@php.net>
 * adapted by Ruben Arslan to activate parent tabs too
 * http://www.aidanlister.com/2014/03/persisting-the-tab-state-in-bootstrap/
 */
(function($) {
  "use strict";
  $.fn.rmarkdownStickyTabs = function() {
    var context = this;
    // Show the tab corresponding with the hash in the URL, or the first tab
    var showStuffFromHash = function() {
      var hash = window.location.hash;
      var selector = hash ? 'a[href="' + hash + '"]' : 'li.active > a';
      var $selector = $(selector, context);
      if($selector.data('toggle') === "tab") {
        $selector.tab('show');
        // walk up the ancestors of this element, show any hidden tabs
        $selector.parents('.section.tabset').each(function(i, elm) {
          var link = $('a[href="#' + $(elm).attr('id') + '"]');
          if(link.data('toggle') === "tab") {
            link.tab("show");
          }
        });
      }
    };


    // Set the correct tab when the page loads
    showStuffFromHash(context);

    // Set the correct tab when a user uses their back/forward button
    $(window).on('hashchange', function() {
      showStuffFromHash(context);
    });

    // Change the URL when tabs are clicked
    $('a', context).on('click', function(e) {
      history.pushState(null, null, this.href);
      showStuffFromHash(context);
    });

    return this;
  };
}(jQuery));

window.buildTabsets = function(tocID) {

  // build a tabset from a section div with the .tabset class
  function buildTabset(tabset) {

    // check for fade and pills options
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // remove any table of contents entries associated with
      // this ID (since we'll be removing the heading element)
      $("div#" + tocID + " li a[href='#" + id + "']").parent().remove();

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it, grab it's text, then remove it
      var heading = tab.find('h' + tabLevel + ':first');
      var headingText = heading.html();
      heading.remove();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab">' + headingText + '</a>');
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children('li')[activeTab]).addClass('active');
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    if (tabset.hasClass("tabset-sticky"))
      tabset.rmarkdownStickyTabs();
  }

  // convert section divs with the .tabset class to tabsets
  var tabsets = $("div.section.tabset");
  tabsets.each(function(i) {
    buildTabset($(tabsets[i]));
  });
};

</script><script>/*! highlight.js v9.12.0 | BSD3 License | git.io/hljslicense */
!function(e){var n="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):n&&(n.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return n.hljs}))}(function(e){function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0===t.index}function a(e){return k.test(e)}function i(e){var n,t,r,i,o=e.className+" ";if(o+=e.parentNode?e.parentNode.className:"",t=B.exec(o))return w(t[1])?t[1]:"no-highlight";for(o=o.split(/\s+/),n=0,r=o.length;r>n;n++)if(i=o[n],a(i)||w(i))return i}function o(e){var n,t={},r=Array.prototype.slice.call(arguments,1);for(n in e)t[n]=e[n];return r.forEach(function(e){for(n in e)t[n]=e[n]}),t}function u(e){var n=[];return function r(e,a){for(var i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?a+=i.nodeValue.length:1===i.nodeType&&(n.push({event:"start",offset:a,node:i}),a=r(i,a),t(i).match(/br|hr|img|input/)||n.push({event:"stop",offset:a,node:i}));return a}(e,0),n}function c(e,r,a){function i(){return e.length&&r.length?e[0].offset!==r[0].offset?e[0].offset<r[0].offset?e:r:"start"===r[0].event?e:r:e.length?e:r}function o(e){function r(e){return" "+e.nodeName+'="'+n(e.value).replace('"',"&quot;")+'"'}s+="<"+t(e)+E.map.call(e.attributes,r).join("")+">"}function u(e){s+="</"+t(e)+">"}function c(e){("start"===e.event?o:u)(e.node)}for(var l=0,s="",f=[];e.length||r.length;){var g=i();if(s+=n(a.substring(l,g[0].offset)),l=g[0].offset,g===e){f.reverse().forEach(u);do c(g.splice(0,1)[0]),g=i();while(g===e&&g.length&&g[0].offset===l);f.reverse().forEach(o)}else"start"===g[0].event?f.push(g[0].node):f.pop(),c(g.splice(0,1)[0])}return s+n(a.substr(l))}function l(e){return e.v&&!e.cached_variants&&(e.cached_variants=e.v.map(function(n){return o(e,{v:null},n)})),e.cached_variants||e.eW&&[o(e)]||[e]}function s(e){function n(e){return e&&e.source||e}function t(t,r){return new RegExp(n(t),"m"+(e.cI?"i":"")+(r?"g":""))}function r(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var o={},u=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");o[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof a.k?u("keyword",a.k):x(a.k).forEach(function(e){u(e,a.k[e])}),a.k=o}a.lR=t(a.l||/\w+/,!0),i&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||"",a.eW&&i.tE&&(a.tE+=(a.e?"|":"")+i.tE)),a.i&&(a.iR=t(a.i)),null==a.r&&(a.r=1),a.c||(a.c=[]),a.c=Array.prototype.concat.apply([],a.c.map(function(e){return l("self"===e?a:e)})),a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,i);var c=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=c.length?t(c.join("|"),!0):{exec:function(){return null}}}}r(e)}function f(e,t,a,i){function o(e,n){var t,a;for(t=0,a=n.c.length;a>t;t++)if(r(n.c[t].bR,e))return n.c[t]}function u(e,n){if(r(e.eR,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?u(e.parent,n):void 0}function c(e,n){return!a&&r(n.iR,e)}function l(e,n){var t=N.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function p(e,n,t,r){var a=r?"":I.classPrefix,i='<span class="'+a,o=t?"":C;return i+=e+'">',i+n+o}function h(){var e,t,r,a;if(!E.k)return n(k);for(a="",t=0,E.lR.lastIndex=0,r=E.lR.exec(k);r;)a+=n(k.substring(t,r.index)),e=l(E,r),e?(B+=e[1],a+=p(e[0],n(r[0]))):a+=n(r[0]),t=E.lR.lastIndex,r=E.lR.exec(k);return a+n(k.substr(t))}function d(){var e="string"==typeof E.sL;if(e&&!y[E.sL])return n(k);var t=e?f(E.sL,k,!0,x[E.sL]):g(k,E.sL.length?E.sL:void 0);return E.r>0&&(B+=t.r),e&&(x[E.sL]=t.top),p(t.language,t.value,!1,!0)}function b(){L+=null!=E.sL?d():h(),k=""}function v(e){L+=e.cN?p(e.cN,"",!0):"",E=Object.create(e,{parent:{value:E}})}function m(e,n){if(k+=e,null==n)return b(),0;var t=o(n,E);if(t)return t.skip?k+=n:(t.eB&&(k+=n),b(),t.rB||t.eB||(k=n)),v(t,n),t.rB?0:n.length;var r=u(E,n);if(r){var a=E;a.skip?k+=n:(a.rE||a.eE||(k+=n),b(),a.eE&&(k=n));do E.cN&&(L+=C),E.skip||(B+=E.r),E=E.parent;while(E!==r.parent);return r.starts&&v(r.starts,""),a.rE?0:n.length}if(c(n,E))throw new Error('Illegal lexeme "'+n+'" for mode "'+(E.cN||"<unnamed>")+'"');return k+=n,n.length||1}var N=w(e);if(!N)throw new Error('Unknown language: "'+e+'"');s(N);var R,E=i||N,x={},L="";for(R=E;R!==N;R=R.parent)R.cN&&(L=p(R.cN,"",!0)+L);var k="",B=0;try{for(var M,j,O=0;;){if(E.t.lastIndex=O,M=E.t.exec(t),!M)break;j=m(t.substring(O,M.index),M[0]),O=M.index+j}for(m(t.substr(O)),R=E;R.parent;R=R.parent)R.cN&&(L+=C);return{r:B,value:L,language:e,top:E}}catch(T){if(T.message&&-1!==T.message.indexOf("Illegal"))return{r:0,value:n(t)};throw T}}function g(e,t){t=t||I.languages||x(y);var r={r:0,value:n(e)},a=r;return t.filter(w).forEach(function(n){var t=f(n,e,!1);t.language=n,t.r>a.r&&(a=t),t.r>r.r&&(a=r,r=t)}),a.language&&(r.second_best=a),r}function p(e){return I.tabReplace||I.useBR?e.replace(M,function(e,n){return I.useBR&&"\n"===e?"<br>":I.tabReplace?n.replace(/\t/g,I.tabReplace):""}):e}function h(e,n,t){var r=n?L[n]:t,a=[e.trim()];return e.match(/\bhljs\b/)||a.push("hljs"),-1===e.indexOf(r)&&a.push(r),a.join(" ").trim()}function d(e){var n,t,r,o,l,s=i(e);a(s)||(I.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e,l=n.textContent,r=s?f(s,l,!0):g(l),t=u(n),t.length&&(o=document.createElementNS("http://www.w3.org/1999/xhtml","div"),o.innerHTML=r.value,r.value=c(t,u(o),l)),r.value=p(r.value),e.innerHTML=r.value,e.className=h(e.className,s,r.language),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function b(e){I=o(I,e)}function v(){if(!v.called){v.called=!0;var e=document.querySelectorAll("pre code");E.forEach.call(e,d)}}function m(){addEventListener("DOMContentLoaded",v,!1),addEventListener("load",v,!1)}function N(n,t){var r=y[n]=t(e);r.aliases&&r.aliases.forEach(function(e){L[e]=n})}function R(){return x(y)}function w(e){return e=(e||"").toLowerCase(),y[e]||y[L[e]]}var E=[],x=Object.keys,y={},L={},k=/^(no-?highlight|plain|text)$/i,B=/\blang(?:uage)?-([\w-]+)\b/i,M=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,C="</span>",I={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return e.highlight=f,e.highlightAuto=g,e.fixMarkup=p,e.highlightBlock=d,e.configure=b,e.initHighlighting=v,e.initHighlightingOnLoad=m,e.registerLanguage=N,e.listLanguages=R,e.getLanguage=w,e.inherit=o,e.IR="[a-zA-Z]\\w*",e.UIR="[a-zA-Z_]\\w*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.C=function(n,t,r){var a=e.inherit({cN:"comment",b:n,e:t,c:[]},r||{});return a.c.push(e.PWM),a.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),a},e.CLCM=e.C("//","$"),e.CBCM=e.C("/\\*","\\*/"),e.HCM=e.C("#","$"),e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e.METHOD_GUARD={b:"\\.\\s*"+e.UIR,r:0},e});hljs.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>{}*#]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}});hljs.registerLanguage("r",function(e){var r="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[e.HCM,{b:r,l:r,k:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",c:[e.BE],v:[{b:'"',e:'"'},{b:"'",e:"'"}]}]}});hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",r={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},s={b:"->{",e:"}"},n={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},i=[e.BE,r,n],o=[n,e.HCM,e.C("^\\=\\w","\\=cut",{eW:!0}),s,{cN:"string",c:i,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[e.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return r.c=o,s.c=o,{aliases:["pl","pm"],l:/[\w\.]+/,k:t,c:o}});hljs.registerLanguage("ini",function(e){var b={cN:"string",c:[e.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[e.C(";","$"),e.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},b,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},e.NM]}]}]}});hljs.registerLanguage("diff",function(e){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}});hljs.registerLanguage("go",function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],k:t,i:"</",c:[e.CLCM,e.CBCM,{cN:"string",v:[e.QSM,{b:"'",e:"[^\\\\]'"},{b:"`",e:"`"}]},{cN:"number",v:[{b:e.CNR+"[dflsi]",r:1},e.CNM]},{b:/:=/},{cN:"function",bK:"func",e:/\s*\{/,eE:!0,c:[e.TM,{cN:"params",b:/\(/,e:/\)/,k:t,i:/["']/}]}]}});hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},s={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},a={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,s,a,t]}});hljs.registerLanguage("python",function(e){var r={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},b={cN:"meta",b:/^(>>>|\.\.\.) /},c={cN:"subst",b:/\{/,e:/\}/,k:r,i:/#/},a={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[b],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[b],r:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[b,c]},{b:/(fr|rf|f)"""/,e:/"""/,c:[b,c]},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[c]},{b:/(fr|rf|f)"/,e:/"/,c:[c]},e.ASM,e.QSM]},s={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},i={cN:"params",b:/\(/,e:/\)/,c:["self",b,s,a]};return c.c=[a,s,b],{aliases:["py","gyp"],k:r,i:/(<\/|->|\?)|=>/,c:[b,s,a,e.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,i,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}});hljs.registerLanguage("julia",function(e){var r={keyword:"in isa where baremodule begin break catch ccall const continue do else elseif end export false finally for function global if import importall let local macro module quote return true try using while type immutable abstract bitstype typealias ",literal:"true false ARGS C_NULL DevNull ENDIAN_BOM ENV I Inf Inf16 Inf32 Inf64 InsertionSort JULIA_HOME LOAD_PATH MergeSort NaN NaN16 NaN32 NaN64 PROGRAM_FILE QuickSort RoundDown RoundFromZero RoundNearest RoundNearestTiesAway RoundNearestTiesUp RoundToZero RoundUp STDERR STDIN STDOUT VERSION catalan e|0 eu|0 eulergamma golden im nothing pi γ π φ ",built_in:"ANY AbstractArray AbstractChannel AbstractFloat AbstractMatrix AbstractRNG AbstractSerializer AbstractSet AbstractSparseArray AbstractSparseMatrix AbstractSparseVector AbstractString AbstractUnitRange AbstractVecOrMat AbstractVector Any ArgumentError Array AssertionError Associative Base64DecodePipe Base64EncodePipe Bidiagonal BigFloat BigInt BitArray BitMatrix BitVector Bool BoundsError BufferStream CachingPool CapturedException CartesianIndex CartesianRange Cchar Cdouble Cfloat Channel Char Cint Cintmax_t Clong Clonglong ClusterManager Cmd CodeInfo Colon Complex Complex128 Complex32 Complex64 CompositeException Condition ConjArray ConjMatrix ConjVector Cptrdiff_t Cshort Csize_t Cssize_t Cstring Cuchar Cuint Cuintmax_t Culong Culonglong Cushort Cwchar_t Cwstring DataType Date DateFormat DateTime DenseArray DenseMatrix DenseVecOrMat DenseVector Diagonal Dict DimensionMismatch Dims DirectIndexString Display DivideError DomainError EOFError EachLine Enum Enumerate ErrorException Exception ExponentialBackOff Expr Factorization FileMonitor Float16 Float32 Float64 Function Future GlobalRef GotoNode HTML Hermitian IO IOBuffer IOContext IOStream IPAddr IPv4 IPv6 IndexCartesian IndexLinear IndexStyle InexactError InitError Int Int128 Int16 Int32 Int64 Int8 IntSet Integer InterruptException InvalidStateException Irrational KeyError LabelNode LinSpace LineNumberNode LoadError LowerTriangular MIME Matrix MersenneTwister Method MethodError MethodTable Module NTuple NewvarNode NullException Nullable Number ObjectIdDict OrdinalRange OutOfMemoryError OverflowError Pair ParseError PartialQuickSort PermutedDimsArray Pipe PollingFileWatcher ProcessExitedException Ptr QuoteNode RandomDevice Range RangeIndex Rational RawFD ReadOnlyMemoryError Real ReentrantLock Ref Regex RegexMatch RemoteChannel RemoteException RevString RoundingMode RowVector SSAValue SegmentationFault SerializationState Set SharedArray SharedMatrix SharedVector Signed SimpleVector Slot SlotNumber SparseMatrixCSC SparseVector StackFrame StackOverflowError StackTrace StepRange StepRangeLen StridedArray StridedMatrix StridedVecOrMat StridedVector String SubArray SubString SymTridiagonal Symbol Symmetric SystemError TCPSocket Task Text TextDisplay Timer Tridiagonal Tuple Type TypeError TypeMapEntry TypeMapLevel TypeName TypeVar TypedSlot UDPSocket UInt UInt128 UInt16 UInt32 UInt64 UInt8 UndefRefError UndefVarError UnicodeError UniformScaling Union UnionAll UnitRange Unsigned UpperTriangular Val Vararg VecElement VecOrMat Vector VersionNumber Void WeakKeyDict WeakRef WorkerConfig WorkerPool "},t="[A-Za-z_\\u00A1-\\uFFFF][A-Za-z_0-9\\u00A1-\\uFFFF]*",a={l:t,k:r,i:/<\//},n={cN:"number",b:/(\b0x[\d_]*(\.[\d_]*)?|0x\.\d[\d_]*)p[-+]?\d+|\b0[box][a-fA-F0-9][a-fA-F0-9_]*|(\b\d[\d_]*(\.[\d_]*)?|\.\d[\d_]*)([eEfF][-+]?\d+)?/,r:0},o={cN:"string",b:/'(.|\\[xXuU][a-zA-Z0-9]+)'/},i={cN:"subst",b:/\$\(/,e:/\)/,k:r},l={cN:"variable",b:"\\$"+t},c={cN:"string",c:[e.BE,i,l],v:[{b:/\w*"""/,e:/"""\w*/,r:10},{b:/\w*"/,e:/"\w*/}]},s={cN:"string",c:[e.BE,i,l],b:"`",e:"`"},d={cN:"meta",b:"@"+t},u={cN:"comment",v:[{b:"#=",e:"=#",r:10},{b:"#",e:"$"}]};return a.c=[n,o,c,s,d,u,e.HCM,{cN:"keyword",b:"\\b(((abstract|primitive)\\s+)type|(mutable\\s+)?struct)\\b"},{b:/<:/}],i.c=a.c,a});hljs.registerLanguage("coffeescript",function(e){var c={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",r={cN:"subst",b:/#\{/,e:/}/,k:c},i=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,r]},{b:/"/,e:/"/,c:[e.BE,r]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[r,e.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@"+n},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];r.c=i;var s=e.inherit(e.TM,{b:n}),t="(\\(.*\\))?\\s*\\B[-=]>",o={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:c,c:["self"].concat(i)}]};return{aliases:["coffee","cson","iced"],k:c,i:/\/\*/,c:i.concat([e.C("###","###"),e.HCM,{cN:"function",b:"^\\s*"+n+"\\s*=\\s*"+t,e:"[-=]>",rB:!0,c:[s,o]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:t,e:"[-=]>",rB:!0,c:[o]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[s]},s]},{b:n+":",e:":",rB:!0,rE:!0,r:0}])}});hljs.registerLanguage("cpp",function(t){var e={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},r={cN:"string",v:[{b:'(u8?|U)?L?"',e:'"',i:"\\n",c:[t.BE]},{b:'(u8?|U)?R"',e:'"',c:[t.BE]},{b:"'\\\\?.",e:"'",i:"."}]},s={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],r:0},i={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,r:0},t.inherit(r,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},t.CLCM,t.CBCM]},a=t.IR+"\\s*\\(",c={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},n=[e,t.CLCM,t.CBCM,s,r];return{aliases:["c","cc","h","c++","h++","hpp"],k:c,i:"</",c:n.concat([i,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:c,c:["self",e]},{b:t.IR+"::",k:c},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:c,c:n.concat([{b:/\(/,e:/\)/,k:c,c:n.concat(["self"]),r:0}]),r:0},{cN:"function",b:"("+t.IR+"[\\*&\\s]+)+"+a,rB:!0,e:/[{;=]/,eE:!0,k:c,i:/[^\w\s\*&]/,c:[{b:a,rB:!0,c:[t.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:c,r:0,c:[t.CLCM,t.CBCM,r,s,e]},t.CLCM,t.CBCM,i]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},t.TM]}]),exports:{preprocessor:i,strings:r,k:c}}});hljs.registerLanguage("ruby",function(e){var b="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},c={cN:"doctag",b:"@[A-Za-z]+"},a={b:"#<",e:">"},s=[e.C("#","$",{c:[c]}),e.C("^\\=begin","^\\=end",{c:[c],r:10}),e.C("^__END__","\\n$")],n={cN:"subst",b:"#\\{",e:"}",k:r},t={cN:"string",c:[e.BE,n],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<(-?)\w+$/,e:/^\s*\w+$/}]},i={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:r},d=[t,a,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(s)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:b}),i].concat(s)},{b:e.IR+"::"},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[t,{b:b}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:r},{b:"("+e.RSR+"|unless)\\s*",k:"unless",c:[a,{cN:"regexp",c:[e.BE,n],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(s),r:0}].concat(s);n.c=d,i.c=d;var l="[>?]>",o="[\\w#]+\\(\\w+\\):\\d+:\\d+>",u="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",w=[{b:/^\s*=>/,starts:{e:"$",c:d}},{cN:"meta",b:"^("+l+"|"+o+"|"+u+")",starts:{e:"$",c:d}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,i:/\/\*/,c:s.concat(w).concat(d)}});hljs.registerLanguage("yaml",function(e){var b="true false yes no null",a="^[ \\-]*",r="[a-zA-Z_][\\w\\-]*",t={cN:"attr",v:[{b:a+r+":"},{b:a+'"'+r+'":'},{b:a+"'"+r+"':"}]},c={cN:"template-variable",v:[{b:"{{",e:"}}"},{b:"%{",e:"}"}]},l={cN:"string",r:0,v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/\S+/}],c:[e.BE,c]};return{cI:!0,aliases:["yml","YAML","yaml"],c:[t,{cN:"meta",b:"^---s*$",r:10},{cN:"string",b:"[\\|>] *$",rE:!0,c:l.c,e:t.v[0].b},{b:"<%[%=-]?",e:"[%-]?%>",sL:"ruby",eB:!0,eE:!0,r:0},{cN:"type",b:"!!"+e.UIR},{cN:"meta",b:"&"+e.UIR+"$"},{cN:"meta",b:"\\*"+e.UIR+"$"},{cN:"bullet",b:"^ *-",r:0},e.HCM,{bK:b,k:{literal:b}},e.CNM,l]}});hljs.registerLanguage("css",function(e){var c="[a-zA-Z-][a-zA-Z0-9_-]*",t={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:c,r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}});hljs.registerLanguage("fortran",function(e){var t={cN:"params",b:"\\(",e:"\\)"},n={literal:".False. .True.",keyword:"kind do while private call intrinsic where elsewhere type endtype endmodule endselect endinterface end enddo endif if forall endforall only contains default return stop then public subroutine|10 function program .and. .or. .not. .le. .eq. .ge. .gt. .lt. goto save else use module select case access blank direct exist file fmt form formatted iostat name named nextrec number opened rec recl sequential status unformatted unit continue format pause cycle exit c_null_char c_alert c_backspace c_form_feed flush wait decimal round iomsg synchronous nopass non_overridable pass protected volatile abstract extends import non_intrinsic value deferred generic final enumerator class associate bind enum c_int c_short c_long c_long_long c_signed_char c_size_t c_int8_t c_int16_t c_int32_t c_int64_t c_int_least8_t c_int_least16_t c_int_least32_t c_int_least64_t c_int_fast8_t c_int_fast16_t c_int_fast32_t c_int_fast64_t c_intmax_t C_intptr_t c_float c_double c_long_double c_float_complex c_double_complex c_long_double_complex c_bool c_char c_null_ptr c_null_funptr c_new_line c_carriage_return c_horizontal_tab c_vertical_tab iso_c_binding c_loc c_funloc c_associated  c_f_pointer c_ptr c_funptr iso_fortran_env character_storage_size error_unit file_storage_size input_unit iostat_end iostat_eor numeric_storage_size output_unit c_f_procpointer ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode newunit contiguous recursive pad position action delim readwrite eor advance nml interface procedure namelist include sequence elemental pure integer real character complex logical dimension allocatable|10 parameter external implicit|10 none double precision assign intent optional pointer target in out common equivalence data",built_in:"alog alog10 amax0 amax1 amin0 amin1 amod cabs ccos cexp clog csin csqrt dabs dacos dasin datan datan2 dcos dcosh ddim dexp dint dlog dlog10 dmax1 dmin1 dmod dnint dsign dsin dsinh dsqrt dtan dtanh float iabs idim idint idnint ifix isign max0 max1 min0 min1 sngl algama cdabs cdcos cdexp cdlog cdsin cdsqrt cqabs cqcos cqexp cqlog cqsin cqsqrt dcmplx dconjg derf derfc dfloat dgamma dimag dlgama iqint qabs qacos qasin qatan qatan2 qcmplx qconjg qcos qcosh qdim qerf qerfc qexp qgamma qimag qlgama qlog qlog10 qmax1 qmin1 qmod qnint qsign qsin qsinh qsqrt qtan qtanh abs acos aimag aint anint asin atan atan2 char cmplx conjg cos cosh exp ichar index int log log10 max min nint sign sin sinh sqrt tan tanh print write dim lge lgt lle llt mod nullify allocate deallocate adjustl adjustr all allocated any associated bit_size btest ceiling count cshift date_and_time digits dot_product eoshift epsilon exponent floor fraction huge iand ibclr ibits ibset ieor ior ishft ishftc lbound len_trim matmul maxexponent maxloc maxval merge minexponent minloc minval modulo mvbits nearest pack present product radix random_number random_seed range repeat reshape rrspacing scale scan selected_int_kind selected_real_kind set_exponent shape size spacing spread sum system_clock tiny transpose trim ubound unpack verify achar iachar transfer dble entry dprod cpu_time command_argument_count get_command get_command_argument get_environment_variable is_iostat_end ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode is_iostat_eor move_alloc new_line selected_char_kind same_type_as extends_type_ofacosh asinh atanh bessel_j0 bessel_j1 bessel_jn bessel_y0 bessel_y1 bessel_yn erf erfc erfc_scaled gamma log_gamma hypot norm2 atomic_define atomic_ref execute_command_line leadz trailz storage_size merge_bits bge bgt ble blt dshiftl dshiftr findloc iall iany iparity image_index lcobound ucobound maskl maskr num_images parity popcnt poppar shifta shiftl shiftr this_image"};return{cI:!0,aliases:["f90","f95"],k:n,i:/\/\*/,c:[e.inherit(e.ASM,{cN:"string",r:0}),e.inherit(e.QSM,{cN:"string",r:0}),{cN:"function",bK:"subroutine function program",i:"[${=\\n]",c:[e.UTM,t]},e.C("!","$",{r:0}),{cN:"number",b:"(?=\\b|\\+|\\-|\\.)(?=\\.\\d|\\d)(?:\\d+)?(?:\\.?\\d*)(?:[de][+-]?\\d+)?\\b\\.?",r:0}]}});hljs.registerLanguage("awk",function(e){var r={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},b="BEGIN END if else while do for in break continue delete next nextfile function func exit|10",n={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,r:10},{b:/(u|b)?r?"""/,e:/"""/,r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]};return{k:{keyword:b},c:[r,n,e.RM,e.HCM,e.NM]}});hljs.registerLanguage("makefile",function(e){var i={cN:"variable",v:[{b:"\\$\\("+e.UIR+"\\)",c:[e.BE]},{b:/\$[@%<?\^\+\*]/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,i]},a={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[i]},n={b:"^"+e.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+e.UIR,e:"[:+?]?=",eE:!0}]},t={cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},l={cN:"section",b:/^[^\s]+:/,e:/$/,c:[i]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[e.HCM,i,r,a,n,t,l]}});hljs.registerLanguage("java",function(e){var a="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",t=a+"(<"+a+"(\\s*,\\s*"+a+")*>)?",r="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",s="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",c={cN:"number",b:s,r:0};return{aliases:["jsp"],k:r,i:/<\/|#/,c:[e.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"("+t+"\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:r,c:[{b:e.UIR+"\\s*\\(",rB:!0,r:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:r,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},c,{cN:"meta",b:"@[A-Za-z]+"}]}});hljs.registerLanguage("stan",function(e){return{c:[e.HCM,e.CLCM,e.CBCM,{b:e.UIR,l:e.UIR,k:{name:"for in while repeat until if then else",symbol:"bernoulli bernoulli_logit binomial binomial_logit beta_binomial hypergeometric categorical categorical_logit ordered_logistic neg_binomial neg_binomial_2 neg_binomial_2_log poisson poisson_log multinomial normal exp_mod_normal skew_normal student_t cauchy double_exponential logistic gumbel lognormal chi_square inv_chi_square scaled_inv_chi_square exponential inv_gamma weibull frechet rayleigh wiener pareto pareto_type_2 von_mises uniform multi_normal multi_normal_prec multi_normal_cholesky multi_gp multi_gp_cholesky multi_student_t gaussian_dlm_obs dirichlet lkj_corr lkj_corr_cholesky wishart inv_wishart","selector-tag":"int real vector simplex unit_vector ordered positive_ordered row_vector matrix cholesky_factor_corr cholesky_factor_cov corr_matrix cov_matrix",title:"functions model data parameters quantities transformed generated",literal:"true false"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0}]}});hljs.registerLanguage("javascript",function(e){var r="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:t,c:[]},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:t,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\s*/,r:0,c:[{b:r+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:r,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+r+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:r},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:s}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}});hljs.registerLanguage("tex",function(c){var e={cN:"tag",b:/\\/,r:0,c:[{cN:"name",v:[{b:/[a-zA-Zа-яА-я]+[*]?/},{b:/[^a-zA-Zа-яА-я0-9]/}],starts:{eW:!0,r:0,c:[{cN:"string",v:[{b:/\[/,e:/\]/},{b:/\{/,e:/\}/}]},{b:/\s*=\s*/,eW:!0,r:0,c:[{cN:"number",b:/-?\d*\.?\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?/}]}]}}]};return{c:[e,{cN:"formula",c:[e],r:0,v:[{b:/\$\$/,e:/\$\$/},{b:/\$/,e:/\$/}]},c.C("%","$",{r:0})]}});hljs.registerLanguage("xml",function(s){var e="[A-Za-z0-9\\._:-]+",t={eW:!0,i:/</,r:0,c:[{cN:"attr",b:e,r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},s.C("<!--","-->",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[t],starts:{e:"</script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},t]}]}});hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}});hljs.registerLanguage("json",function(e){var i={literal:"true false null"},n=[e.QSM,e.CNM],r={e:",",eW:!0,eE:!0,c:n,k:i},t={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(r,{b:/:/})],i:"\\S"},c={b:"\\[",e:"\\]",c:[e.inherit(r)],i:"\\S"};return n.splice(n.length,0,t,c),{c:n,k:i,i:"\\S"}});</script><script>
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script><script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script><script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script></body></html>